(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3946],{72821:function(i,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cancel-request/[id]",function(){return n(17208)}])},16278:function(i,e,n){"use strict";var l=n(85893);n(67294);var s=n(13029),r=n(46901);e.Z=i=>{let{open:e,onClose:n,message:o}=i;return(0,l.jsx)(s.Z,{open:e,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,l.jsx)(r.Z,{onClose:n,severity:"success",sx:{width:"100%"},children:o})})}},70515:function(i,e,n){"use strict";var l=n(85893);n(67294);var s=n(13029),r=n(46901);e.Z=i=>{let{open:e,onClose:n,message:o}=i;return(0,l.jsx)(s.Z,{open:e,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,l.jsx)(r.Z,{onClose:n,variant:"filled",severity:"error",sx:{width:"100%"},children:o})})}},17208:function(i,e,n){"use strict";n.r(e);var l=n(85893),s=n(67294),r=n(11163),o=n(41664),t=n.n(o),d=n(9008),a=n.n(d),c=n(37645),x=n(50594),u=n(36822),h=n(21214),p=n(16216),g=n(15861),v=n(66242),j=n(86886),m=n(83321),Z=n(50135),f=n(39620),_=n(35110),S=n(9424),E=n(40294),b=n(16278),y=n(70515),T=n(50657),P=n(31425),C=n(16310),A=n(28482),D=n(35191),I=n(2664),w=n(30015),R=n(32912);let k=i=>{var e,n,o,d,f,I,w,k,N,M,O,U,W,z,L,B,G,F,q,J,Q,H;let V=(0,r.useRouter)(),{id:X}=V.query,[Y,K]=(0,s.useState)([]),[$,ii]=(0,s.useState)(null),[ie,il]=(0,s.useState)([]),[is,ir]=(0,s.useState)(""),[io,it]=(0,s.useState)(!1),[id,ia]=(0,s.useState)(!1),[ic,ix]=(0,s.useState)(!1),[iu,ih]=(0,s.useState)(!1),[ip,ig]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(0,_.S8)(X).then(i=>{(null==i?void 0:i.code)==200&&(K(null==i?void 0:i.data),ig(!1))}).catch(()=>{console.error("Unable to fetch data")})},[]),console.log(Y,"initialValues");let iv=C.Ry().shape({note:C.Z_().required(S.Ii.REQUIRED.NOTE),amount:C.Z_().required(S.Ii.REQUIRED.AMOUNT)}),ij=()=>{ir(""),it(!1),ia(!1)},im=(null==Y?void 0:null===(n=Y.purchase)||void 0===n?void 0:null===(e=n.subscription_detail)||void 0===e?void 0:e.start_date)?(0,R.default)(new Date(null==Y?void 0:null===(d=Y.purchase)||void 0===d?void 0:null===(o=d.subscription_detail)||void 0===o?void 0:o.start_date),"MMMM dd, yyyy"):"N/A",iZ=(null==Y?void 0:null===(I=Y.purchase)||void 0===I?void 0:null===(f=I.subscription_detail)||void 0===f?void 0:f.end_date)?(0,R.default)(new Date(null==Y?void 0:null===(k=Y.purchase)||void 0===k?void 0:null===(w=k.subscription_detail)||void 0===w?void 0:w.end_date),"MMMM dd, yyyy"):"N/A";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a(),{children:(0,l.jsxs)("title",{children:[S.kD.SUBSCRIBE_DETAILS," "]})}),!1===ip?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{component:"main",sx:{flexGrow:1},children:(0,l.jsx)(h.Z,{maxWidth:"xl",children:(0,l.jsx)(p.Z,{spacing:3,children:(0,l.jsx)(p.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,l.jsx)(p.Z,{spacing:1,children:(0,l.jsx)(g.Z,{variant:"h5",sx:{padding:"8px",marginLeft:""},children:S.kD.SUBSCRIBE_DETAILS})})})})})}),(0,l.jsx)(u.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,l.jsx)(h.Z,{maxWidth:"xl",children:(0,l.jsx)(v.Z,{children:(0,l.jsxs)(u.Z,{sx:{flexGrow:1,width:"80%",margin:"0 auto",marginTop:"2rem"},children:[(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginBottom:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.NAME," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(M=Y.purchase)||void 0===M?void 0:null===(N=M.organization)||void 0===N?void 0:N.name})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.ADDRESS," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(U=Y.purchase)||void 0===U?void 0:null===(O=U.organization)||void 0===O?void 0:O.address})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.CONTUCT_P_NAME," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(z=Y.purchase)||void 0===z?void 0:null===(W=z.organization)||void 0===W?void 0:W.contact_person_name})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.CONTUCT_P_MOBAILE," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(B=Y.purchase)||void 0===B?void 0:null===(L=B.organization)||void 0===L?void 0:L.contact_person_mobile})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.CONTUCT_P_EMAIL," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(F=Y.purchase)||void 0===F?void 0:null===(G=F.organization)||void 0===G?void 0:G.contact_person_email})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.SUBSCRIPTION_PLAN," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:null==Y?void 0:null===(J=Y.purchase)||void 0===J?void 0:null===(q=J.subscription_plan)||void 0===q?void 0:q.name})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.START_DATE," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:im})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.END_DATE," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:iZ})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.PAID_AMOUNT," :"]}),(0,l.jsxs)(j.ZP,{xs:8,children:[(null==Y?void 0:null===(Q=Y.purchase)||void 0===Q?void 0:Q.sell_price)?null==Y?void 0:null===(H=Y.purchase)||void 0===H?void 0:H.sell_price:0," ",i.currency]})]}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,l.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[S.Ii.STATUS," :"]}),(0,l.jsx)(j.ZP,{xs:8,children:(null==Y?void 0:Y.status)=="0"?(0,l.jsx)(l.Fragment,{children:"Rejected"}):(null==Y?void 0:Y.status)=="1"?(0,l.jsx)(l.Fragment,{children:"Accepted"}):(0,l.jsx)(l.Fragment,{children:"Pending"})})]}),(null==Y?void 0:Y.status)=="2"&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{variant:"contained",onClick:()=>ix(!0),sx:{background:"#089B1A",color:"white",border:"",marginTop:"1rem",float:"right",marginBottom:"1rem",padding:"3px","&:hover":{background:"#10741C"}},children:S.Ii.ACCEPT}),(0,l.jsx)(m.Z,{variant:"contained",onClick:()=>ih(!0),sx:{background:"red",color:"white",border:"",marginTop:"1rem",float:"right",marginBottom:"1rem",marginLeft:"10px",marginRight:"10px",padding:"3px","&:hover":{background:"#10741C"}},children:S.Ii.REJECT})]}),(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsx)(t(),{href:E.GN.CANCEL_REQUEST_LIST,children:(0,l.jsx)(m.Z,{variant:"contained",sx:{background:"white",padding:"3px",color:"#4287DA",mt:2,ml:-3,float:"","&:hover":{background:"#10741C",color:"white"}},children:"BACK"})})})}),(0,l.jsxs)(T.Z,{open:ic,onClose:()=>ix(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsxs)(c.Z,{children:[" ",S.Ii.ACCEPT_Request]})}),(0,l.jsx)("div",{style:{textAlign:"right",width:"50%",marginTop:"10px",padding:"10px",cursor:"pointer"},children:(0,l.jsx)(x.Z,{onClick:()=>ix(!1)})})]}),(0,l.jsx)(u.Z,{sx:{width:"90%",justifyContent:"center",margin:"0 auto",mt:"-40px",display:"flex",flexDirection:"column",alignItems:"center","& > *":{}},children:(0,l.jsx)(A.J9,{initialValues:{id:X,note:"",amount:null,status:1},onSubmit:i=>{var e;console.log(i,"data"),(null==Y?void 0:null===(e=Y.purchase)||void 0===e?void 0:e.sell_price)>=i.amount?(0,_.YT)(i).then(i=>{if(200===i.code)ir(S.kD.GENERIC_SUCCESS_MESSAGE),it(!0),ix(!1);else{var e,n;if(Object.keys(null==i?void 0:i.errors).length>0){for(let n in null===(e=i)||void 0===e?void 0:e.errors)if(i.errors[n]){let e=i.errors[n];for(let i=0;i<e.length;i++)ir(e[i]),ia(!0)}}else ir(null!==(n=null==i?void 0:i.message)&&void 0!==n?n:S.kD.ADD_ERROR_MESSAGE),ia(!0)}}).catch(i=>{ir(S.kD.ADD_ERROR_MESSAGE),ia(!0)}):(ir("Invalid amount"),ia(!0))},validationSchema:iv,children:i=>{let{values:e,errors:n,touched:s,handleChange:r,handleBlur:o,handleSubmit:t,isSubmitting:d}=i;return(0,l.jsx)(A.l0,{children:(0,l.jsxs)(j.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,l.jsx)(j.ZP,{item:!0,xs:12,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[S.Ii.NOTE," ",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,l.jsx)(A.gN,{size:"small",variant:"outlined",sx:{mb:2,background:"rgb(246, 247, 247)","& input":{background:"rgb(246, 247, 247)",color:"#4F4D4D"}},name:"note",as:Z.Z,type:"text",rows:4,fullWidth:!0,multiline:!0}),s.note&&n.note&&(0,l.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:n.note})]})}),(0,l.jsx)(j.ZP,{item:!0,xs:12,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[S.Ii.AMOUNT," ",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,l.jsx)(A.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{background:"rgb(246, 247, 247)",color:"#4F4D4D"}},name:"amount",as:Z.Z,type:"number",inputProps:{min:0},fullWidth:!0}),s.amount&&n.amount&&(0,l.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:n.amount})]})}),(0,l.jsx)(j.ZP,{item:!0,xs:12,children:(0,l.jsx)("div",{children:(0,l.jsx)(P.Z,{sx:{marginLeft:"150px"},children:(0,l.jsx)(m.Z,{type:"submit",children:"SUBMIT"})})})})]})})}})})]}),(0,l.jsxs)(T.Z,{open:iu,onClose:()=>ih(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsxs)(c.Z,{children:[" ",S.Ii.REJECT_Request]})}),(0,l.jsx)("div",{style:{textAlign:"right",width:"50%",marginTop:"10px",padding:"10px",cursor:"pointer"},children:(0,l.jsx)(x.Z,{onClick:()=>ih(!1)})})]}),(0,l.jsx)(u.Z,{sx:{width:"90%",justifyContent:"center",margin:"0 auto",mt:"-40px",display:"flex",flexDirection:"column",alignItems:"center","& > *":{}},children:(0,l.jsx)(j.ZP,{item:!0,xs:5,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(g.Z,{sx:{fontSize:"24px",marginTop:"20px"},children:"Are you want reject request?"}),(0,l.jsx)(P.Z,{sx:{marginLeft:"120px",width:"100%"},children:(0,l.jsx)(m.Z,{onClick:()=>{(0,_.YT)({id:X,status:0,amount:0}).then(i=>{if(200===i.code)ir(S.kD.ADD_SUCCESS_MESSAGE2),it(!0),ix(!1);else{var e,n;if(Object.keys(null==i?void 0:i.errors).length>0){for(let n in null===(e=i)||void 0===e?void 0:e.errors)if(i.errors[n]){let e=i.errors[n];for(let i=0;i<e.length;i++)ir(e[i]),ia(!0)}}else ir(null!==(n=null==i?void 0:i.message)&&void 0!==n?n:S.kD.ADD_ERROR_MESSAGE),ia(!0)}}).catch(i=>{ir(S.kD.ADD_ERROR_MESSAGE),ia(!0)}),ih(!1)},type:"submit",children:"SUBMIT"})})]})})})]}),(0,l.jsx)(b.Z,{open:io,onClose:ij,message:is}),(0,l.jsx)(y.Z,{open:id,onClose:ij,message:is})]})})})})]}):(0,l.jsx)(D.Z,{})]})};k.getLayout=i=>(0,l.jsx)(f.A,{children:i}),e.default=(0,I.$j)(i=>{var e;return{currency:null===(e=(0,w.Z)(i))||void 0===e?void 0:e.currency}})(k)}},function(i){i.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,248,9620,9424,9774,2888,179],function(){return i(i.s=72821)}),_N_E=i.O()}]);