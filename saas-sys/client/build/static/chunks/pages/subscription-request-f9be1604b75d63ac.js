(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2917],{18808:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscription-request",function(){return t(82591)}])},16278:function(e,n,t){"use strict";var i=t(85893);t(67294);var l=t(13029),o=t(46901);n.Z=e=>{let{open:n,onClose:t,message:r}=e;return(0,i.jsx)(l.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(o.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:r})})}},70515:function(e,n,t){"use strict";var i=t(85893);t(67294);var l=t(13029),o=t(46901);n.Z=e=>{let{open:n,onClose:t,message:r}=e;return(0,i.jsx)(l.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(o.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:r})})}},15784:function(e,n,t){"use strict";t.d(n,{c:function(){return l}});var i=t(67294);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=(0,i.useState)([]);(0,i.useEffect)(()=>{t([])},[e]);let l=(0,i.useCallback)(()=>{t([...e])},[e]),o=(0,i.useCallback)(e=>{t(n=>[...n,e])},[]),r=(0,i.useCallback)(()=>{t([])},[]),s=(0,i.useCallback)(e=>{t(n=>n.filter(n=>n!==e))},[]);return{handleDeselectAll:r,handleDeselectOne:s,handleSelectAll:l,handleSelectOne:o,selected:n}}},82591:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ee}});var i=t(85893),l=t(67294),o=t(41664),r=t.n(o),s=t(9008),a=t.n(s),c=t(36822),d=t(21214),x=t(16216),u=t(15861),h=t(83321);t(15784);var p=t(39620),g=t(35191),j=t(35110),v=t(9424),Z=t(6514),m=t(31425),f=t(90948),S=t(50657),C=t(37645),b=t(58951),E=t(11163),A=t(98102),k=t(89755),D=t(89396),R=t(57709),w=t(87109),y=t(53219);let P=e=>{let{onSearch:n}=e;return(0,i.jsx)(x.Z,{spacing:3,children:(0,i.jsx)(x.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,i.jsx)(R.Z,{onChange:e=>{let t=e.target.value;n(t)},style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search",startAdornment:(0,i.jsx)(w.Z,{position:"start",children:(0,i.jsx)(y.Z,{color:"action",fontSize:"small",children:(0,i.jsx)(D.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})};var F=t(79369),T=t(9869),z=t(41733),_=t(23508),L=t(53816),O=t(66242),N=t(86886),I=t(25464),M=t(30431),G=t(27110),U=t(7906),W=t(53184),q=t(69368),B=t(295),H=t(93946),X=t(734),J=t(40294);let K=e=>{var n,t,o,s,a,d,p,g,j;let{data:Z={},onSearch:m}=e,[S,C]=(0,l.useState)(!1),[b,E]=l.useState(null),[D,R]=l.useState(null),[w,y]=l.useState(null),[K,Q]=l.useState(null),[V,Y]=(0,l.useState)(0),$=(n,t)=>{if(n.target.checked)e.setSelectedRows([...e.selectedRows,t]);else{let n=e.selectedRows.filter(e=>e!==t);e.setSelectedRows(n)}C(n.target.checked)},ee=n=>{var t;return null==e?void 0:null===(t=e.selectedRows)||void 0===t?void 0:t.includes(n)},en=(0,f.ZP)(A.Z)(e=>{let{theme:n}=e;return{["&.".concat(k.Z.head)]:{backgroundColor:n.palette.common.white,color:n.palette.common.black},["&.".concat(k.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),et=(0,f.ZP)(L.Z)(e=>{let{theme:n}=e;return{"&:last-child td, &:last-child th":{border:0}}});return(0,i.jsxs)(O.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:[(0,i.jsxs)(N.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(N.ZP,{item:!0,xs:2,md:3,children:(0,i.jsx)("div",{style:{width:"100%",padding:"10px"},children:(0,i.jsx)(P,{onSearch:m})})}),(0,i.jsx)(N.ZP,{item:!0,xs:1,md:1.5,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>R(e.currentTarget),children:["Status ",(0,i.jsx)(_.Z,{})]}),(0,i.jsxs)(I.Z,{id:"subscription-menu",anchorEl:D,open:null!=D&&D,onClose:()=>R(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(null),R(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:null==e.selectedStatus?"lightgray":""},children:"All"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(0),R(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:0==e.selectedStatus?"lightgray":""},children:"Not Seen"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(1),R(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:1==e.selectedStatus?"lightgray":""},children:"Seen"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(2),R(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:2==e.selectedStatus?"lightgray":""},children:"Accepted"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(3),R(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:3==e.selectedStatus?"lightgray":""},children:"Rejected"})]})]})}),S&&(null==e?void 0:null===(n=e.selectedRows)||void 0===n?void 0:n.length)>0?(0,i.jsx)(N.ZP,{item:!0,xs:1,md:1.5,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px",fontSize:"14px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>Q(e.currentTarget),children:["Action ",(0,i.jsx)(_.Z,{})]}),(0,i.jsxs)(I.Z,{id:"subscription-menu",anchorEl:K,open:null!=K&&K,onClose:()=>Q(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(1),Q(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Seen ",(0,i.jsx)(z.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(0),Q(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Unseen ",(0,i.jsx)(z.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(3),Q(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Rejected ",(0,i.jsx)(z.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})]})]})}):(0,i.jsx)(N.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(N.ZP,{item:!0,xs:8,md:6,children:(0,i.jsx)(G.Z,{component:"div",count:null!==(g=null==Z?void 0:Z.total)&&void 0!==g?g:0,onPageChange:(n,t)=>{e.onPageChange(t+1)},onRowsPerPageChange:e.onRowsPerPageChange,page:(null==Z?void 0:Z.current_page)?(null==Z?void 0:Z.current_page)-1:0,rowsPerPage:null!==(j=null==Z?void 0:Z.per_page)&&void 0!==j?j:0,rowsPerPageOptions:[5,10,25]})})]}),(0,i.jsx)(X.L,{children:(0,i.jsx)(c.Z,{sx:{minWidth:800},children:(0,i.jsxs)(U.Z,{children:[(0,i.jsx)(W.Z,{children:(0,i.jsxs)(et,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,i.jsx)(en,{padding:"checkbox",children:(0,i.jsx)(q.Z,{color:"primary",indeterminate:(null==e?void 0:null===(t=e.selectedRows)||void 0===t?void 0:t.length)>0&&(null==e?void 0:null===(o=e.selectedRows)||void 0===o?void 0:o.length)<(null==Z?void 0:null===(s=Z.data)||void 0===s?void 0:s.length),checked:(null==e?void 0:null===(a=e.selectedRows)||void 0===a?void 0:a.length)==(null==Z?void 0:null===(d=Z.data)||void 0===d?void 0:d.length),onChange:n=>{if(n.target.checked){let n=null==Z?void 0:Z.data.map(e=>e.id);e.setSelectedRows(n)}else e.setSelectedRows([]);C(n.target.checked)}})}),(0,i.jsx)(en,{children:"SL"}),(0,i.jsx)(en,{children:v.gx.MAME}),(0,i.jsx)(en,{children:v.gx.EMAIL}),(0,i.jsx)(en,{children:v.gx.PHONE}),(0,i.jsx)(en,{children:v.gx.SUBSCRIPTION_PLAN_TYPE}),(0,i.jsx)(en,{children:v.gx.STATUS}),(0,i.jsx)(en,{children:v.gx.ACTION})]})}),(0,i.jsx)(B.Z,{children:null==Z?void 0:null===(p=Z.data)||void 0===p?void 0:p.map((e,n)=>{var t,l;let o=ee(null==e?void 0:e.id),s=null!==(l=n+(null==Z?void 0:Z.from))&&void 0!==l?l:0;return(0,i.jsxs)(L.Z,{hover:!0,children:[(0,i.jsx)(A.Z,{padding:"checkbox",children:(0,i.jsx)(q.Z,{color:"primary",sx:{color:"#9DA4AE"},checked:o,onChange:n=>$(n,e.id)})}),(0,i.jsx)(A.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:s}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(x.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,i.jsx)(u.Z,{variant:"caption",children:e.name})})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(u.Z,{variant:"caption",children:e.email})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:e.mobile})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null===(t=e.subscription_plan)||void 0===t?void 0:t.name})}),(0,i.jsx)(A.Z,{children:"0"==e.status?(0,i.jsx)(u.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:v.gx.PENDING}):"1"==e.status?(0,i.jsx)(u.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:v.gx.REVIEWING}):"2"==e.status?(0,i.jsx)(u.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:v.gx.ACCEPTED}):"3"==e.status?(0,i.jsx)(u.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:v.gx.REJECTED}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(A.Z,{children:[(0,i.jsx)(H.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:n=>{E(n.currentTarget),Y(e)},children:(0,i.jsx)(F.Z,{})}),(0,i.jsx)(I.Z,{id:"subscription-menu",anchorEl:b,open:null!=b&&b,onClose:()=>E(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(M.Z,{o:!0,onClose:()=>E(null),children:(0,i.jsxs)(r(),{href:"".concat(J.GN.SUBSCRIPTION_REQUEST,"/").concat(V.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[v.gx.DETAILS,(0,i.jsx)(T.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})})})]})]},e.id)})})]})})})]})};K.propTypes={};var Q=t(16278),V=t(70515);let Y=(0,f.ZP)(S.Z)(e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}),$=()=>{let[e,n]=(0,l.useState)([]),[t,o]=(0,l.useState)(""),[r,s]=(0,l.useState)(0),[p,f]=(0,l.useState)(!1),[S,A]=(0,l.useState)(0),[k,D]=(0,l.useState)(10),[R,w]=l.useState(!1),[y,P]=l.useState([]),[F,T]=(0,l.useState)(!0);(0,E.useRouter)();let[z,_]=(0,l.useState)(""),[L,O]=(0,l.useState)(!1),[N,I]=(0,l.useState)(!1),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,j.bq)(e).then(e=>{var t,i,l;(null==e?void 0:e.code)==200&&(n(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.subscription_request),T(!1),setSubscriptionId(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(i=l.subscription_request)||void 0===i?void 0:i.data.map(e=>e.id)))}).catch(()=>{})};(0,l.useEffect)(()=>{let e="perpage="+k;t&&t.length>3&&(e=e+"&search="+t),[0,1,2,3].includes(S)&&(e=e+"&status="+S),r&&(e=e+"&page="+r),M(e)},[S,p,t,k,r]);let G=(0,l.useCallback)(e=>{D(e.target.value),s(1)},[]),U=()=>{w(!1),P([])},W=e=>{y.length>0&&(0,j.OK)({id:y,status:e}).then(e=>{if(200===e.code)_(v.gx.ADD_DELETE_MESSAGE),O(!0),f(!p);else{var n;if(Object.keys(null==e?void 0:e.errors).length>0){for(let t in null===(n=e)||void 0===n?void 0:n.errors)if(e.errors[t]){let n=e.errors[t];for(let e=0;e<n.length;e++)_(n[e]),I(!0)}}else _(e.message),I(!0)}}).catch(e=>{_(v.Lb.ADD_ERROR_MESSAGE),I(!0)}).finally(()=>{U()})},q=()=>{_(""),O(!1),I(!1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:(0,i.jsx)("title",{children:v.gx.TITLE})})}),!1===F?(0,i.jsx)(c.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%"},children:(0,i.jsx)(d.Z,{maxWidth:"xl",children:(0,i.jsxs)(x.Z,{spacing:3,children:[(0,i.jsx)(x.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,i.jsx)(x.Z,{spacing:1,children:(0,i.jsx)(u.Z,{variant:"h5",sx:{marginLeft:"10px"},children:v.gx.TITLE})})}),(0,i.jsx)(K,{data:e,onPageChange:e=>{s(e)},onRowsPerPageChange:G,onSearch:e=>{o(e),s(1)},statusFilter:e=>{A(e),s(1),P([])},selectedStatus:S,selectedRows:y,setSelectedRows:e=>P(e),multipleStatusChange:e=>{W(e)}}),(0,i.jsxs)(Y,{onClose:U,"aria-labelledby":"customized-dialog-title",open:R,children:[(0,i.jsx)(C.Z,{id:"alert-dialog-slide-title",children:"Are you sure you want to delete the feature?"}),(0,i.jsx)(Z.Z,{children:(0,i.jsx)(b.Z,{id:"alert-dialog-slide-description"})}),(0,i.jsx)(m.Z,{children:(0,i.jsx)(h.Z,{onClick:U,children:"Cancel"})})]}),(0,i.jsx)(Q.Z,{open:L,onClose:q,message:z}),(0,i.jsx)(V.Z,{open:N,onClose:q,message:z})]})})}):(0,i.jsx)(g.Z,{})]})})};$.getLayout=e=>(0,i.jsx)(p.A,{children:e});var ee=$}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,5864,7110,3203,9213,9620,9424,9774,2888,179],function(){return e(e.s=18808)}),_N_E=e.O()}]);