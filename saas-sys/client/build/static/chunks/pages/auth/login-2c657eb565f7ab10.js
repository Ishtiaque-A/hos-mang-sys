(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{62505:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return t(87995)}])},16278:function(e,i,t){"use strict";var n=t(85893);t(67294);var o=t(13029),l=t(46901);i.Z=e=>{let{open:i,onClose:t,message:s}=e;return(0,n.jsx)(o.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(l.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:s})})}},70515:function(e,i,t){"use strict";var n=t(85893);t(67294);var o=t(13029),l=t(46901);i.Z=e=>{let{open:i,onClose:t,message:s}=e;return(0,n.jsx)(o.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(l.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:s})})}},87995:function(e,i,t){"use strict";t.r(i);var n=t(85893),o=t(67294),l=t(28482),s=t(16310),r=t(53457),d=t(50480),a=t(69368),c=t(39332),u=t(67720);t(25675);var h=t(9424),v=t(16278),x=t(70515),m=t(30015),p=t(94005),g=t(2664),j=t(36822),y=t(86886),S=t(66242),f=t(44267),Z=t(15861),A=t(23795),w=t(83321),_=t(83965),R=t(70926),E=t(35110),P=t(7328),T=t(67004),b=t(86426),k=t(96245),D=t(89833),C=t(93181);i.default=(0,g.$j)(e=>{var i,t;return{isAuthenticated:null===(i=(0,m.Z)(e))||void 0===i?void 0:i.isAuthenticated,settings:null===(t=(0,m.Z)(e))||void 0===t?void 0:t.settings}},e=>({setUserProfileToReducerProp:i=>e((0,P.c9)(i)),setValidityToReducerProp:i=>e((0,p.v1)(i)),setIsAuthenticatedProp:i=>e((0,p.BF)(i))}))(e=>{var i;let t=(0,c.useRouter)(),m=(0,R.a)();(0,o.useEffect)(()=>{if(m.isAuthenticated&&e.isAuthenticated){console.log("Authenticated",e.isAuthenticated);let i=window.location.href.split("Url=%2F")[1];i&&i.length>0?t.push("/"+i):t.push("/")}},[e.isAuthenticated,m.isAuthenticated]);let p=s.Ry().shape({email:s.Z_().required(h.ym.REQUIRED.PASSWORD),password:s.Z_().required(h.ym.REQUIRED.PASSWORD)}),[g,P]=(0,o.useState)(""),[I,B]=(0,o.useState)(!1),[O,U]=(0,o.useState)(!1),[W,z]=(0,o.useState)(!1),N=()=>{P(""),B(!1),U(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"loginPaseLogo",style:{textAlign:"center",marginTop:"4rem",marginBottom:"3rem"},children:(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)("h5",{style:{color:"#089B1A",lineHeight:"1.5",cursor:"pointer",height:50,width:200,display:"flex",justifyItems:"center",marginTop:"4%",marginLeft:"15px",fontSize:"30px",fontFamily:"system-ui"},children:"SmartHealth"})})}),(0,n.jsx)("div",{className:"loginPageCardSection",children:(0,n.jsx)(j.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{m:1}},children:(0,n.jsxs)(y.ZP,{container:!0,columns:12,spacing:1,sx:{width:"75%"},className:"temImage",children:[(0,n.jsx)(y.ZP,{item:!0,xs:12,md:7,sm:12,sx:{marginRight:"15px"},children:(0,n.jsx)(S.Z,{sx:{minWidth:275},children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(Z.Z,{variant:"h5",component:"div",sx:{textAlign:"center",fontWeight:"bold",letterSpacing:".01em"},children:"Log in to SAAS"}),(0,n.jsxs)(Z.Z,{sx:{fontSize:16,textAlign:"center",padding:"5px"},color:"text.secondary",gutterBottom:!0,children:["Don't have an account?",(0,n.jsx)("a",{href:"/register",style:{textDecoration:"none",color:"#3498db",display:"inline-block",marginLeft:"5px"},children:"Register"})]}),(0,n.jsx)(l.J9,{validationSchema:p,initialValues:{email:"",password:""},validate:e=>{let i={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(i.email="Invalid email address"):i.email="Required",i},onSubmit:(i,n)=>{let{setSubmitting:o}=n;(0,E.Wj)(i).then(i=>{var n,o,l,s,r,d,a,c,u,v,x;(null==i?void 0:i.code)==201?(localStorage.setItem("UserEmail",null==i?void 0:null===(o=i.data)||void 0===o?void 0:null===(n=o.user)||void 0===n?void 0:n.email),setTimeout(()=>{t.push("/otp")},3e3),P(null==i?void 0:i.message),B(!0)):(null==i?void 0:i.code)==200?(e.setUserProfileToReducerProp(null==i?void 0:i.data),e.setValidityToReducerProp(null!==(u=null==i?void 0:null===(l=i.data)||void 0===l?void 0:l.expire_within)&&void 0!==u?u:100),e.setIsAuthenticatedProp({status:!0}),console.log("token......",null==i?void 0:i.data),(null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(s=r.user)||void 0===s?void 0:s.token)&&localStorage.setItem("token",null==i?void 0:null===(x=i.data)||void 0===x?void 0:null===(v=x.user)||void 0===v?void 0:v.token),P(h.ym.ADD_SUCCESS_MESSAGE),B(!0),(0,T.FU)(null==i?void 0:null===(a=i.data)||void 0===a?void 0:null===(d=a.user)||void 0===d?void 0:d.token),m.signIn(null==i?void 0:null===(c=i.data)||void 0===c?void 0:c.user).then(e=>{setTimeout(()=>{t.push("/")},3e3)}).catch(e=>{console.log(e)})):(P(i.message),U(!0))}).catch(e=>{P(h.ym.ADD_ERROR_MESSAGE),U(!0)})},children:i=>{var t;let{values:o,errors:l,touched:s,handleChange:c,handleBlur:m,handleSubmit:p,isSubmitting:j}=i;return(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("label",{children:h.ym.EMAIL}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"email",name:"email",onChange:c,onBlur:m,value:o.email,style:{width:"100%",fontSize:"18px",padding:"10px",border:".5px solid #9C9B9B",marginBottom:"1rem"}})}),(0,n.jsx)("label",{children:h.ym.PASSWORD}),(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)("input",{type:W?"text":"password",name:"password",onChange:c,onBlur:m,value:o.password,style:{width:"100%",fontSize:"18px",padding:"10px",border:".5px solid #9C9B9B"}}),(0,n.jsx)("div",{style:{position:"absolute",top:"12px",right:"10px",cursor:"pointer"},onClick:()=>z(!W),children:W?(0,n.jsx)(D.GKB,{}):(0,n.jsx)(C.rz2,{})})]}),s.password&&l.password&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px"},children:l.password})]}),(0,n.jsx)("div",{children:(0,n.jsx)(r.Z,{children:(0,n.jsx)(d.Z,{control:(0,n.jsx)(a.Z,{}),label:"Keep me logged in"})})}),(0,n.jsx)("div",{style:{textAlign:"right",marginTop:"-2rem"},children:(0,n.jsx)(A.Z,{href:"/auth/send-otp",sx:{textDecoration:"none"},children:h.ym.FORGET})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w.Z,{type:"submit",variant:"contained",fullWidth:!0,sx:{background:"#0fb860",borderRadius:"4px",marginTop:"2rem",fontWeight:"bold",fontSize:"18px"},children:h.ym.LOGIN}),(0,n.jsx)(v.Z,{open:I,onClose:N,message:g}),(0,n.jsx)(x.Z,{open:O,onClose:N,message:g})]}),(null==e?void 0:null===(t=e.settings)||void 0===t?void 0:t.is_social_login)==1&&(0,n.jsx)(u.Z,{component:"li",sx:{marginTop:"10px"},children:"or"})]})}}),(0,n.jsx)("div",{style:{width:"80%",margin:"0 auto"},children:(null==e?void 0:null===(i=e.settings)||void 0===i?void 0:i.is_social_login)==1&&(0,n.jsx)("dev",{style:{marginTop:"1rem",margin:"0 auto",background:"red"},children:(0,n.jsx)(b.rg,{clientId:"282631688833-de009hqrraso95r9341rora1ie0sej2a.apps.googleusercontent.com",children:(0,n.jsx)(b.kZ,{onSuccess:i=>{let n=(0,k.Z)(i.credential);(0,E.kH)(n).then(i=>{var n,o,l,s,r,d,a,c,u;return(null==i?void 0:i.code)==200?(e.setUserProfileToReducerProp(null==i?void 0:i.data),e.setValidityToReducerProp(null!==(a=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.expire_within)&&void 0!==a?a:100),e.setIsAuthenticatedProp({status:!0}),(null==i?void 0:null===(l=i.data)||void 0===l?void 0:null===(o=l.user)||void 0===o?void 0:o.token)&&localStorage.setItem("token",null==i?void 0:null===(u=i.data)||void 0===u?void 0:null===(c=u.user)||void 0===c?void 0:c.token),P(h.ym.ADD_SUCCESS_MESSAGE),B(!0),(0,T.FU)(null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(s=r.user)||void 0===s?void 0:s.token),m.signIn(null==i?void 0:null===(d=i.data)||void 0===d?void 0:d.user).then(e=>{setTimeout(()=>{t.push("/")},3e3)}).catch(e=>{console.log(e)})):(P(i.message),U(!0)),(0,E.tJ)()}).then(i=>{200==i.code&&e.setGlobalSettingToReducerProp(null==i?void 0:i.data)}).catch(e=>{P(h.ym.ADD_ERROR_MESSAGE),U(!0)})},onError:()=>{console.log("Login Failed")},style:{marginBottom:"1px"},width:"500px"})})})})]})})}),(0,n.jsx)(y.ZP,{item:!0,xs:12,md:4.5,sm:12,children:(0,n.jsx)(S.Z,{sx:{minWidth:275},children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(Z.Z,{variant:"h6",component:"div",sx:{letterSpacing:".01em",marginTop:"-1.5rem"},children:"What's New"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_.Z,{sx:{height:240,marginTop:"10px"},image:"/assets/aaa.jpeg",title:"green iguana"}),(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(Z.Z,{gutterBottom:!0,variant:"h6",component:"div",sx:{margin:"-13px 0 8px 0"},children:"Detect and Address Maintenance Trends quickly with these Widgets"}),(0,n.jsx)(Z.Z,{variant:"body2",color:"text.secondary",children:"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]}),(0,n.jsx)(u.Z,{})]})]})})})]})})})]})})}},function(e){e.O(0,[7909,648,8199,9817,6901,7539,9845,6886,3029,8482,8131,8100,9424,9774,2888,179],function(){return e(e.s=62505)}),_N_E=e.O()}]);