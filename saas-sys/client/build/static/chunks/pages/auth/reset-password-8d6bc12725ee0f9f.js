(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3035],{26742:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-password",function(){return t(79586)}])},16278:function(e,i,t){"use strict";var n=t(85893);t(67294);var o=t(13029),r=t(46901);i.Z=e=>{let{open:i,onClose:t,message:s}=e;return(0,n.jsx)(o.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(r.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:s})})}},70515:function(e,i,t){"use strict";var n=t(85893);t(67294);var o=t(13029),r=t(46901);i.Z=e=>{let{open:i,onClose:t,message:s}=e;return(0,n.jsx)(o.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(r.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:s})})}},79586:function(e,i,t){"use strict";t.r(i);var n=t(85893),o=t(67294),r=t(28482),s=t(16310),l=t(39332),a=t(67720);t(25675);var d=t(9424),c=t(16278),u=t(70515),h=t(36822),m=t(86886),x=t(66242),p=t(44267),v=t(15861),g=t(23795),j=t(83321),f=t(70926),y=t(35110),S=t(67004),_=t(86426),w=t(96245);i.default=e=>{var i;let t=(0,l.useRouter)(),Z=(0,f.a)(),E=localStorage.getItem("email"),R=s.Ry().shape({otp:s.Z_().required(d.ym.REQUIRED.OTP),password:s.Z_().required(d.ym.REQUIRED.PASSWORD)}),[b,C]=(0,o.useState)(""),[P,T]=(0,o.useState)(!1),[A,D]=(0,o.useState)(!1),[k,B]=(0,o.useState)(!1),O=()=>{C(""),T(!1),D(!1)},I=function(e){let i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;var n=this;return function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];clearTimeout(i),i=setTimeout(()=>{e.apply(n,r)},t)}}(e=>{B(!0);let i={email:E,otp:e.otp,password:e.password};(0,y.iJ)(i).then(e=>{var i;if(200===e.code)C(null==e?void 0:e.message),T(!0),B(!1),setTimeout(()=>{t.push("/auth/login")},3e3);else if(Object.keys(null==e?void 0:e.errors).length>0){for(let t in null===(i=e)||void 0===i?void 0:i.errors)if(e.errors[t]){let i=e.errors[t];for(let e=0;e<i.length;e++){let t=i[e];console.log("Error: "+t),C(t),D(!0)}}}else C(e.message),D(!0)}).catch(e=>{C(d.ym.ADD_ERROR_MESSAGE),D(!0)})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"loginPaseLogo",style:{textAlign:"center",marginTop:"4rem",marginBottom:"3rem"},children:(0,n.jsx)("div",{})}),(0,n.jsx)("div",{className:"loginPageCardSection",children:(0,n.jsx)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{m:1}},children:(0,n.jsx)(m.ZP,{container:!0,columns:12,spacing:1,children:(0,n.jsx)(m.ZP,{item:!0,xs:12,md:12,sm:12,sx:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(m.ZP,{container:!0,columns:12,spacing:1,sx:{width:"75%",display:"flex",justifyContent:"center"},className:"temImage",children:(0,n.jsx)(m.ZP,{item:!0,xs:12,md:8,sm:12,sx:{marginRight:"15px"},children:(0,n.jsx)(x.Z,{sx:{minWidth:275},children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(v.Z,{variant:"h5",component:"div",sx:{textAlign:"center",fontWeight:"bold",letterSpacing:".01em"},children:"Reset password in to Saas"}),(0,n.jsx)(r.J9,{validationSchema:R,initialValues:{email:E,otp:"",password:""},onSubmit:I,children:i=>{var t;let{values:o,errors:r,touched:s,handleChange:l,handleBlur:h,handleSubmit:m,isSubmitting:x}=i;return(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("label",{children:d.ym.OTP}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",name:"otp",onChange:l,onBlur:h,value:o.otp,style:{width:"100%",fontSize:"18px",padding:"10px",border:".5px solid #9C9B9B",marginBottom:"1rem"}})})]}),(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("label",{children:d.ym.PASSWORD}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"password",name:"password",onChange:l,onBlur:h,value:o.password,style:{width:"100%",fontSize:"18px",padding:"10px",border:".5px solid #9C9B9B",marginBottom:"1rem"}})})]}),(0,n.jsx)("div",{style:{textAlign:"right",marginTop:"1rem"},children:(0,n.jsx)(g.Z,{href:"/auth/login",sx:{textDecoration:"none"},children:d.ym.GoBACK})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.Z,{type:"submit",variant:"contained",fullWidth:!0,sx:{background:"#0fb860",borderRadius:"4px",marginTop:"2rem",fontWeight:"bold",fontSize:"18px"},children:d.ym.SEND}),(0,n.jsx)(c.Z,{open:P,onClose:O,message:b}),(0,n.jsx)(u.Z,{open:A,onClose:O,message:b})]}),(null==e?void 0:null===(t=e.settings)||void 0===t?void 0:t.is_social_login)==1&&(0,n.jsx)(a.Z,{component:"li",sx:{marginTop:"10px"},children:"or"})]})}}),(0,n.jsx)("div",{style:{width:"80%",margin:"0 auto"},children:(null==e?void 0:null===(i=e.settings)||void 0===i?void 0:i.is_social_login)==1&&(0,n.jsx)("dev",{style:{marginTop:"1rem",margin:"0 auto",background:"red"},children:(0,n.jsx)(_.rg,{clientId:"282631688833-de009hqrraso95r9341rora1ie0sej2a.apps.googleusercontent.com",children:(0,n.jsx)(_.kZ,{onSuccess:i=>{let n=(0,w.Z)(i.credential);(0,y.kH)(n).then(i=>{var n,o,r,s,l,a,c,u,h;return(null==i?void 0:i.code)==200?(e.setUserProfileToReducerProp(null==i?void 0:i.data),e.setValidityToReducerProp(null!==(c=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.expire_within)&&void 0!==c?c:100),e.setIsAuthenticatedProp({status:!0}),(null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(o=r.user)||void 0===o?void 0:o.token)&&localStorage.setItem("token",null==i?void 0:null===(h=i.data)||void 0===h?void 0:null===(u=h.user)||void 0===u?void 0:u.token),C(d.ym.ADD_SUCCESS_MESSAGE),T(!0),(0,S.FU)(null==i?void 0:null===(l=i.data)||void 0===l?void 0:null===(s=l.user)||void 0===s?void 0:s.token),Z.signIn(null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.user).then(e=>{setTimeout(()=>{t.push("/")},3e3)}).catch(e=>{console.log(e)})):(C(i.message),D(!0)),fetchGlobalSettingAPIGet()}).then(i=>{200==i.code&&e.setGlobalSettingToReducerProp(null==i?void 0:i.data)}).catch(e=>{C(d.ym.ADD_ERROR_MESSAGE),D(!0)})},onError:()=>{console.log("Login Failed")},style:{marginBottom:"1px"},width:"500px"})})})})]})})})})})})})})]})}}},function(e){e.O(0,[8199,9817,6901,7539,9845,6886,3029,8482,8131,9424,9774,2888,179],function(){return e(e.s=26742)}),_N_E=e.O()}]);