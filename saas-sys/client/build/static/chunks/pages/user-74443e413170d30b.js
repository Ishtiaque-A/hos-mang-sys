(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4235],{23508:function(e,n,t){"use strict";var o=t(64836);n.Z=void 0;var i=o(t(64938)),r=t(85893),l=(0,i.default)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");n.Z=l},58951:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var o=t(63366),i=t(87462),r=t(67294),l=t(63961),s=t(94780),a=t(90948),c=t(71657),d=t(15861),u=t(1588),x=t(34867);function h(e){return(0,x.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var p=t(85893);let g=["children","className"],v=e=>{let{classes:n}=e,t=(0,s.Z)({root:["root"]},h,n);return(0,i.Z)({},n,t)},j=(0,a.ZP)(d.Z,{shouldForwardProp:e=>(0,a.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({}),Z=r.forwardRef(function(e,n){let t=(0,c.Z)({props:e,name:"MuiDialogContentText"}),{className:r}=t,s=(0,o.Z)(t,g),a=v(s);return(0,p.jsx)(j,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:s,className:(0,l.Z)(a.root,r)},t,{classes:a}))});var f=Z},49032:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t(26514)}])},3545:function(e,n,t){"use strict";function o(e,n){return"SUPER_ADMIN"==e?2==n||0==n:"ADMIN"==e?3==n||2==n||0==n:"LOCAL_ADMIN"==e?3==n:"LOCAL_USER"==e?4==n:"USER"==e&&5==n}t.d(n,{xZ:function(){return o}}),t(32021)},16278:function(e,n,t){"use strict";var o=t(85893);t(67294);var i=t(13029),r=t(46901);n.Z=e=>{let{open:n,onClose:t,message:l}=e;return(0,o.jsx)(i.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(r.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:l})})}},70515:function(e,n,t){"use strict";var o=t(85893);t(67294);var i=t(13029),r=t(46901);n.Z=e=>{let{open:n,onClose:t,message:l}=e;return(0,o.jsx)(i.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(r.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:l})})}},15784:function(e,n,t){"use strict";t.d(n,{c:function(){return i}});var o=t(67294);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=(0,o.useState)([]);(0,o.useEffect)(()=>{t([])},[e]);let i=(0,o.useCallback)(()=>{t([...e])},[e]),r=(0,o.useCallback)(e=>{t(n=>[...n,e])},[]),l=(0,o.useCallback)(()=>{t([])},[]),s=(0,o.useCallback)(e=>{t(n=>n.filter(n=>n!==e))},[]);return{handleDeselectAll:l,handleDeselectOne:s,handleSelectAll:i,handleSelectOne:r,selected:n}}},26514:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return el}});var o=t(85893),i=t(67294),r=t(41664),l=t.n(r),s=t(9008),a=t.n(s),c=t(88005),d=t(36822),u=t(21214),x=t(16216),h=t(15861),p=t(83321),g=t(53219),v=t(15784),j=t(39620),Z=t(6514),f=t(31425),m=t(37645),E=t(58951),A=t(16278),S=t(70515),R=t(35110),D=t(90948),C=t(50657),b=t(45697),_=t.n(b),y=t(9424),w=t(98102),k=t(89755),P=t(98893),T=t(79369),z=t(9869),I=t(41733),O=t(23508),L=t(53816),U=t(66242),N=t(86886),F=t(25464),M=t(30431),G=t(27110),B=t(7906),V=t(53184),H=t(69368),W=t(295),X=t(93946),$=t(734),q=t(40294);t(3545);let J=e=>{var n,t,r,s,a;let{data:c={},onSearch:u}=e,[g,v]=i.useState(null),[j,Z]=i.useState(null),[f,m]=i.useState(null),[E,A]=i.useState(null),[S,R]=(0,i.useState)(0),[C,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{console.log(S,"activeItem>>>>>>>>>>")},[S]);let _=(n,t)=>{if(n.target.checked)e.setSelectedRows([...e.selectedRows,t]);else{let n=e.selectedRows.filter(e=>e!==t);e.setSelectedRows(n)}b(n.target.checked)},J=n=>e.selectedRows.includes(n),K=()=>{v(null),R(null)},Q=(0,D.ZP)(w.Z)(e=>{let{theme:n}=e;return{["&.".concat(k.Z.head)]:{backgroundColor:n.palette.common.white,color:n.palette.common.black},["&.".concat(k.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),Y=(0,D.ZP)(L.Z)(e=>{let{theme:n}=e;return{"&:last-child td, &:last-child th":{border:0}}});return(0,o.jsxs)(U.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:[(0,o.jsxs)(N.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(N.ZP,{item:!0,xs:2,md:3,children:(0,o.jsx)("div",{style:{width:"100%",padding:"10px"},children:(0,o.jsx)(P.P,{onSearch:u})})}),(0,o.jsx)(N.ZP,{item:!0,xs:1,md:1.5,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>Z(e.currentTarget),children:["Status ",(0,o.jsx)(O.Z,{})]}),(0,o.jsxs)(F.Z,{id:"subscription-menu",anchorEl:j,open:null!=j&&j,onClose:()=>Z(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsx)(M.Z,{onClick:()=>{e.statusFilter(null),Z(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"All"}),(0,o.jsx)(M.Z,{onClick:()=>{e.statusFilter(1),Z(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"Active"}),(0,o.jsxs)(M.Z,{onClick:()=>{e.statusFilter(0),Z(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Inactive"," "]})]})]})}),C?(0,o.jsx)(N.ZP,{item:!0,xs:1,md:1.5,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px",fontSize:"14px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>A(e.currentTarget),children:["Action ",(0,o.jsx)(O.Z,{})]}),(0,o.jsxs)(F.Z,{id:"subscription-menu",anchorEl:E,open:null!=E&&E,onClose:()=>A(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsxs)(M.Z,{onClick:()=>e.multipleStatusChange(1),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Activate ",(0,o.jsx)(I.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,o.jsxs)(M.Z,{onClick:()=>e.multipleStatusChange(0),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Inactive ",(0,o.jsx)(I.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})]})]})}):(0,o.jsx)(N.ZP,{item:!0,xs:1,md:1.5}),(0,o.jsx)(N.ZP,{item:!0,xs:8,md:6,children:(0,o.jsx)(G.Z,{component:"div",count:null!==(s=null==c?void 0:c.total)&&void 0!==s?s:0,onPageChange:(n,t)=>{e.onPageChange(t+1)},onRowsPerPageChange:e.onRowsPerPageChange,page:(null==c?void 0:c.current_page)?(null==c?void 0:c.current_page)-1:0,rowsPerPage:null!==(a=null==c?void 0:c.per_page)&&void 0!==a?a:0,rowsPerPageOptions:[5,10,25]})})]}),(0,o.jsx)($.L,{children:(0,o.jsx)(d.Z,{sx:{minWidth:800},children:(0,o.jsxs)(B.Z,{children:[(0,o.jsx)(V.Z,{children:(0,o.jsxs)(Y,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,o.jsx)(Q,{padding:"checkbox",children:(0,o.jsx)(H.Z,{color:"primary",indeterminate:e.selectedRows.length>0&&e.selectedRows.length<(null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.length),checked:e.selectedRows.length===(null==c?void 0:null===(t=c.data)||void 0===t?void 0:t.length),onChange:n=>{if(n.target.checked){let n=null==c?void 0:c.data.map(e=>e.id);e.setSelectedRows(n)}else e.setSelectedRows([]);b(n.target.checked)}})}),(0,o.jsx)(Q,{children:"SL"}),(0,o.jsx)(Q,{children:y.xR.NAME}),(0,o.jsx)(Q,{children:y.xR.EMAIL}),(0,o.jsx)(Q,{children:y.xR.PHONE}),(0,o.jsx)(Q,{children:y.xR.ORGANIZATION}),(0,o.jsx)(Q,{children:y.xR.USER_BRANCH}),(0,o.jsx)(Q,{children:y.xR.STATUS}),(0,o.jsx)(Q,{children:y.xR.ACTION})]})}),(0,o.jsx)(W.Z,{children:null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.map((e,n)=>{var t,i;let r=J(e.id),s=null!==(i=n+(null==c?void 0:c.from))&&void 0!==i?i:0;return(0,o.jsxs)(L.Z,{hover:!0,children:[(0,o.jsx)(w.Z,{padding:"checkbox",children:(0,o.jsx)(H.Z,{color:"primary",sx:{color:"#9DA4AE"},checked:r,onChange:n=>_(n,e.id)})}),(0,o.jsx)(w.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:s})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(x.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,o.jsx)(h.Z,{variant:"caption",children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:e.name})})})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:e.email})})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:e.mobile})})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.name})})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:null==e?void 0:e.branch_name})})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.USER_EDIT_URL,"/").concat(e.id),children:"1"==e.status?(0,o.jsx)(h.Z,{style:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"20px "},variant:"caption",children:y.xR.ACTIVE}):(0,o.jsx)(h.Z,{style:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"20px "},variant:"caption",children:y.xR.INACTIVE})})}),(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(X.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:n=>{v(n.currentTarget),R(e)},children:(0,o.jsx)(T.Z,{})}),(0,o.jsx)(F.Z,{id:"subscription-menu",anchorEl:g,open:null!=g&&g,onClose:K,sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(M.Z,{onClick:K,children:(0,o.jsxs)(l(),{href:"user/".concat(null==S?void 0:S.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[y.xR.DETAILS," ",(0,o.jsx)(z.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})})})]})]},e.id)})})]})})})]})};J.propTypes={count:_().number,items:_().array,onDeselectAll:_().func,onDeselectOne:_().func,onPageChange:_().func,onRowsPerPageChange:_().func,onSelectAll:_().func,onSelectOne:_().func,page:_().number,rowsPerPage:_().number,selected:_().array};var K=t(30015),Q=t(26903),Y=t(7328),ee=t(2664),en=t(94005),et=t(35191),eo=t(78465);let ei=(0,D.ZP)(C.Z)(e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}),er=e=>{var n,t,r,s,j,D;let[C,b]=(0,i.useState)([]),[_,w]=(0,i.useState)(""),[k,P]=(0,i.useState)(null),[T,z]=(0,i.useState)(!1),[I,O]=(0,i.useState)(1),[L,U]=(0,i.useState)(5),[N,F]=(0,i.useState)([]),M=(0,v.c)(N),[G,B]=i.useState(!1),[V,H]=(0,i.useState)(null),[W,X]=(0,i.useState)([]),[$,K]=(0,i.useState)(!0),[Q,Y]=(0,i.useState)(1),ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,R.g2)(e).then(e=>{var n,t,o;(null==e?void 0:e.code)==200&&(b(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.users),F(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(t=o.users)||void 0===t?void 0:t.data.map(e=>e.id)),K(!1))}).catch(()=>{})};(0,i.useEffect)(()=>{(0,R.pk)().then(n=>{var t,o,i,r,l,s;if((null==n?void 0:n.code)==200){e.userOrganizationSetToReducerProp(null==n?void 0:n.data);let a=parseInt(null!==(s=null===(i=n.data)||void 0===i?void 0:null===(o=i.user)||void 0===o?void 0:null===(t=o.latestSubscriptionDetails)||void 0===t?void 0:t.user_limit)&&void 0!==s?s:0)-(null===(l=n.data)||void 0===l?void 0:null===(r=l.user)||void 0===r?void 0:r.user_count);console.log(a,"......................",n),Y(a)}}).catch(e=>{console.log(e)})},[]),(0,i.useEffect)(()=>{let e="perpage="+L;_&&_.length>3&&(e=e+"&search="+_),(0==k||1==k)&&(e=e+"&status="+k),I&&(e=e+"&page="+I),ee(e)},[k,_,T,L,I]);let en=(0,i.useCallback)(e=>{U(e.target.value),O(1)},[]),er=()=>{B(!1),H(null)},el=e=>{W.length>0&&(0,R.Bb)({id:W,status:e}).then(e=>{if(200===e.code)ea(y.xR.ADD_DELETE_MESSAGE),ed(!0),z(!T);else{var n;if(Object.keys(null==e?void 0:e.errors).length>0){for(let t in null===(n=e)||void 0===n?void 0:n.errors)if(e.errors[t]){let n=e.errors[t];for(let e=0;e<n.length;e++){let t=n[e];console.log("Error: "+t),ea(t),ex(!0)}}}else ea(e.message),ex(!0)}}).catch(e=>{ea(y.xR.ADD_ERROR_MESSAGE),ex(!0)}).finally(()=>{er()})},[es,ea]=(0,i.useState)(""),[ec,ed]=(0,i.useState)(!1),[eu,ex]=(0,i.useState)(!1),eh=()=>{ea(""),ed(!1),ex(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:(0,o.jsx)("title",{children:y.xR.USER_TITLE})}),(0,o.jsx)("div",{})]}),!1===$?(0,o.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%"},children:(0,o.jsx)(u.Z,{maxWidth:"xl",children:(0,o.jsxs)(x.Z,{spacing:3,children:[(0,o.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,o.jsx)(x.Z,{spacing:1,children:(0,o.jsx)(h.Z,{variant:"h5",sx:{marginLeft:"10px"},children:y.xR.USER_TITLE})}),(0,o.jsxs)("div",{children:[(!(null===(t=e.userOrganization)||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.organization_id)||Q>0)&&(0,o.jsx)(l(),{href:q.GN.USER_ADD_URL,style:{textDecoration:"none"},children:(0,o.jsx)(p.Z,{startIcon:(0,o.jsx)(g.Z,{fontSize:"12px",children:(0,o.jsx)(c.Z,{})}),variant:"contained",sx:{backgroundColor:eo.Vp.primary,"&:hover":{backgroundColor:eo.Vp.primary},"&:active":{backgroundColor:eo.Vp.primary}},children:y.xR.User_Add_Button})}),(0,o.jsxs)(h.Z,{inline:!0,variant:"body1",align:"right",color:"tomato",children:[(null===(s=e.userOrganization)||void 0===s?void 0:null===(r=s.user)||void 0===r?void 0:r.organization_id)&&Q>0&&Q+" User left",(null===(D=e.userOrganization)||void 0===D?void 0:null===(j=D.user)||void 0===j?void 0:j.organization_id)&&Q<=0&&"User limit exceed, If you want to create user contact admin"]})]})]}),(0,o.jsx)(J,{data:C,onPageChange:e=>{O(e)},onRowsPerPageChange:en,onSearch:e=>{w(e),O(1)},selected:M.selected,statusFilter:e=>{P(e),O(1)},onDelete:e=>{setDeletingsubscription(e),B(!0)},selectedRows:W,setSelectedRows:e=>X(e),multipleStatusChange:e=>{el(e)}}),(0,o.jsxs)(ei,{onClose:er,"aria-labelledby":"customized-dialog-title",open:G,children:[(0,o.jsx)(m.Z,{id:"alert-dialog-slide-title",children:"Are you sure you want to delete the feature?"}),(0,o.jsx)(Z.Z,{children:(0,o.jsx)(E.Z,{id:"alert-dialog-slide-description"})}),(0,o.jsxs)(f.Z,{children:[(0,o.jsx)(p.Z,{onClick:er,children:"Cancel"}),(0,o.jsx)(p.Z,{onClick:el,autoFocus:!0,children:"Agree"})]})]}),(0,o.jsx)(A.Z,{open:ec,onClose:eh,message:es}),(0,o.jsx)(S.Z,{open:eu,onClose:eh,message:es})]})})}):(0,o.jsx)(et.Z,{})]})})};er.getLayout=e=>(0,o.jsx)(j.A,{children:e});var el=(0,ee.$j)(e=>{var n,t,o;return{isAuthenticated:null===(n=(0,K.Z)(e))||void 0===n?void 0:n.isAuthenticated,testData:null===(t=(0,K.Z)(e))||void 0===t?void 0:t.testData,userOrganization:null===(o=(0,Q.Z)(e))||void 0===o?void 0:o.userOrganization}},e=>({setUserProfileToReducerProp:n=>e((0,Y.c9)(n)),setIsAuthenticatedProp:n=>e((0,en.BF)(n)),userOrganizationSetToReducerProp:n=>e((0,Y.GI)(n))}))(er)},98893:function(e,n,t){"use strict";t.d(n,{P:function(){return c}});var o=t(85893),i=t(89396),r=t(57709),l=t(87109),s=t(53219),a=t(16216);let c=e=>{let{onSearch:n}=e;return(0,o.jsx)(a.Z,{spacing:3,children:(0,o.jsx)(a.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,o.jsx)(r.Z,{onChange:e=>{let t=e.target.value;n(t)},style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search",startAdornment:(0,o.jsx)(l.Z,{position:"start",children:(0,o.jsx)(s.Z,{color:"action",fontSize:"small",children:(0,o.jsx)(i.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})}}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,5864,7110,3203,691,9620,9424,9774,2888,179],function(){return e(e.s=49032)}),_N_E=e.O()}]);