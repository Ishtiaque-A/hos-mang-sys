(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8276],{70851:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return n(92184)}])},16278:function(e,t,n){"use strict";var i=n(85893);n(67294);var r=n(13029),l=n(46901);t.Z=e=>{let{open:t,onClose:n,message:o}=e;return(0,i.jsx)(r.Z,{open:t,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(l.Z,{onClose:n,severity:"success",sx:{width:"100%"},children:o})})}},70515:function(e,t,n){"use strict";var i=n(85893);n(67294);var r=n(13029),l=n(46901);t.Z=e=>{let{open:t,onClose:n,message:o}=e;return(0,i.jsx)(r.Z,{open:t,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(l.Z,{onClose:n,variant:"filled",severity:"error",sx:{width:"100%"},children:o})})}},15784:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var i=n(67294);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,i.useState)([]);(0,i.useEffect)(()=>{n([])},[e]);let r=(0,i.useCallback)(()=>{n([...e])},[e]),l=(0,i.useCallback)(e=>{n(t=>[...t,e])},[]),o=(0,i.useCallback)(()=>{n([])},[]),s=(0,i.useCallback)(e=>{n(t=>t.filter(t=>t!==e))},[]);return{handleDeselectAll:o,handleDeselectOne:s,handleSelectAll:r,handleSelectOne:l,selected:t}}},92184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return er}});var i=n(85893),r=n(67294),l=n(41664),o=n.n(l),s=n(9008),a=n.n(s),c=n(36822),d=n(21214),u=n(16216),x=n(15861),h=n(83321);n(15784);var p=n(39620),g=n(35191),j=n(35110),v=n(9424),Z=n(6514),f=n(31425),m=n(90948),S=n(50657),A=n(37645),C=n(58951),b=n(11163),E=n(98102),y=n(89755),k=n(89396),D=n(57709),w=n(87109),R=n(53219);let P=e=>{let{onSearch:t}=e;return(0,i.jsx)(u.Z,{spacing:3,children:(0,i.jsx)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,i.jsx)(D.Z,{onChange:e=>{let n=e.target.value;t(n)},style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search",startAdornment:(0,i.jsx)(w.Z,{position:"start",children:(0,i.jsx)(R.Z,{color:"action",fontSize:"small",children:(0,i.jsx)(k.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})};var z=n(79369),F=n(9869),T=n(41733),_=n(23508),O=n(32912),L=n(53816),U=n(66242),I=n(86886),N=n(25464),M=n(30431),G=n(27110),W=n(7906),H=n(53184),X=n(69368),q=n(295),B=n(93946),K=n(734),Y=n(40294);let $=e=>{var t,n,l,s,a,d,p,g,j;let{data:Z={},onSearch:f}=e,[S,A]=(0,r.useState)(!1),[C,b]=r.useState(null),[k,D]=r.useState(null),[w,R]=r.useState(null),[$,J]=r.useState(null),[Q,V]=(0,r.useState)(0),ee=(t,n)=>{if(t.target.checked)e.setSelectedRows([...e.selectedRows,n]);else{let t=e.selectedRows.filter(e=>e!==n);e.setSelectedRows(t)}A(t.target.checked)},et=t=>{var n;return null==e?void 0:null===(n=e.selectedRows)||void 0===n?void 0:n.includes(t)},en=(0,m.ZP)(E.Z)(e=>{let{theme:t}=e;return{["&.".concat(y.Z.head)]:{backgroundColor:t.palette.common.white,color:t.palette.common.black},["&.".concat(y.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),ei=(0,m.ZP)(L.Z)(e=>{let{theme:t}=e;return{"&:last-child td, &:last-child th":{border:0}}});return(0,i.jsxs)(U.Z,{children:[(0,i.jsxs)(I.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(I.ZP,{item:!0,xs:2,md:3,children:(0,i.jsx)("div",{style:{width:"100%",padding:"10px"},children:(0,i.jsx)(P,{onSearch:f})})}),(0,i.jsx)(I.ZP,{item:!0,xs:1,md:1.5,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>D(e.currentTarget),children:["Status ",(0,i.jsx)(_.Z,{})]}),(0,i.jsxs)(N.Z,{id:"subscription-menu",anchorEl:k,open:null!=k&&k,onClose:()=>D(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(null),D(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:null==e.selectedStatus?"lightgray":""},children:"All"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(0),D(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:0==e.selectedStatus?"lightgray":""},children:"Failed"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(1),D(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:1==e.selectedStatus?"lightgray":""},children:"Success"}),(0,i.jsx)(M.Z,{onClick:()=>{e.statusFilter(2),D(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px",backgroundColor:2==e.selectedStatus?"lightgray":""},children:"Pending"})]})]})}),S&&(null==e?void 0:null===(t=e.selectedRows)||void 0===t?void 0:t.length)>0?(0,i.jsx)(I.ZP,{item:!0,xs:1,md:1.5,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px",fontSize:"14px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>J(e.currentTarget),children:["Action ",(0,i.jsx)(_.Z,{})]}),(0,i.jsxs)(N.Z,{id:"subscription-menu",anchorEl:$,open:null!=$&&$,onClose:()=>J(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(1),J(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Seen ",(0,i.jsx)(T.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(0),J(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Unseen ",(0,i.jsx)(T.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,i.jsxs)(M.Z,{onClick:()=>{e.multipleStatusChange(3),J(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Rejected ",(0,i.jsx)(T.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})]})]})}):(0,i.jsx)(I.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(I.ZP,{item:!0,xs:8,md:6,children:(0,i.jsx)(G.Z,{component:"div",count:null!==(g=null==Z?void 0:Z.total)&&void 0!==g?g:0,onPageChange:(t,n)=>{e.onPageChange(n+1)},onRowsPerPageChange:e.onRowsPerPageChange,page:(null==Z?void 0:Z.current_page)?(null==Z?void 0:Z.current_page)-1:0,rowsPerPage:null!==(j=null==Z?void 0:Z.per_page)&&void 0!==j?j:0,rowsPerPageOptions:[5,10,25]})})]}),(0,i.jsx)(K.L,{children:(0,i.jsx)(c.Z,{sx:{minWidth:800},children:(0,i.jsxs)(W.Z,{children:[(0,i.jsx)(H.Z,{children:(0,i.jsxs)(ei,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,i.jsx)(en,{padding:"checkbox",children:(0,i.jsx)(X.Z,{color:"primary",indeterminate:(null==e?void 0:null===(n=e.selectedRows)||void 0===n?void 0:n.length)>0&&(null==e?void 0:null===(l=e.selectedRows)||void 0===l?void 0:l.length)<(null==Z?void 0:null===(s=Z.data)||void 0===s?void 0:s.length),checked:(null==e?void 0:null===(a=e.selectedRows)||void 0===a?void 0:a.length)==(null==Z?void 0:null===(d=Z.data)||void 0===d?void 0:d.length),onChange:t=>{if(t.target.checked){let t=null==Z?void 0:Z.data.map(e=>e.id);e.setSelectedRows(t)}else e.setSelectedRows([]);A(t.target.checked)}})}),(0,i.jsx)(en,{children:"SL"}),(0,i.jsx)(en,{children:v.UA.Subscription}),(0,i.jsx)(en,{children:v.UA.PRICE}),(0,i.jsx)(en,{children:v.UA.AMOUNT}),(0,i.jsx)(en,{children:v.UA.DATE}),(0,i.jsx)(en,{children:v.UA.STATUS}),(0,i.jsx)(en,{children:v.UA.ACTION})]})}),(0,i.jsx)(q.Z,{children:null==Z?void 0:null===(p=Z.data)||void 0===p?void 0:p.map((t,n)=>{var r;let l=et(null==t?void 0:t.id),s=null!==(r=n+(null==Z?void 0:Z.from))&&void 0!==r?r:0;return(0,i.jsxs)(L.Z,{hover:!0,children:[(0,i.jsx)(E.Z,{padding:"checkbox",children:(0,i.jsx)(X.Z,{color:"primary",sx:{color:"#9DA4AE"},checked:l,onChange:e=>ee(e,t.id)})}),(0,i.jsx)(E.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:s}),(0,i.jsx)(E.Z,{children:(0,i.jsx)(u.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,i.jsx)(x.Z,{variant:"caption",children:t.purchase.subscription_plan.name})})}),(0,i.jsx)(E.Z,{children:(0,i.jsxs)(x.Z,{variant:"caption",children:[t.purchase.subscription_plan.price," ",e.currency]})}),(0,i.jsx)(E.Z,{children:(0,i.jsxs)(x.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:[t.amount," "," ",e.currency]})}),(0,i.jsx)(E.Z,{children:(0,i.jsx)(x.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:t.created_at?(0,O.default)(new Date(t.created_at),"dd/MM/yyyy"):"N/A"})}),(0,i.jsx)(E.Z,{children:"0"==t.status?(0,i.jsx)(x.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:"Failed"}):"1"==t.status?(0,i.jsx)(x.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:"success"}):"2"==t.status?(0,i.jsx)(x.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:"pending"}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(E.Z,{children:[(0,i.jsx)(B.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>{b(e.currentTarget),V(t)},children:(0,i.jsx)(z.Z,{})}),(0,i.jsx)(N.Z,{id:"subscription-menu",anchorEl:C,open:null!=C&&C,onClose:()=>b(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(M.Z,{o:!0,onClose:()=>b(null),children:(0,i.jsxs)(o(),{href:"".concat(Y.GN.HISTORY_URL,"/").concat(Q.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[v.UA.DETAILS,(0,i.jsx)(F.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})})})]})]},t.id)})})]})})})]})};$.propTypes={};var J=n(16278),Q=n(70515),V=n(30015),ee=n(2664),et=n(26903);let en=(0,m.ZP)(S.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}),ei=e=>{let[t,n]=(0,r.useState)([]),[l,o]=(0,r.useState)(""),[s,p]=(0,r.useState)(0),[m,S]=(0,r.useState)(!1),[E,y]=(0,r.useState)(null),[k,D]=(0,r.useState)(5),[w,R]=r.useState(!1),[P,z]=r.useState([]),[F,T]=(0,r.useState)(!0);(0,b.useRouter)();let[_,O]=(0,r.useState)(""),[L,U]=(0,r.useState)(!1),[I,N]=(0,r.useState)(!1),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,j.cr)(e).then(e=>{var t;(null==e?void 0:e.code)==200&&(n(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.payment),T(!1))}).catch(()=>{})};console.log(t,"dadat>>>>"),(0,r.useEffect)(()=>{let e="per_page="+k;l&&l.length>1&&(e=e+"&search="+l),(0==E||1==E||2==E)&&console.log(e=e+"&status="+E,"query"),s&&(e=e+"&page="+s),M(e)},[E,m,l,k,s]);let G=(0,r.useCallback)(e=>{D(e.target.value),p(1)},[]),W=()=>{R(!1),z([])},H=e=>{P.length>0&&(0,j.OK)({id:P,status:e}).then(e=>{if(200===e.code)O(v.gx.ADD_DELETE_MESSAGE),U(!0),S(!m);else{var t;if(Object.keys(null==e?void 0:e.errors).length>0){for(let n in null===(t=e)||void 0===t?void 0:t.errors)if(e.errors[n]){let t=e.errors[n];for(let e=0;e<t.length;e++)O(t[e]),N(!0)}}else O(e.message),N(!0)}}).catch(e=>{O(v.Lb.ADD_ERROR_MESSAGE),N(!0)}).finally(()=>{W()})},X=()=>{O(""),U(!1),N(!1)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:(0,i.jsx)("title",{children:v.UA.TITLE})})}),!1===F?(0,i.jsx)(c.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%",bgcolor:"#F6F7F7"},children:(0,i.jsx)(d.Z,{maxWidth:"xl",children:(0,i.jsxs)(u.Z,{spacing:3,children:[(0,i.jsx)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,i.jsx)(u.Z,{spacing:1,children:(0,i.jsx)(x.Z,{variant:"h5",sx:{marginLeft:"10px"},children:v.UA.TITLE})})}),(0,i.jsx)($,{data:t,onPageChange:e=>{p(e)},onRowsPerPageChange:G,onSearch:e=>{o(e),p(1)},statusFilter:e=>{y(e),p(1),z([])},selectedStatus:E,selectedRows:P,setSelectedRows:e=>z(e),multipleStatusChange:e=>{H(e)},currency:e.currency}),(0,i.jsxs)(en,{onClose:W,"aria-labelledby":"customized-dialog-title",open:w,children:[(0,i.jsx)(A.Z,{id:"alert-dialog-slide-title",children:"Are you sure you want to delete the feature?"}),(0,i.jsx)(Z.Z,{children:(0,i.jsx)(C.Z,{id:"alert-dialog-slide-description"})}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(h.Z,{onClick:W,children:"Cancel"})})]}),(0,i.jsx)(J.Z,{open:L,onClose:X,message:_}),(0,i.jsx)(Q.Z,{open:I,onClose:X,message:_})]})})}):(0,i.jsx)(g.Z,{})]})};ei.getLayout=e=>(0,i.jsx)(p.A,{children:e});var er=(0,ee.$j)(e=>{var t,n,i,r;return{isAuthenticated:null===(t=(0,V.Z)(e))||void 0===t?void 0:t.isAuthenticated,testData:null===(n=(0,V.Z)(e))||void 0===n?void 0:n.testData,userOrganization:null===(i=(0,et.Z)(e))||void 0===i?void 0:i.userOrganization,currency:null===(r=(0,V.Z)(e))||void 0===r?void 0:r.currency}},e=>({setUserProfileToReducerProp:t=>e(setUserProfileToReducer(t)),setIsAuthenticatedProp:t=>e(setIsAuthenticated(t)),userOrganizationSetToReducerProp:t=>e(userOrganizationSetToReducer(t))}))(ei)}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,5864,7110,3203,1857,9620,9424,9774,2888,179],function(){return e(e.s=70851)}),_N_E=e.O()}]);