(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7305],{7408:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/own-organization/edit",function(){return i(56986)}])},16278:function(e,l,i){"use strict";var s=i(85893);i(67294);var n=i(13029),t=i(46901);l.Z=e=>{let{open:l,onClose:i,message:r}=e;return(0,s.jsx)(n.Z,{open:l,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(t.Z,{onClose:i,severity:"success",sx:{width:"100%"},children:r})})}},70515:function(e,l,i){"use strict";var s=i(85893);i(67294);var n=i(13029),t=i(46901);l.Z=e=>{let{open:l,onClose:i,message:r}=e;return(0,s.jsx)(n.Z,{open:l,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(t.Z,{onClose:i,variant:"filled",severity:"error",sx:{width:"100%"},children:r})})}},56986:function(e,l,i){"use strict";i.r(l);var s=i(85893),n=i(67294),t=i(9008),r=i.n(t);i(41664);var o=i(36822),a=i(21214),d=i(16216),c=i(15861),x=i(66242),m=i(86886),u=i(50135),p=i(31812),h=i(16310),j=i(28482),f=i(90948),v=i(11791),y=i(39620),g=i(30015),Z=i(7328),b=i(2664),S=i(26903),E=i(35110),D=i(16278),z=i(70515),P=i(11163),F=i(9424),w=i(40294),A=i(35191),R=i(65400),_=i.n(R),L=i(28465);(0,f.ZP)(v.Z)(e=>{let{theme:l}=e;return{backgroundColor:"dark"===l.palette.mode?"#1A2027":"#fff",...l.typography.body2,padding:l.spacing(1),textAlign:"center",color:l.palette.text.secondary}});let N=e=>{let l=(0,P.useRouter)(),{id:i}=l.query,[t,f]=(0,n.useState)([]),[v,y]=(0,n.useState)([]),[g,Z]=(0,n.useState)(1),[b,S]=(0,n.useState)(!1),[R,N]=(0,n.useState)(null),[T,C]=(0,n.useState)("");(0,n.useEffect)(()=>{setTimeout(()=>{Z(2)},3e3)},[]),(0,n.useEffect)(()=>{let e=async()=>{try{var e,l,i;let s=await (0,E.KF)();f(null==s?void 0:null===(l=s.data)||void 0===l?void 0:null===(e=l.user)||void 0===e?void 0:e.organization),y(null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.user)}catch(e){console.log(e)}};e()},[]),console.log(t,"details>>>>>>>>>>>>>>>>");let O=(e,l)=>{if(e.fileList.length>0){let i=e.fileList[0].originFileObj;console.log("file:",i);let s=new FileReader;s.onload=()=>{console.log("reader.result:",s.result),C(s.result),l("logo",s.result)},s.readAsDataURL(i)}},k=h.Ry().shape({name:h.Z_().required(F.cm.REQUIRED.NAME),email:h.Z_().required(F.cm.REQUIRED.EMAIL),mobile:h.Z_().required(F.cm.REQUIRED.PHONE),address:h.Z_().required(F.cm.REQUIRED.ADDRESS)}),[I,U]=(0,n.useState)(!1),[W,M]=(0,n.useState)(!1),[G,q]=(0,n.useState)(""),H=()=>{q(""),U(!1),M(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:F.cm.TITLE})}),2===g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{component:"main",sx:{flexGrow:1},children:(0,s.jsx)(a.Z,{maxWidth:"xl",children:(0,s.jsx)(d.Z,{spacing:3,children:(0,s.jsx)(d.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,s.jsx)(d.Z,{spacing:1,children:(0,s.jsx)(c.Z,{variant:"h5",sx:{padding:"8px",marginLeft:""},children:F.cm.TITLE})})})})})}),(0,s.jsx)(o.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,s.jsx)(a.Z,{maxWidth:"xl",children:(0,s.jsx)(x.Z,{children:(0,s.jsx)(o.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto",marginTop:"2rem"},children:(0,s.jsx)(m.ZP,{container:!0,spacing:2,children:(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsx)(j.J9,{initialValues:{name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",mobile:(null==t?void 0:t.mobile)||"",address:(null==t?void 0:t.address)||"",code:(null==t?void 0:t.code)||"",description:(null==t?void 0:t.description)||"",logo:(null==t?void 0:t.logo)||T},onSubmit:e=>{if(R){let e=new FileReader;e.readAsDataURL(R),e.onloadend=()=>{C(e.result)}}console.log(e,"data>>>>>>"),S(!0),(0,E.PB)(e).then(e=>{if(200===e.code)q(F.cm.UPDATE_SUCCESS_MESSAGE),U(!0),setTimeout(()=>{S(!1),l.push(w.s7)},3e3);else{var i;if(Object.keys(null==e?void 0:e.errors).length>0){for(let l in null===(i=e)||void 0===i?void 0:i.errors)if(e.errors[l]){let i=e.errors[l];for(let e=0;e<i.length;e++){let l=i[e];console.log("Error: "+l),q(l),M(!0),S(!1)}}}else q(e.message),M(!0)}}).catch(e=>{q(F.cm.ADD_ERROR_MESSAGE),M(!0)})},validationSchema:k,children:e=>{let{values:l,errors:i,touched:n,setFieldValue:r}=e;return(0,s.jsx)(j.l0,{encType:"multipart/form-data",children:(0,s.jsxs)(m.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[(0,s.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,s.jsx)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:F.cm.LOGO}),(0,s.jsx)("div",{children:(0,s.jsx)(L.Z,{beforeUpload:()=>!1,onChange:e=>O(e,r),accept:"image/*",children:(0,s.jsx)(_(),{style:{backgroundColor:"#089B1A",color:"white",border:"none",borderRadius:"5px"},children:"Pick File"})})})]}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.NAME," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"username",value:null==v?void 0:v.name,as:u.Z,type:"text",fullWidth:!0})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.EMAIL," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"useremail",value:null==v?void 0:v.email,as:u.Z,type:"email",fullWidth:!0})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:F.cm.CODE}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",disabled:!0,readonly:!0,sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"code",value:null==t?void 0:t.code,as:u.Z,type:"text",fullWidth:!0})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.ONAME," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"name",as:u.Z,type:"text",fullWidth:!0}),n.name&&i.name&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.name})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.OEMAIL," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"email",as:u.Z,type:"email",fullWidth:!0}),n.email&&i.email&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.email})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.xR.PHONE," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"mobile",as:u.Z,type:"text",fullWidth:!0}),n.mobile&&i.mobile&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.mobile})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.ADDRESS," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"address",as:u.Z,type:"text",fullWidth:!0}),n.address&&i.address&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.address})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:12,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[F.cm.DETAILS," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"description",as:u.Z,multiline:!0,rows:4,type:"text",fullWidth:!0}),n.description&&i.description&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.description})]})}),(0,s.jsx)(m.ZP,{item:!0,xs:6}),(0,s.jsx)(m.ZP,{item:!0,xs:6,children:(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsx)(p.Z,{type:"submit",color:"primary",loading:b,variant:"contained",sx:{background:"#089B1A",padding:"3px",color:"white",mb:2,float:"right","&:hover":{background:"#10741C"}},children:F.zD}),(0,s.jsx)(D.Z,{open:I,onClose:H,message:G}),(0,s.jsx)(z.Z,{open:W,onClose:H,message:G})]})})]})})}})})})})})})})]}):(0,s.jsx)(A.Z,{})]})};N.getLayout=e=>(0,s.jsx)(y.A,{children:e}),l.default=(0,b.$j)(e=>{var l,i;return{isAuthenticated:null===(l=(0,g.Z)(e))||void 0===l?void 0:l.isAuthenticated,userProfile:null===(i=(0,S.Z)(e))||void 0===i?void 0:i.userProfile}},e=>({setUserProfileToReducerProp:l=>e((0,Z.c9)(l))}))(N)}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,4110,8939,9620,9424,9774,2888,179],function(){return e(e.s=7408)}),_N_E=e.O()}]);