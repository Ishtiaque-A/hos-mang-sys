(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3435],{31812:function(e,i,t){"use strict";t.d(i,{Z:function(){return _}});var n=t(63366),r=t(87462),o=t(67294),a=t(98216),s=t(27909),l=t(94780),d=t(90948),c=t(71657),u=t(83321),p=t(98456),x=t(34867),m=t(1588);function h(e){return(0,x.Z)("MuiLoadingButton",e)}let g=(0,m.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=t(85893);let f=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],y=e=>{let{loading:i,loadingPosition:t,classes:n}=e,o={root:["root",i&&"loading"],startIcon:[i&&`startIconLoading${(0,a.Z)(t)}`],endIcon:[i&&`endIconLoading${(0,a.Z)(t)}`],loadingIndicator:["loadingIndicator",i&&`loadingIndicator${(0,a.Z)(t)}`]},s=(0,l.Z)(o,h,n);return(0,r.Z)({},n,s)},Z=e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e,j=(0,d.ZP)(u.Z,{shouldForwardProp:e=>Z(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,i)=>[i.root,i.startIconLoadingStart&&{[`& .${g.startIconLoadingStart}`]:i.startIconLoadingStart},i.endIconLoadingEnd&&{[`& .${g.endIconLoadingEnd}`]:i.endIconLoadingEnd}]})(({ownerState:e,theme:i})=>(0,r.Z)({[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},"center"===e.loadingPosition&&{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${g.loading}`]:{color:"transparent"}},"start"===e.loadingPosition&&e.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===e.loadingPosition&&e.fullWidth&&{[`& .${g.startIconLoadingStart}, & .${g.endIconLoadingEnd}`]:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0,marginLeft:-8}})),b=(0,d.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,i)=>{let{ownerState:t}=e;return[i.loadingIndicator,i[`loadingIndicator${(0,a.Z)(t.loadingPosition)}`]]}})(({theme:e,ownerState:i})=>(0,r.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===i.loadingPosition&&("outlined"===i.variant||"contained"===i.variant)&&{left:"small"===i.size?10:14},"start"===i.loadingPosition&&"text"===i.variant&&{left:6},"center"===i.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},"end"===i.loadingPosition&&("outlined"===i.variant||"contained"===i.variant)&&{right:"small"===i.size?10:14},"end"===i.loadingPosition&&"text"===i.variant&&{right:6},"start"===i.loadingPosition&&i.fullWidth&&{position:"relative",left:-10},"end"===i.loadingPosition&&i.fullWidth&&{position:"relative",right:-10})),S=o.forwardRef(function(e,i){let t=(0,c.Z)({props:e,name:"MuiLoadingButton"}),{children:o,disabled:a=!1,id:l,loading:d=!1,loadingIndicator:u,loadingPosition:x="center",variant:m="text"}=t,h=(0,n.Z)(t,f),g=(0,s.Z)(l),Z=null!=u?u:(0,v.jsx)(p.Z,{"aria-labelledby":g,color:"inherit",size:16}),S=(0,r.Z)({},t,{disabled:a,loading:d,loadingIndicator:Z,loadingPosition:x,variant:m}),_=y(S),I=d?(0,v.jsx)(b,{className:_.loadingIndicator,ownerState:S,children:Z}):null;return(0,v.jsxs)(j,(0,r.Z)({disabled:a||d,id:g,ref:i},h,{variant:m,classes:_,ownerState:S,children:["end"===S.loadingPosition?o:I,"end"===S.loadingPosition?I:o]}))});var _=S},21214:function(e,i,t){"use strict";t.d(i,{Z:function(){return S}});var n=t(63366),r=t(87462),o=t(67294),a=t(63961),s=t(14142),l=t(34867),d=t(94780),c=t(31607),u=t(57874),p=t(46567),x=t(85893);let m=["className","component","disableGutters","fixed","maxWidth","classes"],h=(0,p.Z)(),g=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,i)=>{let{ownerState:t}=e;return[i.root,i[`maxWidth${(0,s.Z)(String(t.maxWidth))}`],t.fixed&&i.fixed,t.disableGutters&&i.disableGutters]}}),v=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:h}),f=(e,i)=>{let{classes:t,fixed:n,disableGutters:r,maxWidth:o}=e,a={root:["root",o&&`maxWidth${(0,s.Z)(String(o))}`,n&&"fixed",r&&"disableGutters"]};return(0,d.Z)(a,e=>(0,l.Z)(i,e),t)};var y=t(98216),Z=t(90948),j=t(71657);let b=function(e={}){let{createStyledComponent:i=g,useThemeProps:t=v,componentName:s="MuiContainer"}=e,l=i(({theme:e,ownerState:i})=>(0,r.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!i.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:i})=>i.fixed&&Object.keys(e.breakpoints.values).reduce((i,t)=>{let n=e.breakpoints.values[t];return 0!==n&&(i[e.breakpoints.up(t)]={maxWidth:`${n}${e.breakpoints.unit}`}),i},{}),({theme:e,ownerState:i})=>(0,r.Z)({},"xs"===i.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},i.maxWidth&&"xs"!==i.maxWidth&&{[e.breakpoints.up(i.maxWidth)]:{maxWidth:`${e.breakpoints.values[i.maxWidth]}${e.breakpoints.unit}`}})),d=o.forwardRef(function(e,i){let o=t(e),{className:d,component:c="div",disableGutters:u=!1,fixed:p=!1,maxWidth:h="lg"}=o,g=(0,n.Z)(o,m),v=(0,r.Z)({},o,{component:c,disableGutters:u,fixed:p,maxWidth:h}),y=f(v,s);return(0,x.jsx)(l,(0,r.Z)({as:c,ownerState:v,className:(0,a.Z)(y.root,d),ref:i},g))});return d}({createStyledComponent:(0,Z.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,i)=>{let{ownerState:t}=e;return[i.root,i[`maxWidth${(0,y.Z)(String(t.maxWidth))}`],t.fixed&&i.fixed,t.disableGutters&&i.disableGutters]}}),useThemeProps:e=>(0,j.Z)({props:e,name:"MuiContainer"})});var S=b},54577:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscription/add",function(){return t(12805)}])},16278:function(e,i,t){"use strict";var n=t(85893);t(67294);var r=t(13029),o=t(46901);i.Z=e=>{let{open:i,onClose:t,message:a}=e;return(0,n.jsx)(r.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(o.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:a})})}},70515:function(e,i,t){"use strict";var n=t(85893);t(67294);var r=t(13029),o=t(46901);i.Z=e=>{let{open:i,onClose:t,message:a}=e;return(0,n.jsx)(r.Z,{open:i,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(o.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:a})})}},12805:function(e,i,t){"use strict";t.r(i);var n=t(85893),r=t(67294),o=t(9008),a=t.n(o),s=t(41664),l=t.n(s),d=t(36822),c=t(21214),u=t(16216),p=t(15861),x=t(66242),m=t(86886),h=t(50135),g=t(83978),v=t(87918),f=t(31812),y=t(16310),Z=t(28482),j=t(90948),b=t(11791),S=t(39620),_=t(30015),I=t(7328),P=t(2664),E=t(26903),L=t(35110),N=t(16278),R=t(70515),T=t(11163),D=t(9424),C=t(40294),w=t(35191),k=t(78465);(0,j.ZP)(b.Z)(e=>{let{theme:i}=e;return{backgroundColor:"dark"===i.palette.mode?"#1A2027":"#fff",...i.typography.body2,padding:i.spacing(1),textAlign:"center",color:i.palette.text.secondary}});let z=e=>{let i=(0,T.useRouter)(),[t,o]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=async()=>{try{var e;let i=await (0,L.eK)();o(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.features)}catch(e){console.log(e)}};e()},[]);let s=y.Ry().shape({name:y.Z_().required(D.NK.REQUIRED.TITLE),user_limit:y.Z_().required(D.NK.REQUIRED.USER_LIMIT),price:y.Z_().required(D.NK.REQUIRED.PRICE),validity_id:y.Z_().required(D.NK.REQUIRED.DURATION),storage_limit_id:y.Z_().required(D.NK.REQUIRED.STORAGE),details:y.Z_().required(D.NK.REQUIRED.DETAILS),type:y.Z_().required(D.NK.REQUIRED.TYPE)}),j=[{id:1,name:"Regular"},{id:2,name:"Special"}],[b,S]=(0,r.useState)({id:1,name:"Regular"}),[_,I]=(0,r.useState)([]),[P,E]=(0,r.useState)(null),[z,F]=(0,r.useState)([]),[W,A]=(0,r.useState)(null),[$,K]=(0,r.useState)([]),[O,U]=(0,r.useState)([]),[M,G]=(0,r.useState)(!0),[V,B]=(0,r.useState)(!1);(0,r.useEffect)(()=>{setTimeout(()=>{G(!1)},2e3);let e=async()=>{var e,i;I(j);let t=await (0,L.Iu)();F(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.validity);let n=await (0,L.PY)();K(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.validity)};e()},[]);let q=e=>{setFeatures(i=>i.filter(i=>i.label!==e.label))},[Q,Y]=(0,r.useState)(""),[H,X]=(0,r.useState)(!1),[J,ee]=(0,r.useState)(!1),ei=()=>{Y(""),X(!1),ee(!1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:D.NK.ADD_SUBSCRIPTION})}),!1===M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{component:"main",sx:{flexGrow:1,mt:"2%"},children:(0,n.jsx)(c.Z,{maxWidth:"xl",children:(0,n.jsx)(u.Z,{spacing:3,children:(0,n.jsx)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,n.jsx)(u.Z,{spacing:1,children:(0,n.jsx)(p.Z,{variant:"h5",sx:{padding:"8px",pt:"40px"},children:D.NK.ADD_NEW_SUBSCRIPTION_PLAN})})})})})}),(0,n.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,n.jsx)(c.Z,{maxWidth:"xl",children:(0,n.jsx)(x.Z,{sx:{border:"1px solid #eee",borderRadius:"10px",mb:"40px"},children:(0,n.jsx)(d.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto"},children:(0,n.jsx)(m.ZP,{container:!0,spacing:2,children:(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(Z.J9,{initialValues:{name:"",user_limit:"",validity_id:null,price:null,status:"1",features:[],storage_limit_id:null,details:"",type:1},onSubmit:t=>{var n;B(!0),(0,L.SS)({...t,token:null===(n=e.userProfile)||void 0===n?void 0:n.token}).then(e=>{if(200===e.code)Y(D.NK.ADD_SUCCESS_MESSAGE),X(!0),B(!1),setTimeout(()=>{i.push(C.GN.SUBSCRIPTION_PLAN_LIST)},3e3);else{var t;if(Object.keys(null==e?void 0:e.errors).length>0){for(let i in null===(t=e)||void 0===t?void 0:t.errors)if(e.errors[i]){let t=e.errors[i];for(let e=0;e<t.length;e++){let i=t[e];console.log("Error: "+i),Y(i),ee(!0)}}}else Y(e.message),ee(!0)}}).catch(e=>{Y(D.NK.ADD_ERROR_MESSAGE),ee(!0)})},validationSchema:s,children:i=>{let{values:r,errors:o,touched:a,setFieldValue:s}=i;return(0,n.jsx)(Z.l0,{encType:"multipart/form-data",children:(0,n.jsxs)(m.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.TITLE," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"name",as:h.Z,type:"text",fullWidth:!0}),a.name&&o.name&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:o.name})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.USER_LIMIT," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"user_limit",as:h.Z,type:"number",fullWidth:!0,inputProps:{min:0}}),a.user_limit&&o.user_limit&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:o.user_limit})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.VALIDITY_IN_DAYS,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{name:"validity_id",as:g.Z,children:e=>{let{field:i,form:t}=e;return(0,n.jsx)(g.Z,{...i,value:P,onChange:(e,i)=>{E(i),t.setFieldValue("validity_id",i?Number(i.id):null)},options:z,getOptionLabel:e=>e.name,renderInput:e=>(0,n.jsx)(h.Z,{...e,size:"small",variant:"outlined",error:t.errors.validity_id&&t.touched.validity_id,helperText:t.errors.validity_id&&t.touched.validity_id&&t.errors.validity_id,sx:{mb:2,"& input":{color:"#4F4D4D"}}})})}})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.STORAGE_LIMIT,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{name:"storage_limit_id",as:g.Z,children:e=>{let{field:i,form:t}=e;return(0,n.jsx)(g.Z,{...i,value:W,onChange:(e,i)=>{A(i),t.setFieldValue("storage_limit_id",i?Number(i.id):null)},options:$,getOptionLabel:e=>e.name,renderInput:e=>(0,n.jsx)(h.Z,{...e,size:"small",variant:"outlined",error:t.errors.storage_limit_id&&t.touched.storage_limit_id,helperText:t.errors.storage_limit_id&&t.touched.storage_limit_id&&t.errors.storage_limit_id,sx:{mb:2,"& input":{color:"#4F4D4D"}}})})}})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.SELECT_MULTIPLE_FEATURE," ",(0,n.jsx)("span",{style:{color:"red"}})]}),(0,n.jsx)(Z.gN,{name:"features",children:e=>{let{field:i,form:r}=e;return(0,n.jsx)(g.Z,{multiple:!0,options:t,getOptionLabel:e=>e.name,value:O,onChange:(e,i)=>{U(i),r.setFieldValue("features",i.map(e=>e.id)),r.setFieldValue("featuresName",i?i.name:"")},renderInput:e=>(0,n.jsx)(h.Z,{...e,size:"small",variant:"outlined",error:r.errors.features&&r.touched.features,helperText:r.errors.features&&r.touched.features&&r.errors.features,sx:{mb:2,"& input":{color:"#4F4D4D"}}}),renderTags:(e,i)=>e.map((e,t)=>(0,n.jsx)(v.Z,{label:e.name,onDelete:()=>q(e),...i({index:t})},t))})}})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.PRICE,"(",e.currency,")",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{size:"small",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"price",as:h.Z,variant:"outlined",type:"number",fullWidth:!0,inputProps:{min:0}}),a.price&&o.price&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:o.price})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.TYPE,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{name:"type",as:g.Z,children:e=>{let{field:i,form:t}=e;return(0,n.jsx)(g.Z,{...i,value:b,onChange:(e,i)=>{S(i),t.setFieldValue("type",i?Number(i.id):null)},options:_,getOptionLabel:e=>e.name,renderInput:e=>(0,n.jsx)(h.Z,{...e,size:"small",variant:"outlined",error:t.errors.type&&t.touched.type,helperText:t.errors.type&&t.touched.type&&t.errors.type,sx:{mb:2,"& input":{color:"#4F4D4D"}}})})}})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[D.NK.DETAILS,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(Z.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"details",as:h.Z,multiline:!0,rows:2,type:"text",fullWidth:!0}),a.details&&o.details&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:o.details})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsx)("div",{style:{width:"100%"},children:(0,n.jsx)(l(),{href:C.GN.SUBSCRIPTION_PLAN_LIST,children:(0,n.jsx)(f.Z,{variant:"contained",sx:{border:"1px solid #eee",mb:2,backgroundColor:k.Vp.white,color:k.Vp.primary,"&:hover":{backgroundColor:k.Vp.white,color:k.Vp.primary}},children:D.Fo})})})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)(f.Z,{type:"submit",color:"primary",loading:V,variant:"contained",sx:{mb:2,float:"right",backgroundColor:k.Vp.primary,"&:hover":{backgroundColor:k.Vp.primary},"&:active":{backgroundColor:k.Vp.primary}},children:D.zD}),(0,n.jsx)(N.Z,{open:H,onClose:ei,message:Q}),(0,n.jsx)(R.Z,{open:J,onClose:ei,message:Q})]})})]})})}})})})})})})})]}):(0,n.jsx)(w.Z,{})]})})};z.getLayout=e=>(0,n.jsx)(S.A,{children:e}),i.default=(0,P.$j)(e=>{var i,t,n;return{isAuthenticated:null===(i=(0,_.Z)(e))||void 0===i?void 0:i.isAuthenticated,userProfile:null===(t=(0,E.Z)(e))||void 0===t?void 0:t.userProfile,currency:null===(n=(0,_.Z)(e))||void 0===n?void 0:n.currency}},e=>({setUserProfileToReducerProp:i=>e((0,I.c9)(i))}))(z)}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,5551,3978,9620,9424,9774,2888,179],function(){return e(e.s=54577)}),_N_E=e.O()}]);