(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1197],{75823:function(n,e,t){"use strict";var i=t(64836);e.Z=void 0;var o=i(t(64938)),r=t(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 10V8h-2v4H8l4 4 4-4h-3z"}),"ArrowCircleDown");e.Z=a},31812:function(n,e,t){"use strict";t.d(e,{Z:function(){return y}});var i=t(63366),o=t(87462),r=t(67294),a=t(98216),l=t(27909),s=t(94780),c=t(90948),d=t(71657),u=t(83321),x=t(98456),g=t(34867),h=t(1588);function p(n){return(0,g.Z)("MuiLoadingButton",n)}let m=(0,h.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=t(85893);let j=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Z=n=>{let{loading:e,loadingPosition:t,classes:i}=n,r={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${(0,a.Z)(t)}`],endIcon:[e&&`endIconLoading${(0,a.Z)(t)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${(0,a.Z)(t)}`]},l=(0,s.Z)(r,p,i);return(0,o.Z)({},i,l)},f=n=>"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n,P=(0,c.ZP)(u.Z,{shouldForwardProp:n=>f(n)||"classes"===n,name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,e)=>[e.root,e.startIconLoadingStart&&{[`& .${m.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${m.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:n,theme:e})=>(0,o.Z)({[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${m.loading}`]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),_=(0,c.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>{let{ownerState:t}=n;return[e.loadingIndicator,e[`loadingIndicator${(0,a.Z)(t.loadingPosition)}`]]}})(({theme:n,ownerState:e})=>(0,o.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})),b=r.forwardRef(function(n,e){let t=(0,d.Z)({props:n,name:"MuiLoadingButton"}),{children:r,disabled:a=!1,id:s,loading:c=!1,loadingIndicator:u,loadingPosition:g="center",variant:h="text"}=t,p=(0,i.Z)(t,j),m=(0,l.Z)(s),f=null!=u?u:(0,v.jsx)(x.Z,{"aria-labelledby":m,color:"inherit",size:16}),b=(0,o.Z)({},t,{disabled:a,loading:c,loadingIndicator:f,loadingPosition:g,variant:h}),y=Z(b),S=c?(0,v.jsx)(_,{className:y.loadingIndicator,ownerState:b,children:f}):null;return(0,v.jsxs)(P,(0,o.Z)({disabled:a||c,id:m,ref:e},p,{variant:h,classes:y,ownerState:b,children:["end"===b.loadingPosition?r:S,"end"===b.loadingPosition?S:r]}))});var y=b},36922:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/subscription-plan",function(){return t(47512)}])},16278:function(n,e,t){"use strict";var i=t(85893);t(67294);var o=t(13029),r=t(46901);e.Z=n=>{let{open:e,onClose:t,message:a}=n;return(0,i.jsx)(o.Z,{open:e,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(r.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:a})})}},70515:function(n,e,t){"use strict";var i=t(85893);t(67294);var o=t(13029),r=t(46901);e.Z=n=>{let{open:e,onClose:t,message:a}=n;return(0,i.jsx)(o.Z,{open:e,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(r.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:a})})}},47512:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return B}});var i=t(85893),o=t(67294),r=t(9008),a=t.n(r),l=t(75823),s=t(36822),c=t(21214),d=t(16216),u=t(15861),x=t(83321),g=t(53219),h=t(66242),p=t(86886),m=t(50135),v=t(39620),j=t(16278),Z=t(70515),f=t(31812),P=t(28482),_=t(35110),b=t(84105),y=t(45697),S=t.n(y);t(41664);var C=t(9424),I=t(98102),w=t(89755),A=t(90948),E=t(53816),z=t(27110),D=t(7906),L=t(53184),T=t(295),R=t(734);let N=n=>{var e,t,r;let{data:a={}}=n,[l,c]=o.useState(null),[x,g]=(0,o.useState)(0),[m,v]=(0,o.useState)(!1),j=e=>n.selectedRows.includes(e),Z=(0,A.ZP)(I.Z)(n=>{let{theme:e}=n;return{["&.".concat(w.Z.head)]:{backgroundColor:e.palette.common.white,color:e.palette.common.black},["&.".concat(w.Z.body)]:{fontSize:14,fontWeight:"bold",alignItems:"center"}}}),f=(0,A.ZP)(E.Z)(n=>{let{theme:e}=n;return{"&:last-child td, &:last-child th":{border:0}}});return console.log(a,"ewefsf"),(0,i.jsxs)(h.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:[(0,i.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(p.ZP,{item:!0,xs:2,md:3}),(0,i.jsx)(p.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(p.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(p.ZP,{item:!0,xs:8,md:6,children:(0,i.jsx)(z.Z,{component:"div",count:null!==(t=null==a?void 0:a.total)&&void 0!==t?t:0,onPageChange:(e,t)=>{n.onPageChange(t+1)},onRowsPerPageChange:n.onRowsPerPageChange,page:(null==a?void 0:a.current_page)?(null==a?void 0:a.current_page)-1:0,rowsPerPage:null!==(r=null==a?void 0:a.per_page)&&void 0!==r?r:0,rowsPerPageOptions:[5,10,25]})})]}),(0,i.jsx)(R.L,{children:(0,i.jsx)(s.Z,{sx:{minWidth:800},children:(0,i.jsxs)(D.Z,{children:[(0,i.jsx)(L.Z,{children:(0,i.jsxs)(f,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,i.jsx)(Z,{children:"SL"}),(0,i.jsx)(Z,{children:C.xg.NAME}),(0,i.jsx)(Z,{children:C.xg.PRICE}),(0,i.jsx)(Z,{sx:{textAlign:"center"},children:C.xg.RIQUEST_COUNT}),(0,i.jsx)(Z,{sx:{textAlign:"center"},children:C.xg.ACCEPT_COUNT}),(0,i.jsx)(Z,{sx:{textAlign:"center"},children:C.xg.REJECT_COUNT}),(0,i.jsx)(Z,{sx:{textAlign:"center"},children:C.xg.PURCHASES_COUNT})]})}),(0,i.jsx)(T.Z,{children:null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.map((e,t)=>{var o;j(e.id);let r=null!==(o=t+(null==a?void 0:a.from))&&void 0!==o?o:0;return(0,i.jsxs)(E.Z,{hover:!0,children:[(0,i.jsx)(I.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:r}),(0,i.jsx)(I.Z,{children:(0,i.jsx)(d.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,i.jsx)(u.Z,{variant:"caption",children:null==e?void 0:e.name})})}),(0,i.jsx)(I.Z,{children:(0,i.jsxs)(u.Z,{variant:"caption",children:[" ",null==e?void 0:e.price," ",n.currency]})}),(0,i.jsx)(I.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.request_count})}),(0,i.jsx)(I.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.reject_count})}),(0,i.jsx)(I.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.accept_count})}),(0,i.jsx)(I.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.purchases_count})})]},e.id)})})]})})})]})};N.propTypes={count:S().number,items:S().array,onDeselectAll:S().func,onDeselectOne:S().func,onPageChange:S().func,onRowsPerPageChange:S().func,onSelectAll:S().func,onSelectOne:S().func,page:S().number,rowsPerPage:S().number,selected:S().array};var k=t(30015),O=t(26903),F=t(7328),W=t(2664),$=t(94005),U=t(35191),M=t(78465);let V=n=>{var e,t,r,v;let[y,S]=(0,o.useState)([]),[I,w]=(0,o.useState)(""),[A,E]=(0,o.useState)(1),[z,D]=(0,o.useState)(5),[L,T]=(0,o.useState)([]),[R,k]=(0,o.useState)(!0),[O,F]=(0,o.useState)(!1),[W,$]=(0,o.useState)(1),[V,B]=(0,o.useState)(""),[H,G]=(0,o.useState)(!1),J=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,_.P6)(n).then(n=>{var e;(null==n?void 0:n.code)==200&&(S(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.activities),k(!1))}).catch(n=>{})};(0,o.useEffect)(()=>{let n="per_page="+z;I&&I.length>3&&(n=n+"&search="+I),A&&(n=n+"&page="+A),J(n)},[z,A]);let X=(0,o.useCallback)(n=>{D(n.target.value),E(1),G(!1)},[]),[q,Q]=(0,o.useState)(""),[K,Y]=(0,o.useState)(!1),[nn,ne]=(0,o.useState)(!1),nt=()=>{Q(""),Y(!1),ne(!1)},ni=()=>{let n=null;if(!0===H){let e={per_page:null,search:V.search,min_purchases_count:V.min_purchases_count,min_accept_count:V.min_accept_count,min_reject_count:V.min_reject_count,organization_id:V.organization_id,min_price:V.min_price};console.log(e,"searchValues");let t=Object.keys(e).filter(n=>{let t=e[n];return""!==t&&null!=t});console.log("Filled fields:",t),n=t.map(n=>"".concat(n,"=").concat(encodeURIComponent(e[n]))).join("&")}(0,_.P6)(n).then(n=>{var e;if((null==n?void 0:n.code)===200){let t=null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.activities.data;if(console.log(t,"data"),t&&t.length>0){let n=b.P6.json_to_sheet(t),e=b.P6.book_new();b.P6.book_append_sheet(e,n,"SubscriptionPlans"),b.NC(e,"subscription_plans.xlsx")}else console.log("No data to export.")}}).catch(n=>{console.error("An error occurred:",n)})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:(0,i.jsx)("title",{children:C.Xh.TITLE})}),(0,i.jsx)("div",{})]}),!1===R?(0,i.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%"},children:(0,i.jsx)(c.Z,{maxWidth:"xl",children:(0,i.jsxs)(d.Z,{spacing:3,children:[(0,i.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,i.jsx)(d.Z,{spacing:1,children:(0,i.jsx)(u.Z,{variant:"h5",sx:{marginLeft:"10px"},children:C.xg.TITLE})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{startIcon:(0,i.jsx)(g.Z,{fontSize:"12px",children:(0,i.jsx)(l.Z,{})}),variant:"contained",sx:{backgroundColor:M.Vp.primary,"&:hover":{backgroundColor:M.Vp.primary},"&:active":{backgroundColor:M.Vp.primary}},onClick:()=>ni(),children:C.xg.DOWNLOAD_BUTTON}),(0,i.jsxs)(u.Z,{inline:!0,variant:"body1",align:"right",color:"tomato",children:[(null===(t=n.userOrganization)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.organization_id)&&W>0&&W+" User left",(null===(v=n.userOrganization)||void 0===v?void 0:null===(r=v.user)||void 0===r?void 0:r.organization_id)&&W<=0&&"User limit exceed, If you want to create user contact admin"]})]})]}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,i.jsx)(h.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:(0,i.jsx)(s.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto"},children:(0,i.jsx)(p.ZP,{container:!0,spacing:2,children:(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(P.J9,{initialValues:{per_page:z,search:"",min_purchases_count:null,min_accept_count:null,min_reject_count:null,organization_id:null,min_price:null},onSubmit:n=>{B(n),G(!0),F(!0);let e=Object.keys(n).filter(e=>{let t=n[e];return""!==t&&null!=t});console.log("Filled fields:",e);let t=e.map(e=>"".concat(e,"=").concat(encodeURIComponent(n[e]))).join("&");try{J(t),setTimeout(()=>{F(!1)},500)}catch(n){console.error("An error occurred:",n),setTimeout(()=>{F(!1)},500)}},children:n=>{let{values:e,errors:t,touched:o,setFieldValue:r}=n;return(0,i.jsx)(P.l0,{enctype:"multipart/form-data",children:(0,i.jsxs)(p.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px",fontFamily:"system-ui"},children:C.xg.NAME}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"search",as:m.Z,type:"text",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.PURCHASES}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_purchases_count",as:m.Z,type:"text",fullWidth:!0})]})}),(0,i.jsxs)(p.ZP,{item:!0,xs:3,children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.ACCEPT}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_accept_count",as:m.Z,type:"text",fullWidth:!0})]}),(0,i.jsxs)(p.ZP,{item:!0,xs:3,children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.REJECT}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_reject_count",as:m.Z,type:"text",fullWidth:!0})]}),(0,i.jsxs)(p.ZP,{item:!0,xs:3,children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.MIN_PRICE}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_price",as:m.Z,type:"text",fullWidth:!0})]}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.START_DATE}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"start_date",as:m.Z,type:"date",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:C.xg.END_DATE}),(0,i.jsx)(P.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"end_date",as:m.Z,type:"date",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:6}),(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsx)(f.Z,{type:"submit",color:"primary",loading:O,variant:"contained",sx:{mb:2,float:"right",backgroundColor:M.Vp.primary,"&:hover":{backgroundColor:M.Vp.primary},"&:active":{backgroundColor:M.Vp.primary}},children:C.zD}),(0,i.jsx)(j.Z,{open:K,onClose:nt,message:q}),(0,i.jsx)(Z.Z,{open:nn,onClose:nt,message:q})]})})]})})}})})})})})})}),(0,i.jsx)(N,{data:y,currency:n.currency,onPageChange:n=>{E(n)},onRowsPerPageChange:X,selectedRows:L,setSelectedRows:n=>T(n)}),(0,i.jsx)(j.Z,{open:K,onClose:nt,message:q}),(0,i.jsx)(Z.Z,{open:nn,onClose:nt,message:q})]})})}):(0,i.jsx)(U.Z,{})]})})};V.getLayout=n=>(0,i.jsx)(v.A,{children:n});var B=(0,W.$j)(n=>{var e,t,i,o;return{isAuthenticated:null===(e=(0,k.Z)(n))||void 0===e?void 0:e.isAuthenticated,testData:null===(t=(0,k.Z)(n))||void 0===t?void 0:t.testData,userOrganization:null===(i=(0,O.Z)(n))||void 0===i?void 0:i.userOrganization,currency:null===(o=(0,k.Z)(n))||void 0===o?void 0:o.currency}},n=>({setUserProfileToReducerProp:e=>n((0,F.c9)(e)),setIsAuthenticatedProp:e=>n((0,$.BF)(e)),userOrganizationSetToReducerProp:e=>n((0,F.GI)(e))}))(V)},20067:function(){},72061:function(){}},function(n){n.O(0,[2251,8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,5864,7110,9620,9424,9774,2888,179],function(){return n(n.s=36922)}),_N_E=n.O()}]);