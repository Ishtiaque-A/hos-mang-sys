(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{75823:function(n,e,t){"use strict";var i=t(64836);e.Z=void 0;var o=i(t(64938)),r=t(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 10V8h-2v4H8l4 4 4-4h-3z"}),"ArrowCircleDown");e.Z=a},9869:function(n,e,t){"use strict";var i=t(64836);e.Z=void 0;var o=i(t(64938)),r=t(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");e.Z=a},79369:function(n,e,t){"use strict";var i=t(64836);e.Z=void 0;var o=i(t(64938)),r=t(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");e.Z=a},31812:function(n,e,t){"use strict";t.d(e,{Z:function(){return S}});var i=t(63366),o=t(87462),r=t(67294),a=t(98216),s=t(27909),l=t(94780),d=t(90948),c=t(71657),u=t(83321),x=t(98456),h=t(34867),g=t(1588);function p(n){return(0,h.Z)("MuiLoadingButton",n)}let m=(0,g.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=t(85893);let j=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Z=n=>{let{loading:e,loadingPosition:t,classes:i}=n,r={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${(0,a.Z)(t)}`],endIcon:[e&&`endIconLoading${(0,a.Z)(t)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${(0,a.Z)(t)}`]},s=(0,l.Z)(r,p,i);return(0,o.Z)({},i,s)},f=n=>"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n,_=(0,d.ZP)(u.Z,{shouldForwardProp:n=>f(n)||"classes"===n,name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,e)=>[e.root,e.startIconLoadingStart&&{[`& .${m.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${m.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:n,theme:e})=>(0,o.Z)({[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${m.loading}`]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),b=(0,d.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>{let{ownerState:t}=n;return[e.loadingIndicator,e[`loadingIndicator${(0,a.Z)(t.loadingPosition)}`]]}})(({theme:n,ownerState:e})=>(0,o.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})),P=r.forwardRef(function(n,e){let t=(0,c.Z)({props:n,name:"MuiLoadingButton"}),{children:r,disabled:a=!1,id:l,loading:d=!1,loadingIndicator:u,loadingPosition:h="center",variant:g="text"}=t,p=(0,i.Z)(t,j),m=(0,s.Z)(l),f=null!=u?u:(0,v.jsx)(x.Z,{"aria-labelledby":m,color:"inherit",size:16}),P=(0,o.Z)({},t,{disabled:a,loading:d,loadingIndicator:f,loadingPosition:h,variant:g}),S=Z(P),y=d?(0,v.jsx)(b,{className:S.loadingIndicator,ownerState:P,children:f}):null;return(0,v.jsxs)(_,(0,o.Z)({disabled:a||d,id:m,ref:e},p,{variant:g,classes:S,ownerState:P,children:["end"===P.loadingPosition?r:y,"end"===P.loadingPosition?y:r]}))});var S=P},82959:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/organization",function(){return t(55196)}])},16278:function(n,e,t){"use strict";var i=t(85893);t(67294);var o=t(13029),r=t(46901);e.Z=n=>{let{open:e,onClose:t,message:a}=n;return(0,i.jsx)(o.Z,{open:e,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(r.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:a})})}},70515:function(n,e,t){"use strict";var i=t(85893);t(67294);var o=t(13029),r=t(46901);e.Z=n=>{let{open:e,onClose:t,message:a}=n;return(0,i.jsx)(o.Z,{open:e,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(r.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:a})})}},55196:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return K}});var i=t(85893),o=t(67294),r=t(9008),a=t.n(r),s=t(75823),l=t(36822),d=t(21214),c=t(16216),u=t(15861),x=t(83321),h=t(53219),g=t(66242),p=t(86886),m=t(50135),v=t(39620),j=t(16278),Z=t(70515),f=t(31812),_=t(28482),b=t(35110),P=t(84105),S=t(45697),y=t.n(S),I=t(41664),C=t.n(I),z=t(9424),w=t(98102),A=t(89755),E=t(90948),D=t(79369),L=t(9869),T=t(53816),N=t(27110),R=t(7906),O=t(53184),k=t(295),F=t(93946),M=t(25464),q=t(30431),U=t(734);let W=n=>{var e,t,r;let{data:a={}}=n,[s,d]=o.useState(null),[x,h]=(0,o.useState)(0),[m,v]=(0,o.useState)(!1);console.log(x,"activeItem");let j=e=>n.selectedRows.includes(e),Z=()=>{d(null),h(null)},f=(0,E.ZP)(w.Z)(n=>{let{theme:e}=n;return{["&.".concat(A.Z.head)]:{backgroundColor:e.palette.common.white,color:e.palette.common.black},["&.".concat(A.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),_=(0,E.ZP)(T.Z)(n=>{let{theme:e}=n;return{"&:last-child td, &:last-child th":{border:0}}});return console.log(a,"ewefsf>>>>"),(0,i.jsxs)(g.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:[(0,i.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(p.ZP,{item:!0,xs:2,md:3}),(0,i.jsx)(p.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(p.ZP,{item:!0,xs:1,md:1.5}),(0,i.jsx)(p.ZP,{item:!0,xs:8,md:6,children:(0,i.jsx)(N.Z,{component:"div",count:null!==(t=null==a?void 0:a.total)&&void 0!==t?t:0,onPageChange:(e,t)=>{n.onPageChange(t+1)},onRowsPerPageChange:n.onRowsPerPageChange,page:(null==a?void 0:a.current_page)?(null==a?void 0:a.current_page)-1:0,rowsPerPage:null!==(r=null==a?void 0:a.per_page)&&void 0!==r?r:0,rowsPerPageOptions:[5,10,25]})})]}),(0,i.jsx)(U.L,{children:(0,i.jsx)(l.Z,{sx:{minWidth:800},children:(0,i.jsxs)(R.Z,{children:[(0,i.jsx)(O.Z,{children:(0,i.jsxs)(_,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,i.jsx)(f,{children:"SL"}),(0,i.jsx)(f,{children:z.qu.NAME}),(0,i.jsx)(f,{children:z.qu.USER_MOBILE}),(0,i.jsx)(f,{children:z.qu.STATUS}),(0,i.jsx)(f,{sx:{textAlign:"center"},children:z.qu.USERS_COUNT}),(0,i.jsx)(f,{sx:{textAlign:"center"},children:z.qu.SUBSCRIPTION_COUNTS}),(0,i.jsx)(f,{sx:{textAlign:"center"},children:z.qu.PURCHASES_AMOUNT}),(0,i.jsx)(f,{children:z.qu.ACTION})]})}),(0,i.jsx)(k.Z,{children:null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.map((e,t)=>{var o;j(e.id);let r=null!==(o=t+(null==a?void 0:a.from))&&void 0!==o?o:0;return(0,i.jsxs)(T.Z,{hover:!0,children:[(0,i.jsx)(w.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:r}),(0,i.jsx)(w.Z,{children:(0,i.jsx)(c.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,i.jsx)(u.Z,{variant:"caption",children:null==e?void 0:e.name})})}),(0,i.jsx)(w.Z,{children:(0,i.jsx)(u.Z,{variant:"caption",children:null==e?void 0:e.mobile})}),(0,i.jsx)(w.Z,{children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(null==e?void 0:e.status)==="1"?(0,i.jsx)(i.Fragment,{children:"Active"}):(0,i.jsx)(i.Fragment,{children:"Inactive"})})}),(0,i.jsx)(w.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.subscription_details_count})}),(0,i.jsx)(w.Z,{sx:{textAlign:"center"},children:(0,i.jsx)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:null==e?void 0:e.subscription_details_count})}),(0,i.jsx)(w.Z,{sx:{textAlign:"center"},children:(0,i.jsxs)(u.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:[(null==e?void 0:e.purchases_sum_sell_price)?null==e?void 0:e.purchases_sum_sell_price:0," ",n.currency]})}),(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(F.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:n=>{d(n.currentTarget),h(e)},children:(0,i.jsx)(D.Z,{})}),(0,i.jsx)(M.Z,{id:"subscription-menu",anchorEl:s,open:null!=s&&s,onClose:Z,sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(q.Z,{onClick:Z,children:(0,i.jsxs)(C(),{href:"organization/".concat(null==x?void 0:x.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[z.qu.DETAILS," ",(0,i.jsx)(L.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})})})]})]},e.id)})})]})})})]})};W.propTypes={count:y().number,items:y().array,onDeselectAll:y().func,onDeselectOne:y().func,onPageChange:y().func,onRowsPerPageChange:y().func,onSelectAll:y().func,onSelectOne:y().func,page:y().number,rowsPerPage:y().number,selected:y().array};var $=t(30015),B=t(26903),V=t(7328),H=t(2664),G=t(94005),Q=t(35191),X=t(78465);let J=n=>{var e,t,r,v;let[S,y]=(0,o.useState)([]),[I,C]=(0,o.useState)(""),[w,A]=(0,o.useState)(1),[E,D]=(0,o.useState)(5),[L,T]=(0,o.useState)([]),[N,R]=(0,o.useState)(!0),[O,k]=(0,o.useState)(!1),[F,M]=(0,o.useState)(1),[q,U]=(0,o.useState)(""),[$,B]=(0,o.useState)(!1),V=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,b.Q1)(n).then(n=>{var e;(null==n?void 0:n.code)==200&&(y(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.organization),R(!1))}).catch(n=>{})};console.log(S,"data>>>>>>"),(0,o.useEffect)(()=>{let n="per_page="+E;I&&I.length>3&&(n=n+"&search="+I),w&&(n=n+"&page="+w),V(n),B(!1)},[E,w]);let H=(0,o.useCallback)(n=>{D(n.target.value),A(1)},[]),[G,J]=(0,o.useState)(""),[K,Y]=(0,o.useState)(!1),[nn,ne]=(0,o.useState)(!1),nt=()=>{J(""),Y(!1),ne(!1)},ni=()=>{let n=null;if(!0===$){let e={per_page:null,search:q.search,min_subscription_count:q.min_subscription_count,min_users_count:q.min_users_count,min_price:q.min_price};console.log(e,"searchValues");let t=Object.keys(e).filter(n=>{let t=e[n];return""!==t&&null!=t});console.log("Filled fields:",t),n=t.map(n=>"".concat(n,"=").concat(encodeURIComponent(e[n]))).join("&")}(0,b.Q1)(n).then(n=>{var e,t;if((null==n?void 0:n.code)===200){let i=null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.organization)||void 0===e?void 0:e.data;if(console.log("allData:",i),i&&i.length>0){let n=P.P6.json_to_sheet(i),e=P.P6.book_new();P.P6.book_append_sheet(e,n,"SubscriptionPlans"),P.NC(e,"organization.xlsx")}else console.log("No data to export.")}}).catch(n=>{console.error("An error occurred:",n)})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:(0,i.jsx)("title",{children:z.qu.TITLE})}),(0,i.jsx)("div",{})]}),!1===N?(0,i.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%"},children:(0,i.jsx)(d.Z,{maxWidth:"xl",children:(0,i.jsxs)(c.Z,{spacing:3,children:[(0,i.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,i.jsx)(c.Z,{spacing:1,children:(0,i.jsx)(u.Z,{variant:"h5",sx:{marginLeft:"10px"},children:z.qu.TITLE})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{startIcon:(0,i.jsx)(h.Z,{fontSize:"12px",children:(0,i.jsx)(s.Z,{})}),variant:"contained",sx:{backgroundColor:X.Vp.primary,"&:hover":{backgroundColor:X.Vp.primary},"&:active":{backgroundColor:X.Vp.primary}},onClick:()=>ni(),children:z.qu.DOWNLOAD_BUTTON}),(0,i.jsxs)(u.Z,{inline:!0,variant:"body1",align:"right",color:"tomato",children:[(null===(t=n.userOrganization)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.organization_id)&&F>0&&F+" User left",(null===(v=n.userOrganization)||void 0===v?void 0:null===(r=v.user)||void 0===r?void 0:r.organization_id)&&F<=0&&"User limit exceed, If you want to create user contact admin"]})]})]}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,i.jsx)(g.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:(0,i.jsx)(l.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto"},children:(0,i.jsx)(p.ZP,{container:!0,spacing:2,children:(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(_.J9,{initialValues:{per_page:E,search:"",min_subscription_count:null,min_users_count:null,min_price:null,start_date:"",end_date:""},onSubmit:n=>{U(n),B(!0),k(!0);let e=Object.keys(n).filter(e=>{let t=n[e];return""!==t&&null!=t});console.log("Filled fields:",e);let t=e.map(e=>"".concat(e,"=").concat(encodeURIComponent(n[e]))).join("&");try{V(t),setTimeout(()=>{k(!1)},500)}catch(n){console.error("An error occurred:",n),setTimeout(()=>{k(!1)},500)}},children:n=>{let{values:e,errors:t,touched:o,setFieldValue:r}=n;return(0,i.jsx)(_.l0,{enctype:"multipart/form-data",children:(0,i.jsxs)(p.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px",fontFamily:"system-ui"},children:z.qu.NAME}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"search",as:m.Z,type:"text",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:z.qu.MIN_SUBSCRIPTIONS}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_subscription_count",as:m.Z,type:"text",fullWidth:!0})]})}),(0,i.jsxs)(p.ZP,{item:!0,xs:3,children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:z.qu.MIN_USER}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_users_count",as:m.Z,type:"text",fullWidth:!0})]}),(0,i.jsxs)(p.ZP,{item:!0,xs:3,children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:z.qu.MIN_PRICE}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"min_price",as:m.Z,type:"text",fullWidth:!0})]}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:z.qu.START_DATE}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"start_date",as:m.Z,type:"date",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:3,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"16px"},children:z.qu.END_DATE}),(0,i.jsx)(_.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"end_date",as:m.Z,type:"date",fullWidth:!0})]})}),(0,i.jsx)(p.ZP,{item:!0,xs:6}),(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsx)(f.Z,{type:"submit",color:"primary",loading:O,variant:"contained",sx:{mb:2,float:"right",backgroundColor:X.Vp.primary,"&:hover":{backgroundColor:X.Vp.primary},"&:active":{backgroundColor:X.Vp.primary}},children:z.zD}),(0,i.jsx)(j.Z,{open:K,onClose:nt,message:G}),(0,i.jsx)(Z.Z,{open:nn,onClose:nt,message:G})]})})]})})}})})})})})})}),(0,i.jsx)(W,{data:S,currency:n.currency,onPageChange:n=>{A(n)},onRowsPerPageChange:H,selectedRows:L,setSelectedRows:n=>T(n)}),(0,i.jsx)(j.Z,{open:K,onClose:nt,message:G}),(0,i.jsx)(Z.Z,{open:nn,onClose:nt,message:G})]})})}):(0,i.jsx)(Q.Z,{})]})})};J.getLayout=n=>(0,i.jsx)(v.A,{children:n});var K=(0,H.$j)(n=>{var e,t,i,o;return{isAuthenticated:null===(e=(0,$.Z)(n))||void 0===e?void 0:e.isAuthenticated,testData:null===(t=(0,$.Z)(n))||void 0===t?void 0:t.testData,userOrganization:null===(i=(0,B.Z)(n))||void 0===i?void 0:i.userOrganization,currency:null===(o=(0,$.Z)(n))||void 0===o?void 0:o.currency}},n=>({setUserProfileToReducerProp:e=>n((0,V.c9)(e)),setIsAuthenticatedProp:e=>n((0,G.BF)(e)),userOrganizationSetToReducerProp:e=>n((0,V.GI)(e))}))(J)},20067:function(){},72061:function(){}},function(n){n.O(0,[2251,8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,5864,7110,9620,9424,9774,2888,179],function(){return n(n.s=82959)}),_N_E=n.O()}]);