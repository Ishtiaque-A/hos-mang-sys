(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5637],{31812:function(t,e,i){"use strict";i.d(e,{Z:function(){return I}});var n=i(63366),a=i(87462),o=i(67294),r=i(98216),s=i(27909),l=i(94780),d=i(90948),c=i(71657),u=i(83321),x=i(98456),h=i(34867),p=i(1588);function g(t){return(0,h.Z)("MuiLoadingButton",t)}let m=(0,p.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=i(85893);let f=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Z=t=>{let{loading:e,loadingPosition:i,classes:n}=t,o={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${(0,r.Z)(i)}`],endIcon:[e&&`endIconLoading${(0,r.Z)(i)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${(0,r.Z)(i)}`]},s=(0,l.Z)(o,g,n);return(0,a.Z)({},n,s)},j=t=>"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t,b=(0,d.ZP)(u.Z,{shouldForwardProp:t=>j(t)||"classes"===t,name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,e)=>[e.root,e.startIconLoadingStart&&{[`& .${m.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${m.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:t,theme:e})=>(0,a.Z)({[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},"center"===t.loadingPosition&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${m.loading}`]:{color:"transparent"}},"start"===t.loadingPosition&&t.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===t.loadingPosition&&t.fullWidth&&{[`& .${m.startIconLoadingStart}, & .${m.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),y=(0,d.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>{let{ownerState:i}=t;return[e.loadingIndicator,e[`loadingIndicator${(0,r.Z)(i.loadingPosition)}`]]}})(({theme:t,ownerState:e})=>(0,a.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})),S=o.forwardRef(function(t,e){let i=(0,c.Z)({props:t,name:"MuiLoadingButton"}),{children:o,disabled:r=!1,id:l,loading:d=!1,loadingIndicator:u,loadingPosition:h="center",variant:p="text"}=i,g=(0,n.Z)(i,f),m=(0,s.Z)(l),j=null!=u?u:(0,v.jsx)(x.Z,{"aria-labelledby":m,color:"inherit",size:16}),S=(0,a.Z)({},i,{disabled:r,loading:d,loadingIndicator:j,loadingPosition:h,variant:p}),I=Z(S),E=d?(0,v.jsx)(y,{className:I.loadingIndicator,ownerState:S,children:j}):null;return(0,v.jsxs)(b,(0,a.Z)({disabled:r||d,id:m,ref:e},g,{variant:p,classes:I,ownerState:S,children:["end"===S.loadingPosition?o:E,"end"===S.loadingPosition?E:o]}))});var I=S},21214:function(t,e,i){"use strict";i.d(e,{Z:function(){return S}});var n=i(63366),a=i(87462),o=i(67294),r=i(63961),s=i(14142),l=i(34867),d=i(94780),c=i(31607),u=i(57874),x=i(46567),h=i(85893);let p=["className","component","disableGutters","fixed","maxWidth","classes"],g=(0,x.Z)(),m=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return[e.root,e[`maxWidth${(0,s.Z)(String(i.maxWidth))}`],i.fixed&&e.fixed,i.disableGutters&&e.disableGutters]}}),v=t=>(0,c.Z)({props:t,name:"MuiContainer",defaultTheme:g}),f=(t,e)=>{let{classes:i,fixed:n,disableGutters:a,maxWidth:o}=t,r={root:["root",o&&`maxWidth${(0,s.Z)(String(o))}`,n&&"fixed",a&&"disableGutters"]};return(0,d.Z)(r,t=>(0,l.Z)(e,t),i)};var Z=i(98216),j=i(90948),b=i(71657);let y=function(t={}){let{createStyledComponent:e=m,useThemeProps:i=v,componentName:s="MuiContainer"}=t,l=e(({theme:t,ownerState:e})=>(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}),({theme:t,ownerState:e})=>e.fixed&&Object.keys(t.breakpoints.values).reduce((e,i)=>{let n=t.breakpoints.values[i];return 0!==n&&(e[t.breakpoints.up(i)]={maxWidth:`${n}${t.breakpoints.unit}`}),e},{}),({theme:t,ownerState:e})=>(0,a.Z)({},"xs"===e.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},e.maxWidth&&"xs"!==e.maxWidth&&{[t.breakpoints.up(e.maxWidth)]:{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`}})),d=o.forwardRef(function(t,e){let o=i(t),{className:d,component:c="div",disableGutters:u=!1,fixed:x=!1,maxWidth:g="lg"}=o,m=(0,n.Z)(o,p),v=(0,a.Z)({},o,{component:c,disableGutters:u,fixed:x,maxWidth:g}),Z=f(v,s);return(0,h.jsx)(l,(0,a.Z)({as:c,ownerState:v,className:(0,r.Z)(Z.root,d),ref:e},m))});return d}({createStyledComponent:(0,j.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return[e.root,e[`maxWidth${(0,Z.Z)(String(i.maxWidth))}`],i.fixed&&e.fixed,i.disableGutters&&e.disableGutters]}}),useThemeProps:t=>(0,b.Z)({props:t,name:"MuiContainer"})});var S=y},15779:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-feature/[id]",function(){return i(64741)}])},16278:function(t,e,i){"use strict";var n=i(85893);i(67294);var a=i(13029),o=i(46901);e.Z=t=>{let{open:e,onClose:i,message:r}=t;return(0,n.jsx)(a.Z,{open:e,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(o.Z,{onClose:i,severity:"success",sx:{width:"100%"},children:r})})}},70515:function(t,e,i){"use strict";var n=i(85893);i(67294);var a=i(13029),o=i(46901);e.Z=t=>{let{open:e,onClose:i,message:r}=t;return(0,n.jsx)(a.Z,{open:e,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(o.Z,{onClose:i,variant:"filled",severity:"error",sx:{width:"100%"},children:r})})}},64741:function(t,e,i){"use strict";i.r(e);var n=i(85893),a=i(67294),o=i(9008),r=i.n(o),s=i(41664),l=i.n(s),d=i(36822),c=i(21214),u=i(16216),x=i(15861),h=i(66242),p=i(86886),g=i(50135),m=i(83978),v=i(83321),f=i(31812),Z=i(16310),j=i(28482),b=i(90948),y=i(11791),S=i(39620),I=i(30015),E=i(7328),L=i(2664),P=i(26903),_=i(16278),w=i(70515),R=i(11163),k=i(9424),C=i(40294),T=i(35110),A=i(67720),W=i(35191);(0,b.ZP)(y.Z)(t=>{let{theme:e}=t;return{backgroundColor:"dark"===e.palette.mode?"#1A2027":"#fff",...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}});let $=t=>{let[e,i]=(0,a.useState)([]);(0,a.useEffect)(()=>{let t=async()=>{try{var t;let e=await (0,T.eK)(),n=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.features)||[];i(n)}catch(t){console.log(t)}};t()},[]);let o=(0,R.useRouter)(),{id:s}=o.query,[b,y]=(0,a.useState)([]),[S,I]=(0,a.useState)(!0),[E,L]=(0,a.useState)([]),[P,$]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=async()=>{try{var t;let e=await (0,T.uY)(s);(null==e?void 0:e.data)&&(y(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.feature),I(!1))}catch(t){console.log(t)}};t()},[]);let N=e.filter(t=>t.id!=s),D=e.filter(t=>{var e;return t.id===(null==b?void 0:null===(e=b.parent)||void 0===e?void 0:e.id)})[0];console.log(e,"featureData"),console.log(b,"details");let z=Z.Ry().shape({name:Z.Z_().required(k.m2.ERROR_NAME),status:Z.Z_().required(k.m2.ERROR_NAME),details:Z.Z_().required(k.m2.ERROR_DETAILS)}),M=[{value:1,label:"Active"},{value:0,label:"Inactive"}],F=M.filter(t=>t.value===parseInt(null==b?void 0:b.status))[0],[G,O]=(0,a.useState)([]),[B,U]=(0,a.useState)(null),[q,V]=(0,a.useState)([]);(0,a.useEffect)(()=>{let t=async()=>{V(N),L(D),O(M),U(F)};t()},[b]),console.log(B,"selectedOption2");let[H,X]=(0,a.useState)(""),[J,K]=(0,a.useState)(!1),[Y,Q]=(0,a.useState)(!1),tt=()=>{X(""),K(!1),Q(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:k.m2.TITLE2})}),!1===S&&B?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{component:"main",sx:{flexGrow:1},children:(0,n.jsx)(c.Z,{maxWidth:"xl",children:(0,n.jsx)(u.Z,{spacing:3,children:(0,n.jsx)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,n.jsx)(u.Z,{spacing:1,children:(0,n.jsx)(x.Z,{variant:"h5",sx:{padding:"8px",marginLeft:""},children:k.m2.TITLE2})})})})})}),(0,n.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,n.jsx)(c.Z,{maxWidth:"xl",children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(d.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto",marginTop:"2rem"},children:(0,n.jsx)(p.ZP,{container:!0,spacing:2,children:(0,n.jsx)(p.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.J9,{initialValues:{id:s,name:(null==b?void 0:b.name)||"",status:(null==b?void 0:b.status)||0,parent_id:(null==b?void 0:b.parent_id)||0,details:(null==b?void 0:b.details)||""},onSubmit:t=>{$(!0);let e={id:parseInt(t.id),name:t.name,details:t.details,status:t.status,parent_id:parseInt(t.parent_id)};(0,T.TE)(e).then(t=>{if(console.log(t,"res>>>>"),200===t.code)X(k.m2.ADD_SUCCESS_MESSAGE2),K(!0),$(!1),setTimeout(()=>{o.push(C.GN.FEATURE_PLAN_LIST)},3e3);else{var e;if($(!1),Object.keys(null==t?void 0:t.errors).length>0){for(let i in null===(e=t)||void 0===e?void 0:e.errors)if(t.errors[i]){let e=t.errors[i];for(let t=0;t<e.length;t++){let i=e[t];console.log("Error: "+i),X(i),Q(!0)}}}else $(!1),X(t.message),Q(!0)}}).catch(t=>{X(k.m2.ADD_ERROR_MESSAGE),Q(!0),$(!1)})},validationSchema:z,children:t=>{let{values:e,errors:i,touched:a,setFieldValue:o}=t;return(0,n.jsx)(j.l0,{encType:"multipart/form-data",children:(0,n.jsxs)(p.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[k.m2.MAME,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"name",as:g.Z,type:"text",fullWidth:!0}),a.name&&i.name&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px"},children:i.name})]})}),(0,n.jsxs)(p.ZP,{item:!0,xs:6,children:[(0,n.jsx)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:"Select parent"}),(0,n.jsx)(j.gN,{name:"parent_id",as:m.Z,children:t=>{let{field:e,form:i}=t;return(0,n.jsx)(m.Z,{...e,value:D,onChange:(t,e)=>{L(e),i.setFieldValue("parent_id",e?Number(e.id):null)},options:q,getOptionLabel:t=>t.name,renderInput:t=>(0,n.jsx)(g.Z,{...t,size:"small",variant:"outlined",error:i.errors.status&&i.touched.parent,helperText:i.errors.parent&&i.touched.parent&&i.errors.parent,sx:{mb:2,"& input":{color:"#4F4D4D"}}})})}})]}),(0,n.jsxs)(p.ZP,{item:!0,xs:6,children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[k.m2.STATUS,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{name:"status",as:m.Z,children:t=>{let{field:e,form:i}=t;return(0,n.jsx)(m.Z,{...e,value:B,onChange:(t,e)=>{U(e),i.setFieldValue("status",e?Number(e.value):null)},options:G,getOptionLabel:t=>t.label,renderInput:t=>(0,n.jsx)(g.Z,{...t,size:"small",variant:"outlined",error:i.errors.status&&i.touched.status,helperText:i.errors.status&&i.touched.status&&i.errors.status,sx:{mb:2,"& input":{color:"#4F4D4D"}}})})}})]}),(0,n.jsx)(p.ZP,{item:!0,xs:12,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[k.m2.DETAILS,(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"details",as:g.Z,multiline:!0,rows:4,type:"text",fullWidth:!0}),a.storage_limit&&i.storage_limit&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px"},children:i.storage_limit})]})}),(0,n.jsxs)(p.ZP,{item:!0,xs:6,children:[(0,n.jsx)(A.Z,{}),(0,n.jsx)("div",{style:{width:"100%"},children:(0,n.jsx)(l(),{href:C.GN.FEATURE_PLAN_LIST,children:(0,n.jsx)(v.Z,{variant:"contained",sx:{background:"white",padding:"3px",color:"#4287DA",mt:2,ml:-3,float:"","&:hover":{background:"#10741C",color:"white"}},children:k.Fo})})})]}),(0,n.jsxs)(p.ZP,{item:!0,xs:6,children:[(0,n.jsx)(A.Z,{}),(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)(f.Z,{type:"submit",color:"primary",loading:P,variant:"contained",sx:{background:"#089B1A",padding:"3px",color:"white",mb:2,float:"right","&:hover":{background:"#10741C"}},children:k.zD}),(0,n.jsx)(_.Z,{open:J,onClose:tt,message:H}),(0,n.jsx)(w.Z,{open:Y,onClose:tt,message:H})]})]})]})})}})})})})})})})]}):(0,n.jsx)(W.Z,{})]})};$.getLayout=t=>(0,n.jsx)(S.A,{children:t}),e.default=(0,L.$j)(t=>{var e,i;return{isAuthenticated:null===(e=(0,I.Z)(t))||void 0===e?void 0:e.isAuthenticated,userProfile:null===(i=(0,P.Z)(t))||void 0===i?void 0:i.userProfile}},t=>({setUserProfileToReducerProp:e=>t((0,E.c9)(e))}))($)}},function(t){t.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,5551,3978,9620,9424,9774,2888,179],function(){return t(t.s=15779)}),_N_E=t.O()}]);