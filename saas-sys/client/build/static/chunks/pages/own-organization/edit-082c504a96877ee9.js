(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7736],{64055:function(e,i,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/own-organization/edit",function(){return l(75833)}])},16278:function(e,i,l){"use strict";var n=l(85893);l(67294);var s=l(13029),r=l(46901);i.Z=e=>{let{open:i,onClose:l,message:t}=e;return(0,n.jsx)(s.Z,{open:i,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(r.Z,{onClose:l,severity:"success",sx:{width:"100%"},children:t})})}},70515:function(e,i,l){"use strict";var n=l(85893);l(67294);var s=l(13029),r=l(46901);i.Z=e=>{let{open:i,onClose:l,message:t}=e;return(0,n.jsx)(s.Z,{open:i,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsx)(r.Z,{onClose:l,variant:"filled",severity:"error",sx:{width:"100%"},children:t})})}},75833:function(e,i,l){"use strict";l.r(i);var n=l(85893),s=l(67294),r=l(9008),t=l.n(r);l(41664);var o=l(36822),a=l(21214),d=l(16216),c=l(15861),x=l(66242),m=l(86886),p=l(50135),u=l(31812),h=l(16310),j=l(28482),f=l(90948),g=l(11791),v=l(39620),y=l(30015),Z=l(7328),b=l(2664),E=l(26903),S=l(35110),D=l(16278),R=l(70515),w=l(11163),P=l(9424),z=l(40294),A=l(35191),_=l(65400),T=l.n(_),F=l(28465);(0,f.ZP)(g.Z)(e=>{let{theme:i}=e;return{backgroundColor:"dark"===i.palette.mode?"#1A2027":"#fff",...i.typography.body2,padding:i.spacing(1),textAlign:"center",color:i.palette.text.secondary}});let L=e=>{let i=(0,w.useRouter)(),{id:l}=i.query,[r,f]=(0,s.useState)([]),[g,v]=(0,s.useState)(1),[y,Z]=(0,s.useState)(null),[b,E]=(0,s.useState)("");(0,s.useEffect)(()=>{setTimeout(()=>{v(2)},1100)},[]),(0,s.useEffect)(()=>{let e=async()=>{try{var e,i;let l=await (0,S.KF)();f(null==l?void 0:null===(i=l.data)||void 0===i?void 0:null===(e=i.user)||void 0===e?void 0:e.organization)}catch(e){console.log(e)}};e()},[]),console.log(r,"details>>>>>>>>>>>>>>>>");let _=(e,i)=>{if(e.fileList.length>0){let l=e.fileList[0].originFileObj;console.log("file:",l);let n=new FileReader;n.onload=()=>{console.log("reader.result:",n.result),E(n.result),i("logo",n.result)},n.readAsDataURL(l)}},L=h.Ry().shape({name:h.Z_().required(P.cm.REQUIRED.NAME),email:h.Z_().email("Invalid email format").required(P.xR.REQUIRED.EMAIL).matches(/^[^@]+@[^@]+\.[^@]+$/,"Invalid email format"),mobile:h.Z_().matches(/^01[0-9]{9}$/,"Invalid phone number").required(P.xR.REQUIRED.PHONE),address:h.Z_().required(P.cm.REQUIRED.ADDRESS)}),[C,N]=(0,s.useState)(!1),[k,I]=(0,s.useState)(!1),[O,U]=(0,s.useState)(""),W=()=>{U(""),N(!1),I(!1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:P.cm.TITLE})}),2===g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{component:"main",sx:{flexGrow:1},children:(0,n.jsx)(a.Z,{maxWidth:"xl",children:(0,n.jsx)(d.Z,{spacing:3,children:(0,n.jsx)(d.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,n.jsx)(d.Z,{spacing:1,children:(0,n.jsx)(c.Z,{variant:"h5",sx:{padding:"8px",marginLeft:""},children:P.cm.TITLE})})})})})}),(0,n.jsx)(o.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,n.jsx)(a.Z,{maxWidth:"xl",children:(0,n.jsx)(x.Z,{children:(0,n.jsx)(o.Z,{sx:{flexGrow:1,width:"90%",margin:"0 auto",marginTop:"2rem"},children:(0,n.jsx)(m.ZP,{container:!0,spacing:2,children:(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.J9,{initialValues:{name:(null==r?void 0:r.name)||"",email:(null==r?void 0:r.email)||"",mobile:(null==r?void 0:r.mobile)||"",address:(null==r?void 0:r.address)||"",description:(null==r?void 0:r.description)||"",logo:(null==r?void 0:r.logo)||b},onSubmit:e=>{if(y){let e=new FileReader;e.readAsDataURL(y),e.onloadend=()=>{E(e.result)}}console.log(e,"data>>>>>>"),(0,S.PB)(e).then(e=>{if(200===e.code)U(P.cm.UPDATE_SUCCESS_MESSAGE),N(!0),setTimeout(()=>{i.push(z.s7)},3e3);else{var l;if(Object.keys(null==e?void 0:e.errors).length>0){for(let i in null===(l=e)||void 0===l?void 0:l.errors)if(e.errors[i]){let l=e.errors[i];for(let e=0;e<l.length;e++){let i=l[e];console.log("Error: "+i),U(i),I(!0)}}}else U(e.message),I(!0)}}).catch(e=>{U(P.cm.ADD_ERROR_MESSAGE),I(!0)})},validationSchema:L,children:e=>{let{values:i,errors:l,touched:s,setFieldValue:r}=e;return(0,n.jsx)(j.l0,{encType:"multipart/form-data",children:(0,n.jsxs)(m.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,n.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,n.jsx)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:P.cm.LOGO}),(0,n.jsx)("div",{children:(0,n.jsx)(F.Z,{beforeUpload:()=>!1,onChange:e=>_(e,r),accept:"image/*",children:(0,n.jsx)(T(),{style:{backgroundColor:"#089B1A",color:"white",border:"none",borderRadius:"5px"},children:"Pick File"})})})]}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[P.cm.NAME," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"name",as:p.Z,type:"text",fullWidth:!0}),s.name&&l.name&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:l.name})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[P.xR.EMAIL," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"email",as:p.Z,type:"email",fullWidth:!0}),s.email&&l.email&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:l.email})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[P.xR.PHONE," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"mobile",as:p.Z,type:"text",fullWidth:!0}),s.mobile&&l.mobile&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:l.mobile})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[P.cm.ADDRESS," ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"address",as:p.Z,type:"text",fullWidth:!0}),s.address&&l.address&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:l.address})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:12,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[P.cm.DETAILS,"  ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)(j.gN,{size:"small",variant:"outlined",sx:{mb:2,"& input":{color:"#4F4D4D"}},name:"description",as:p.Z,multiline:!0,rows:4,type:"text",fullWidth:!0}),s.description&&l.description&&(0,n.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:l.description})]})}),(0,n.jsx)(m.ZP,{item:!0,xs:6}),(0,n.jsx)(m.ZP,{item:!0,xs:6,children:(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)(u.Z,{type:"submit",color:"primary",variant:"contained",sx:{background:"#089B1A",padding:"3px",color:"white",mb:2,float:"right","&:hover":{background:"#10741C"}},children:P.zD}),(0,n.jsx)(D.Z,{open:C,onClose:W,message:O}),(0,n.jsx)(R.Z,{open:k,onClose:W,message:O})]})})]})})}})})})})})})})]}):(0,n.jsx)(A.Z,{})]})})};L.getLayout=e=>(0,n.jsx)(v.A,{children:e}),i.default=(0,b.$j)(e=>{var i,l;return{isAuthenticated:null===(i=(0,y.Z)(e))||void 0===i?void 0:i.isAuthenticated,userProfile:null===(l=(0,E.Z)(e))||void 0===l?void 0:l.userProfile}},e=>({setUserProfileToReducerProp:i=>e((0,Z.c9)(i))}))(L)}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,4110,8939,9620,9424,9774,2888,179],function(){return e(e.s=64055)}),_N_E=e.O()}]);