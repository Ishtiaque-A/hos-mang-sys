(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1820],{38963:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/refund-list/[id]",function(){return i(27731)}])},16278:function(e,n,i){"use strict";var s=i(85893);i(67294);var r=i(13029),l=i(46901);n.Z=e=>{let{open:n,onClose:i,message:t}=e;return(0,s.jsx)(r.Z,{open:n,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(l.Z,{onClose:i,severity:"success",sx:{width:"100%"},children:t})})}},70515:function(e,n,i){"use strict";var s=i(85893);i(67294);var r=i(13029),l=i(46901);n.Z=e=>{let{open:n,onClose:i,message:t}=e;return(0,s.jsx)(r.Z,{open:n,autoHideDuration:6e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(l.Z,{onClose:i,variant:"filled",severity:"error",sx:{width:"100%"},children:t})})}},27731:function(e,n,i){"use strict";i.r(n);var s=i(85893),r=i(67294),l=i(11163),t=i(41664),o=i.n(t),d=i(9008),a=i.n(d),c=i(37645),x=i(36822),u=i(21214),h=i(16216),p=i(15861),m=i(66242),j=i(86886),g=i(83321),f=i(50135),v=i(83978),_=i(39620),Z=i(35110),b=i(9424),S=i(40294),y=i(16278),E=i(70515),N=i(50657),T=i(31425),P=i(16310),C=i(28482),D=i(35191);let w=()=>{var e,n,i,t,d,_;let w=(0,l.useRouter)(),{id:A}=w.query,[B,F]=(0,r.useState)([]),[R,k]=(0,r.useState)(null),[I,z]=(0,r.useState)([{id:0,name:"Rejected"},{id:1,name:"Initiate"},{id:2,name:"In progress"},{id:3,name:"Closed"}]),[L,O]=(0,r.useState)(""),[U,W]=(0,r.useState)(!1),[G,M]=(0,r.useState)(!1),[q,V]=(0,r.useState)(!1),[H,J]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(0,Z.iB)(A).then(e=>{(null==e?void 0:e.code)==200&&(F(null==e?void 0:e.data),J(!1))}).catch(()=>{O("Unable to fetch data"),M(!0)})},[q]);let K={id:A,account_details:"",refund_note:"",refund_reference:(null==B?void 0:B.refund_reference)||"",status:null};console.log(K,"initialValues");let X=P.Ry().shape({}),Q=()=>{O(""),W(!1),M(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{children:(0,s.jsxs)("title",{children:[b.BN.DETAILS_TITLE," "]})}),!1===H?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{component:"main",sx:{flexGrow:1},children:(0,s.jsx)(u.Z,{maxWidth:"xl",children:(0,s.jsx)(h.Z,{spacing:3,children:(0,s.jsx)(h.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,s.jsx)(h.Z,{spacing:1,children:(0,s.jsx)(p.Z,{variant:"h5",sx:{padding:"8px",marginLeft:""},children:b.BN.DETAILS_TITLE})})})})})}),(0,s.jsx)(x.Z,{component:"main",sx:{flexGrow:1,py:1},children:(0,s.jsx)(u.Z,{maxWidth:"xl",children:(0,s.jsx)(m.Z,{children:(0,s.jsxs)(x.Z,{sx:{flexGrow:1,width:"80%",margin:"0 auto",marginTop:"2rem"},children:[(0,s.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginBottom:"20px"},children:[(0,s.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[b.BN.NAME," :"]}),(0,s.jsx)(j.ZP,{xs:8,children:null==B?void 0:null===(i=B.cancel_request)||void 0===i?void 0:null===(n=i.purchase)||void 0===n?void 0:null===(e=n.organization)||void 0===e?void 0:e.name})]}),(0,s.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,s.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[b.BN.SUBSCRIPTION_PLAN," :"]}),(0,s.jsx)(j.ZP,{xs:8,children:null==B?void 0:null===(_=B.cancel_request)||void 0===_?void 0:null===(d=_.purchase)||void 0===d?void 0:null===(t=d.subscription_plan)||void 0===t?void 0:t.name})]}),(0,s.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,s.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[b.BN.AMOUNT," :"]}),(0,s.jsx)(j.ZP,{xs:8,children:null==B?void 0:B.amount})]}),(0,s.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,s.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[b.BN.STATUS," :"]}),(0,s.jsx)(j.ZP,{xs:8,children:(null==B?void 0:B.status)==="0"?(0,s.jsx)(s.Fragment,{children:"Rejected"}):(null==B?void 0:B.status)==="1"?(0,s.jsx)(s.Fragment,{children:"Initiate"}):(null==B?void 0:B.status)==="2"?(0,s.jsx)(s.Fragment,{children:"In progress"}):(0,s.jsx)(s.Fragment,{children:"Closed"})})]}),(0,s.jsxs)(j.ZP,{container:!0,spacing:2,sx:{color:"#545353",marginTop:"20px"},children:[(0,s.jsxs)(j.ZP,{xs:4,sx:{fontWeight:"bold"},children:[b.BN.REFOUND_REFERENCE," :"]}),(0,s.jsx)(j.ZP,{xs:8,children:null==B?void 0:B.refund_reference})]}),(null==B?void 0:B.status)=="1"&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(g.Z,{variant:"contained",onClick:()=>V(!0),sx:{background:"#089B1A",color:"white",border:"",marginTop:"1rem",float:"right",marginBottom:"1rem",padding:"3px","&:hover":{background:"#10741C"}},children:b.BN.STATUS_UPDATE})}),(0,s.jsx)(j.ZP,{item:!0,xs:6,children:(0,s.jsx)("div",{style:{width:"100%"},children:(0,s.jsx)(o(),{href:S.GN.REFUND_LIST,children:(0,s.jsx)(g.Z,{variant:"contained",sx:{background:"white",padding:"3px",color:"#4287DA",mt:2,ml:-3,float:"","&:hover":{background:"#10741C",color:"white"}},children:"BACK"})})})}),(0,s.jsxs)(N.Z,{open:q,onClose:()=>V(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,s.jsxs)(c.Z,{children:[" ",b.Ii.ACCEPT_Request]}),(0,s.jsx)(x.Z,{sx:{width:"90%",justifyContent:"center",margin:"0 auto",mt:"-40px",display:"flex",flexDirection:"column",alignItems:"center","& > *":{m:1}},children:(0,s.jsx)(C.J9,{initialValues:K,onSubmit:e=>{(0,Z.JK)(e).then(e=>{if(200===e.code)O(b.kD.ADD_SUCCESS_MESSAGE),W(!0),V(!1);else{var n,i;if(Object.keys(null==e?void 0:e.errors).length>0){for(let i in null===(n=e)||void 0===n?void 0:n.errors)if(e.errors[i]){let n=e.errors[i];for(let e=0;e<n.length;e++)O(n[e]),M(!0)}}else O(null!==(i=null==e?void 0:e.message)&&void 0!==i?i:b.kD.ADD_ERROR_MESSAGE),M(!0)}}).catch(e=>{O(b.kD.ADD_ERROR_MESSAGE),M(!0)})},validationSchema:X,children:e=>{let{values:n,errors:i,touched:r,handleChange:l,handleBlur:t,handleSubmit:o,isSubmitting:d}=e;return(0,s.jsx)(C.l0,{children:(0,s.jsxs)(j.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},sx:{marginTop:"2rem"},children:[(0,s.jsx)(j.ZP,{item:!0,xs:12,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[b.BN.ACCOUNT_DETAILS," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(C.gN,{size:"small",variant:"outlined",sx:{mb:2,background:"rgb(246, 247, 247)","& input":{color:"#4F4D4D"}},name:"account_details",as:f.Z,type:"text",fullWidth:!0}),r.account_details&&i.account_details&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.account_details})]})}),(0,s.jsx)(j.ZP,{item:!0,xs:12,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[b.BN.NOTE," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(C.gN,{size:"small",variant:"outlined",sx:{mb:2,background:"rgb(246, 247, 247)","& input":{color:"#4F4D4D"}},name:"refund_note",as:f.Z,type:"text",rows:4,fullWidth:!0,multiline:!0}),r.refund_note&&i.refund_note&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.refund_note})]})}),(0,s.jsx)(j.ZP,{item:!0,xs:12,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[b.BN.REFOUND_REFERENCE," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(C.gN,{size:"small",variant:"outlined",sx:{mb:2,background:"rgb(246, 247, 247)","& input":{color:"#4F4D4D"}},name:"refund_reference",as:f.Z,type:"text",fullWidth:!0}),r.refund_reference&&i.refund_reference&&(0,s.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"-20px",marginLeft:"15px"},children:i.refund_reference})]})}),(0,s.jsxs)(j.ZP,{item:!0,xs:12,children:[(0,s.jsxs)("label",{style:{fontSize:"16px",fontFamily:"-apple-system"},children:[b.BN.STATUS," ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)(C.gN,{name:"status",as:v.Z,children:e=>{let{field:n,form:i}=e;return(0,s.jsx)(v.Z,{...n,value:R,onChange:(e,n)=>{k(n),i.setFieldValue("status",n?Number(n.id):null)},options:I,getOptionLabel:e=>e.name,renderInput:e=>(0,s.jsx)(f.Z,{...e,size:"small",variant:"outlined",error:i.errors.subscription_plan_id&&i.touched.subscription_plan_id,helperText:i.errors.subscription_plan_id&&i.touched.subscription_plan_id&&i.errors.subscription_plan_id,sx:{background:"rgb(246, 247, 247)",width:"100%",marginBottom:"20px"}})})}})]}),(0,s.jsx)(j.ZP,{item:!0,xs:12,children:(0,s.jsx)("div",{children:(0,s.jsx)(T.Z,{sx:{marginLeft:"150px"},children:(0,s.jsx)(g.Z,{type:"submit",children:"SUBMIT"})})})})]})})}})})]}),(0,s.jsx)(y.Z,{open:U,onClose:Q,message:L}),(0,s.jsx)(E.Z,{open:G,onClose:Q,message:L})]})})})})]}):(0,s.jsx)(D.Z,{})]})};w.getLayout=e=>(0,s.jsx)(_.A,{children:e}),n.default=w}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,8482,135,5551,3978,3819,9620,9424,9774,2888,179],function(){return e(e.s=38963)}),_N_E=e.O()}]);