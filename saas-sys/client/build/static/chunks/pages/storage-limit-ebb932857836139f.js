(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3777],{50657:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var r=t(63366),i=t(87462),o=t(67294),a=t(63961),l=t(94780),s=t(92996),c=t(98216),d=t(22410),u=t(16628),p=t(11791),h=t(71657),x=t(90948),g=t(1588),m=t(34867);function v(e){return(0,m.Z)("MuiDialog",e)}let Z=(0,g.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var f=t(34182),j=t(84808),b=t(2734),S=t(85893);let P=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],y=(0,x.ZP)(j.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,n)=>n.backdrop})({zIndex:-1}),w=e=>{let{classes:n,scroll:t,maxWidth:r,fullWidth:i,fullScreen:o}=e,a={root:["root"],container:["container",`scroll${(0,c.Z)(t)}`],paper:["paper",`paperScroll${(0,c.Z)(t)}`,`paperWidth${(0,c.Z)(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,l.Z)(a,v,n)},k=(0,x.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,n)=>n.root})({"@media print":{position:"absolute !important"}}),C=(0,x.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,n)=>{let{ownerState:t}=e;return[n.container,n[`scroll${(0,c.Z)(t.scroll)}`]]}})(({ownerState:e})=>(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),D=(0,x.ZP)(p.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,n)=>{let{ownerState:t}=e;return[n.paper,n[`scrollPaper${(0,c.Z)(t.scroll)}`],n[`paperWidth${(0,c.Z)(String(t.maxWidth))}`],t.fullWidth&&n.paperFullWidth,t.fullScreen&&n.paperFullScreen]}})(({theme:e,ownerState:n})=>(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Z.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${e.breakpoints.values[n.maxWidth]}${e.breakpoints.unit}`,[`&.${Z.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Z.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),A=o.forwardRef(function(e,n){let t=(0,h.Z)({props:e,name:"MuiDialog"}),l=(0,b.Z)(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":x,BackdropComponent:g,BackdropProps:m,children:v,className:Z,disableEscapeKeyDown:j=!1,fullScreen:A=!1,fullWidth:_=!1,maxWidth:E="sm",onBackdropClick:W,onClose:O,open:R,PaperComponent:z=p.Z,PaperProps:T={},scroll:M="paper",TransitionComponent:I=u.Z,transitionDuration:N=c,TransitionProps:L}=t,B=(0,r.Z)(t,P),$=(0,i.Z)({},t,{disableEscapeKeyDown:j,fullScreen:A,fullWidth:_,maxWidth:E,scroll:M}),F=w($),G=o.useRef(),U=(0,s.Z)(x),X=o.useMemo(()=>({titleId:U}),[U]);return(0,S.jsx)(k,(0,i.Z)({className:(0,a.Z)(F.root,Z),closeAfterTransition:!0,components:{Backdrop:y},componentsProps:{backdrop:(0,i.Z)({transitionDuration:N,as:g},m)},disableEscapeKeyDown:j,onClose:O,open:R,ref:n,onClick:e=>{G.current&&(G.current=null,W&&W(e),O&&O(e,"backdropClick"))},ownerState:$},B,{children:(0,S.jsx)(I,(0,i.Z)({appear:!0,in:R,timeout:N,role:"presentation"},L,{children:(0,S.jsx)(C,{className:(0,a.Z)(F.container),onMouseDown:e=>{G.current=e.target===e.currentTarget},ownerState:$,children:(0,S.jsx)(D,(0,i.Z)({as:z,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":U},T,{className:(0,a.Z)(F.paper,T.className),ownerState:$,children:(0,S.jsx)(f.Z.Provider,{value:X,children:v})}))})}))}))});var _=A},34182:function(e,n,t){"use strict";var r=t(67294);let i=r.createContext({});n.Z=i},50870:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storage-limit",function(){return t(47193)}])},3545:function(e,n,t){"use strict";function r(e,n){return"SUPER_ADMIN"==e?2==n||0==n:"ADMIN"==e?3==n||2==n||0==n:"LOCAL_ADMIN"==e?3==n:"LOCAL_USER"==e?4==n:"USER"==e&&5==n}t.d(n,{xZ:function(){return r}}),t(32021)},15784:function(e,n,t){"use strict";t.d(n,{c:function(){return i}});var r=t(67294);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{t([])},[e]);let i=(0,r.useCallback)(()=>{t([...e])},[e]),o=(0,r.useCallback)(e=>{t(n=>[...n,e])},[]),a=(0,r.useCallback)(()=>{t([])},[]),l=(0,r.useCallback)(e=>{t(n=>n.filter(n=>n!==e))},[]);return{handleDeselectAll:a,handleDeselectOne:l,handleSelectAll:i,handleSelectOne:o,selected:n}}},47193:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return en}});var r=t(85893),i=t(67294),o=t(41664),a=t.n(o),l=t(9008),s=t.n(l),c=t(88005),d=t(36822),u=t(21214),p=t(16216),h=t(15861),x=t(83321),g=t(53219),m=t(15784),v=t(39620);t(98893);var Z=t(35110),f=t(90948),j=t(50657),b=t(11163),S=t(45697),P=t.n(S),y=t(9424),w=t(98102),k=t(89755),C=t(89396),D=t(57709),A=t(87109);let _=e=>{let{onSearch:n}=e;return(0,r.jsx)(p.Z,{spacing:3,children:(0,r.jsx)(p.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,r.jsx)(D.Z,{onChange:e=>{let t=e.target.value;n(t)},style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search",startAdornment:(0,r.jsx)(A.Z,{position:"start",children:(0,r.jsx)(g.Z,{color:"action",fontSize:"small",children:(0,r.jsx)(C.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})};var E=t(79369),W=t(9869),O=t(53816),R=t(66242),z=t(86886),T=t(27110),M=t(7906),I=t(53184),N=t(69368),L=t(295),B=t(93946),$=t(25464),F=t(30431),G=t(734),U=t(40294);t(3545);let X=e=>{let{count:n=0,items:t=[],onPageChange:o=()=>{},onRowsPerPageChange:l,page:s=0,rowsPerPage:c=0,selected:u=[],onSearch:x}=e,[g,m]=(0,i.useState)(u),[v,Z]=(0,i.useState)(!1),[j,b]=(0,i.useState)(0),S=e=>g.includes(e),[P,C]=i.useState(null),[D,A]=i.useState(null),[X,Y]=i.useState(null),V=()=>{C(null),b(null)},H=!!P,K=(0,f.ZP)(w.Z)(e=>{let{theme:n}=e;return{["&.".concat(k.Z.head)]:{backgroundColor:n.palette.common.white,color:n.palette.common.black},["&.".concat(k.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),q=(0,f.ZP)(O.Z)(e=>{let{theme:n}=e;return{"&:last-child td, &:last-child th":{border:0}}});return(0,r.jsxs)(R.Z,{sx:{border:"1px solid #eee",borderRadius:"10px"},children:[(0,r.jsxs)(z.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(z.ZP,{item:!0,xs:3,md:3,children:(0,r.jsx)("div",{style:{width:"100%",padding:"10px"},children:(0,r.jsx)(_,{onSearch:x})})}),(0,r.jsx)(z.ZP,{item:!0,xs:9,md:9,children:(0,r.jsx)(T.Z,{component:"div",count:n,onPageChange:o,onRowsPerPageChange:l,page:s,rowsPerPage:c,rowsPerPageOptions:[5,10,25]})})]}),(0,r.jsx)(G.L,{children:(0,r.jsx)(d.Z,{sx:{minWidth:800},children:(0,r.jsxs)(M.Z,{children:[(0,r.jsx)(I.Z,{children:(0,r.jsxs)(q,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,r.jsx)(K,{padding:"checkbox",children:(0,r.jsx)(N.Z,{color:"primary",indeterminate:g.length>0&&g.length<t.length})}),(0,r.jsx)(K,{children:"SL"}),(0,r.jsx)(K,{children:y.P_.NAME}),(0,r.jsx)(K,{children:y.P_.SIZE}),(0,r.jsx)(K,{children:y.P_.ACTION})]})}),(0,r.jsx)(L.Z,{children:t.map((e,n)=>(S(e.id),(0,r.jsxs)(O.Z,{hover:!0,children:[(0,r.jsx)(w.Z,{padding:"checkbox",children:(0,r.jsx)(N.Z,{color:"primary",sx:{color:"#9DA4AE"}})}),(0,r.jsx)(w.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:(0,r.jsx)(a(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(U.GN.STORAGE_EDIT_URL,"/").concat(e.id),children:n+s*c+1})}),(0,r.jsx)(w.Z,{children:(0,r.jsx)(p.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,r.jsx)(h.Z,{variant:"caption",children:(0,r.jsx)(a(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(U.GN.STORAGE_EDIT_URL,"/").concat(e.id),children:e.name})})})}),(0,r.jsx)(w.Z,{children:(0,r.jsx)(h.Z,{variant:"caption",children:(0,r.jsxs)(a(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(U.GN.STORAGE_EDIT_URL,"/").concat(e.id),children:[e.size," MB"]})})}),(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(B.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:n=>{C(n.currentTarget),b(e)},children:(0,r.jsx)(E.Z,{})}),(0,r.jsx)($.Z,{id:"subscription-menu",anchorEl:P,open:H,onClose:V,sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,r.jsx)(F.Z,{onClick:V,children:(0,r.jsxs)(a(),{href:"storage-limit/edit/".concat(null==j?void 0:j.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[y.P_.EDIT," ",(0,r.jsx)(W.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})})})]})]},e.id)))})]})})})]})};X.propTypes={count:P().number,items:P().array,onDeselectAll:P().func,onDeselectOne:P().func,onPageChange:P().func,onRowsPerPageChange:P().func,onSelectAll:P().func,onSelectOne:P().func,page:P().number,rowsPerPage:P().number,selected:P().array};var Y=t(30015),V=t(26903),H=t(7328),K=t(2664),q=t(94005),J=t(35191),Q=t(78465);(0,f.ZP)(j.Z)(e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}});let ee=e=>{var n,t,o,l,v,f;let[j,S]=(0,i.useState)([]),[P,w]=(0,i.useState)([]),[k,C]=(0,i.useState)(""),[D,A]=(0,i.useState)(0),[_,E]=(0,i.useState)(5),W=(0,i.useMemo)(()=>{let e=D*_,n=e+_;return P.slice(e,n)},[P,D,_]),O=(0,i.useMemo)(()=>W.map(e=>e.id),[W]),R=(0,m.c)(O),[z,T]=i.useState(!1),[M,I]=(0,i.useState)(null),[N,L]=(0,i.useState)(1),[B,$]=(0,i.useState)(!0);(0,b.useRouter)(),(0,i.useEffect)(()=>{(0,Z.PY)().then(e=>{var n,t;(null==e?void 0:e.code)===200&&(S(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.validity),$(!1),w(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.validity))}).catch(e=>{console.log(e)}),(0,Z.pk)().then(n=>{(null==n?void 0:n.code)==200&&e.userOrganizationSetToReducerProp(null==n?void 0:n.data),console.log("userOrganizationSetToReducerProp",n)}).catch(e=>{console.log(e)})},[]),(0,i.useEffect)(()=>{var n,t,r,i,o,a;console.log(e.userOrganization),(null===(t=e.userOrganization)||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.organization_id)&&L(parseInt(null!==(a=null===(i=e.userOrganization)||void 0===i?void 0:null===(r=i.subscriptionPlan)||void 0===r?void 0:r.user_limit)&&void 0!==a?a:0)-(null===(o=e.userOrganization)||void 0===o?void 0:o.user_count))},[e.userOrganization]),(0,i.useEffect)(()=>{(()=>{let e=j.filter(e=>e.name.toLowerCase().includes(k.toLowerCase()));w(e)})()},[k]),(0,i.useEffect)(()=>{console.log("userOrganization:",null==e?void 0:e.userOrganization)},[e]);let F=(0,i.useCallback)((e,n)=>{A(n)},[]),G=(0,i.useCallback)(e=>{E(e.target.value),A(0)},[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(d.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:(0,r.jsx)("title",{children:y.P_.TITLE})})}),!1===B?(0,r.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%"},children:(0,r.jsx)(u.Z,{maxWidth:"xl",children:(0,r.jsxs)(p.Z,{spacing:3,children:[(0,r.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,r.jsx)(p.Z,{spacing:1,children:(0,r.jsx)(h.Z,{variant:"h5",sx:{marginLeft:"10px"},children:y.P_.TITLE})}),(0,r.jsxs)("div",{children:[(!(null===(t=e.userOrganization)||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.organization_id)||N>0)&&(0,r.jsx)(a(),{href:U.GN.STORAGE_ADD_URL,style:{textDecoration:"none"},children:(0,r.jsx)(x.Z,{startIcon:(0,r.jsx)(g.Z,{fontSize:"12px",children:(0,r.jsx)(c.Z,{})}),variant:"contained",sx:{backgroundColor:Q.Vp.primary,"&:hover":{backgroundColor:Q.Vp.primary},"&:active":{backgroundColor:Q.Vp.primary}},children:y.P_.Add_Button})}),(0,r.jsxs)(h.Z,{inline:!0,variant:"body1",align:"right",color:"tomato",children:[(null===(l=e.userOrganization)||void 0===l?void 0:null===(o=l.user)||void 0===o?void 0:o.organization_id)&&N>0&&N+" User left",(null===(f=e.userOrganization)||void 0===f?void 0:null===(v=f.user)||void 0===v?void 0:v.organization_id)&&N<=0&&"User limit exceed, If you want to create user contact admin"]})]})]}),(0,r.jsx)(X,{count:j.length,items:W,onDeselectAll:R.handleDeselectAll,onDeselectOne:R.handleDeselectOne,onPageChange:F,onRowsPerPageChange:G,onSelectAll:R.handleSelectAll,onSelectOne:R.handleSelectOne,page:D,onSearch:e=>{C(e),A(0)},rowsPerPage:_,selected:R.selected,onDelete:e=>{I(e),T(!0)}})]})})}):(0,r.jsx)(J.Z,{})]})})};ee.getLayout=e=>(0,r.jsx)(v.A,{children:e});var en=(0,K.$j)(e=>{var n,t,r;return{isAuthenticated:null===(n=(0,Y.Z)(e))||void 0===n?void 0:n.isAuthenticated,testData:null===(t=(0,Y.Z)(e))||void 0===t?void 0:t.testData,userOrganization:null===(r=(0,V.Z)(e))||void 0===r?void 0:r.userOrganization}},e=>({setUserProfileToReducerProp:n=>e((0,H.c9)(n)),setIsAuthenticatedProp:n=>e((0,q.BF)(n)),userOrganizationSetToReducerProp:n=>e((0,H.GI)(n))}))(ee)},98893:function(e,n,t){"use strict";t.d(n,{P:function(){return c}});var r=t(85893),i=t(89396),o=t(57709),a=t(87109),l=t(53219),s=t(16216);let c=e=>{let{onSearch:n}=e;return(0,r.jsx)(s.Z,{spacing:3,children:(0,r.jsx)(s.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,r.jsx)(o.Z,{onChange:e=>{let t=e.target.value;n(t)},style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search",startAdornment:(0,r.jsx)(a.Z,{position:"start",children:(0,r.jsx)(l.Z,{color:"action",fontSize:"small",children:(0,r.jsx)(i.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})}}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,5864,7110,691,9620,9424,9774,2888,179],function(){return e(e.s=50870)}),_N_E=e.O()}]);