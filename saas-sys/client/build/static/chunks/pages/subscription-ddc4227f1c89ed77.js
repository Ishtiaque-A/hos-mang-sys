(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6535],{24087:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscription",function(){return t(7100)}])},16278:function(e,n,t){"use strict";var o=t(85893);t(67294);var i=t(13029),r=t(46901);n.Z=e=>{let{open:n,onClose:t,message:l}=e;return(0,o.jsx)(i.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(r.Z,{onClose:t,severity:"success",sx:{width:"100%"},children:l})})}},70515:function(e,n,t){"use strict";var o=t(85893);t(67294);var i=t(13029),r=t(46901);n.Z=e=>{let{open:n,onClose:t,message:l}=e;return(0,o.jsx)(i.Z,{open:n,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(r.Z,{onClose:t,variant:"filled",severity:"error",sx:{width:"100%"},children:l})})}},15784:function(e,n,t){"use strict";t.d(n,{c:function(){return i}});var o=t(67294);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=(0,o.useState)([]);(0,o.useEffect)(()=>{t([])},[e]);let i=(0,o.useCallback)(()=>{t([...e])},[e]),r=(0,o.useCallback)(e=>{t(n=>[...n,e])},[]),l=(0,o.useCallback)(()=>{t([])},[]),s=(0,o.useCallback)(e=>{t(n=>n.filter(n=>n!==e))},[]);return{handleDeselectAll:l,handleDeselectOne:s,handleSelectAll:i,handleSelectOne:r,selected:n}}},7100:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return es}});var o=t(85893),i=t(67294),r=t(41664),l=t.n(r),s=t(9008),a=t.n(s),c=t(88005),d=t(36822),x=t(21214),u=t(16216),h=t(15861),p=t(83321),g=t(53219),j=t(15784),v=t(39620),Z=t(35110),f=t(6514),m=t(31425),E=t(90948),S=t(50657),b=t(37645),A=t(58951);t(11163);var D=t(45697),C=t.n(D),R=t(9424),y=t(89396),k=t(57709),L=t(87109);let T=e=>{let{onSearch:n}=e;return(0,o.jsx)(u.Z,{spacing:3,children:(0,o.jsx)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,o.jsx)(k.Z,{onChange:e=>n(e.target.value),style:{width:"300px",height:"40px",borderRadius:"30px"},placeholder:"Search ",startAdornment:(0,o.jsx)(L.Z,{position:"start",children:(0,o.jsx)(g.Z,{color:"action",fontSize:"small",children:(0,o.jsx)(y.Z,{})})}),sx:{maxWidth:500,float:"right"}})})})};var _=t(79369),P=t(9869),w=t(41733),I=t(23508),z=t(98102),F=t(89755),O=t(53816),N=t(66242),U=t(86886),G=t(25464),B=t(30431),M=t(27110),V=t(7906),W=t(53184),H=t(69368),X=t(295),Y=t(93946),$=t(734),q=t(40294),J=t(30015),K=t(2664);let Q=e=>{var n,t,r,s,a,c;let{data:x={},onSearch:g}=e,[j,v]=(0,i.useState)(!1),[Z,f]=i.useState(null),[m,S]=i.useState(null),[b,A]=i.useState(null),[D,C]=i.useState(null),[y,k]=(0,i.useState)(0),L=(n,t)=>{if(n.target.checked)e.setSelectedRows([...e.selectedRows,t]);else{let n=e.selectedRows.filter(e=>e!==t);e.setSelectedRows(n)}v(n.target.checked)},J=n=>e.selectedRows.includes(n),K=()=>{f(null),k(null)},Q=(0,E.ZP)(z.Z)(e=>{let{theme:n}=e;return{["&.".concat(F.Z.head)]:{backgroundColor:n.palette.common.white,color:n.palette.common.black},["&.".concat(F.Z.body)]:{fontSize:14,fontWeight:"bold"}}}),ee=(0,E.ZP)(O.Z)(e=>{let{theme:n}=e;return{"&:last-child td, &:last-child th":{border:0}}});return(0,o.jsxs)(N.Z,{sx:{border:"1px solid #eee",borderRadius:"15px"},children:[(0,o.jsxs)(U.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(U.ZP,{item:!0,xs:2,md:3,children:(0,o.jsx)("div",{style:{width:"100%",padding:"10px"},children:(0,o.jsx)(T,{onSearch:g})})}),(0,o.jsx)(U.ZP,{item:!0,xs:1,md:1,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"10px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>S(e.currentTarget),children:["Status ",(0,o.jsx)(I.Z,{})]}),(0,o.jsxs)(G.Z,{id:"subscription-menu",anchorEl:m,open:null!=m&&m,onClose:()=>S(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsx)(B.Z,{onClick:()=>{e.statusFilter(null),S(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"All"}),(0,o.jsx)(B.Z,{onClick:()=>{e.statusFilter(1),S(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"Active"}),(0,o.jsxs)(B.Z,{onClick:()=>{e.statusFilter(0),S(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Inactive"," "]})]})]})}),(0,o.jsx)(U.ZP,{item:!0,xs:1,md:1,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"25px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>A(e.currentTarget),children:["Type ",(0,o.jsx)(I.Z,{})]}),(0,o.jsxs)(G.Z,{id:"subscription-menu",anchorEl:b,open:null!=b&&b,onClose:()=>A(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsx)(B.Z,{onClick:()=>{e.typeFilter(null),A(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"All"}),(0,o.jsx)(B.Z,{onClick:()=>{e.typeFilter(1),A(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:"Regular"}),(0,o.jsxs)(B.Z,{onClick:()=>{e.typeFilter(2),A(null)},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Special"," "]})]})]})}),j&&(null==e?void 0:null===(n=e.selectedRows)||void 0===n?void 0:n.length)>0?(0,o.jsx)(U.ZP,{item:!0,xs:1,md:1.5,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{sx:{color:"#000",background:"#F1EEEE",marginLeft:"25px",marginTop:"15px",padding:"5px 10px 5px 10px",borderRadius:"30px",fontSize:"14px"},"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>C(e.currentTarget),children:["Action ",(0,o.jsx)(I.Z,{})]}),(0,o.jsxs)(G.Z,{id:"subscription-menu",anchorEl:D,open:null!=D&&D,onClose:()=>C(null),sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsxs)(B.Z,{onClick:()=>e.multipleStatusChange(1),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Activate ",(0,o.jsx)(w.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]}),(0,o.jsxs)(B.Z,{onClick:()=>e.multipleStatusChange(0),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:["Inactive ",(0,o.jsx)(w.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})]})]})}):(0,o.jsx)(U.ZP,{item:!0,xs:1,md:1.5}),(0,o.jsx)(U.ZP,{item:!0,xs:8,md:5.5,children:(0,o.jsx)(M.Z,{component:"div",count:null!==(a=null==x?void 0:x.total)&&void 0!==a?a:0,onPageChange:(n,t)=>{e.onPageChange(t+1)},onRowsPerPageChange:e.onRowsPerPageChange,page:(null==x?void 0:x.current_page)?(null==x?void 0:x.current_page)-1:0,rowsPerPage:null!==(c=null==x?void 0:x.per_page)&&void 0!==c?c:0,rowsPerPageOptions:[5,10,25]})})]}),(0,o.jsx)($.L,{children:(0,o.jsx)(d.Z,{sx:{minWidth:800},children:(0,o.jsxs)(V.Z,{children:[(0,o.jsx)(W.Z,{children:(0,o.jsxs)(ee,{style:{backgroundColor:"#f2f2f2",borderBottom:"1px solid #F1F1F1"},children:[(0,o.jsx)(Q,{padding:"checkbox",children:(0,o.jsx)(H.Z,{color:"primary",indeterminate:e.selectedRows.length>0&&e.selectedRows.length<(null==x?void 0:null===(t=x.data)||void 0===t?void 0:t.length),checked:e.selectedRows.length===(null==x?void 0:null===(r=x.data)||void 0===r?void 0:r.length),onChange:n=>{if(n.target.checked){let n=null==x?void 0:x.data.map(e=>e.id);e.setSelectedRows(n)}else e.setSelectedRows([]);v(n.target.checked)}})}),(0,o.jsx)(Q,{children:"SL"}),(0,o.jsx)(Q,{children:R.Lb.MAME}),(0,o.jsx)(Q,{children:R.Lb.DURATION}),(0,o.jsx)(Q,{children:R.Lb.PRICE}),(0,o.jsx)(Q,{children:R.Lb.STORAGE}),(0,o.jsx)(Q,{children:R.Lb.TYPE}),(0,o.jsx)(Q,{children:R.Lb.STATUS}),(0,o.jsx)(Q,{children:R.Lb.ACTION})]})}),(0,o.jsx)(X.Z,{children:null==x?void 0:null===(s=x.data)||void 0===s?void 0:s.map((n,t)=>{var i,r,s;let a=J(n.id),c=null!==(s=t+(null==x?void 0:x.from))&&void 0!==s?s:0;return(0,o.jsxs)(O.Z,{hover:!0,children:[(0,o.jsx)(z.Z,{padding:"checkbox",children:(0,o.jsx)(H.Z,{color:"primary",sx:{color:"#9DA4AE"},checked:a,onChange:e=>L(e,n.id)})}),(0,o.jsx)(z.Z,{sx:{color:"#9DA4AE",textDecoration:"none"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:c})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(u.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,o.jsx)(h.Z,{variant:"caption",children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:n.name})})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:null===(i=n.validity)||void 0===i?void 0:i.name})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:0==n.price||null==n.price?"FREE":n.price+" "+e.currency})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(h.Z,{variant:"caption",sx:{color:"#9DA4AE"},children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:null===(r=n.storage_limit)||void 0===r?void 0:r.name})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:(0,o.jsx)(h.Z,{sx:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"13px",paddingRight:"13px",borderRadius:"10px "},variant:"caption",children:1==n.type?R.Lb.REGULAR:R.Lb.SPECIAL})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(l(),{style:{textDecoration:"none",color:"#9DA4AE"},href:"".concat(q.GN.SUBSCRIPTION_EDIT_URL,"/").concat(n.id),children:"1"==n.status?(0,o.jsx)(h.Z,{style:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"20px "},variant:"caption",children:R.Lb.ACTIVE}):(0,o.jsx)(h.Z,{style:{background:"#F6F6F6",color:"#9DA4AE",padding:"4px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"20px "},variant:"caption",children:R.Lb.INACTIVE})})}),(0,o.jsxs)(z.Z,{children:[(0,o.jsx)(Y.Z,{"aria-label":"more","aria-controls":"subscription-menu","aria-haspopup":"true",onClick:e=>{f(e.currentTarget),k(n)},children:(0,o.jsx)(_.Z,{})}),(0,o.jsxs)(G.Z,{id:"subscription-menu",anchorEl:Z,open:null!=Z&&Z,onClose:K,sx:{marginTop:"30px"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,o.jsx)(B.Z,{onClick:K,children:(0,o.jsxs)(l(),{href:"subscription/".concat(null==y?void 0:y.id),style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[R.Lb.DETAILS," ",(0,o.jsx)(P.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})}),(0,o.jsxs)(B.Z,{onClick:()=>{e.onDelete(y),K()},style:{textDecoration:"none",color:"#9DA4AE",fontSize:"14px"},children:[(null==y?void 0:y.status)==0?"Active":"Inactive"," ",(0,o.jsx)(w.Z,{sx:{fontSize:"14px",marginLeft:"35px"}})]})]})]})]},n.id)})})]})})})]})};Q.propTypes={count:C().number,onPageChange:C().func,onRowsPerPageChange:C().func,page:C().number,rowsPerPage:C().number,selected:C().array,onSearch:C().func,onDelete:C().func};var ee=(0,K.$j)(e=>{var n;return{currency:null===(n=(0,J.Z)(e))||void 0===n?void 0:n.currency}})(Q),en=t(16278),et=t(70515),eo=t(35191),ei=t(78465);let er=(0,E.ZP)(S.Z)(e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}),el=()=>{let[e,n]=(0,i.useState)([]),[t,r]=(0,i.useState)(null),[s,v]=(0,i.useState)(null),[E,S]=(0,i.useState)(null),[D,C]=(0,i.useState)(!1),[y,k]=(0,i.useState)(1),[L,T]=(0,i.useState)(5),[_,P]=(0,i.useState)([]),w=(0,j.c)(_),[I,z]=i.useState(!1),[F,O]=(0,i.useState)(null),[N,U]=(0,i.useState)([]),[G,B]=(0,i.useState)(!0),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,Z.Xj)(e).then(e=>{var t,o,i;(null==e?void 0:e.code)==200&&(n(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.subscription_plans),B(!1),P(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(o=i.subscription_plans)||void 0===o?void 0:o.data.map(e=>e.id)))}).catch(()=>{})};(0,i.useEffect)(()=>{let e="perpage="+L;t&&t.length>3&&(e=e+"&search="+t),(0==s||1==s)&&(e=e+"&status="+s),E&&[2,1].includes(E)&&(e=e+"&type="+E),y&&(e=e+"&page="+y),M(e)},[s,E,t,D,L,y]);let V=(0,i.useCallback)(e=>{T(e.target.value),k(1)},[]),W=()=>{z(!1),O(null)},H=e=>{N.length>0&&(console.log(N,e,">>>>>>>>>>>>>>>>>>134s"),(0,Z.HA)({id:N,status:e}).then(e=>{if(200===e.code)Y(R.Lb.ADD_DELETE_MESSAGE),J(!0),C(!D);else{var n;if(Object.keys(null==e?void 0:e.errors).length>0){for(let t in null===(n=e)||void 0===n?void 0:n.errors)if(e.errors[t]){let n=e.errors[t];for(let e=0;e<n.length;e++){let t=n[e];console.log("Error: "+t),Y(t),Q(!0)}}}else Y(e.message),Q(!0)}}).catch(e=>{Y(R.Lb.ADD_ERROR_MESSAGE),Q(!0)}).finally(()=>{W()}))},[X,Y]=(0,i.useState)(""),[$,J]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(!1),el=()=>{Y(""),J(!1),Q(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.Z,{sx:{backgroundColor:"white",mx:"10px",my:"20px",borderRadius:"30px"},children:[(0,o.jsx)(a(),{children:(0,o.jsx)("title",{children:(0,o.jsx)("title",{children:R.Lb.TITLE})})}),!1===G?(0,o.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:8,marginTop:"1%",mt:"1px"},children:(0,o.jsx)(x.Z,{maxWidth:"xl",children:(0,o.jsxs)(u.Z,{spacing:3,children:[(0,o.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,o.jsx)(u.Z,{spacing:1,children:(0,o.jsx)(h.Z,{variant:"h5",sx:{marginLeft:"10px"},children:R.Lb.TITLE})}),(0,o.jsx)("div",{children:(0,o.jsx)(l(),{href:q.GN.SUBSCRIPTION_ADD_URL,style:{textDecoration:"none"},children:(0,o.jsx)(p.Z,{startIcon:(0,o.jsx)(g.Z,{fontSize:"12px",children:(0,o.jsx)(c.Z,{})}),variant:"contained",sx:{backgroundColor:ei.Vp.primary,"&:hover":{backgroundColor:ei.Vp.primary},"&:active":{backgroundColor:ei.Vp.primary}},children:R.Lb.ADD_BUTTON})})})]}),(0,o.jsx)(ee,{data:e,onPageChange:e=>{k(e)},onRowsPerPageChange:V,onSearch:e=>{r(e),k(1)},selected:w.selected,statusFilter:e=>{v(e),k(1)},typeFilter:e=>{S(e),k(1)},onDelete:e=>{O(e),z(!0)},selectedRows:N,setSelectedRows:e=>U(e),multipleStatusChange:e=>{H(e)}}),(0,o.jsxs)(er,{onClose:W,"aria-labelledby":"customized-dialog-title",open:I,children:[(0,o.jsx)(b.Z,{id:"alert-dialog-slide-title",children:(null==F?void 0:F.status)==0?"Do you want to Activate this plan?":"Do you want to Inactive this plan?"}),(0,o.jsx)(f.Z,{children:(0,o.jsx)(A.Z,{id:"alert-dialog-slide-description"})}),(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(p.Z,{onClick:W,children:"Cancel"}),(0,o.jsx)(p.Z,{onClick:()=>{F&&(0,Z.Ci)({id:null==F?void 0:F.id}).then(e=>{if(200===e.code)Y(R.Lb.ADD_DELETE_MESSAGE),J(!0),C(!D);else{var n;if(Object.keys(null==e?void 0:e.errors).length>0){for(let t in null===(n=e)||void 0===n?void 0:n.errors)if(e.errors[t]){let n=e.errors[t];for(let e=0;e<n.length;e++){let t=n[e];console.log("Error: "+t),Y(t),Q(!0)}}}else Y(e.message),Q(!0)}}).catch(e=>{Y(R.Lb.ADD_ERROR_MESSAGE),Q(!0)}).finally(()=>{W()})},autoFocus:!0,children:"Agree"})]})]}),(0,o.jsx)(en.Z,{open:$,onClose:el,message:X}),(0,o.jsx)(et.Z,{open:K,onClose:el,message:X})]})})}):(0,o.jsx)(eo.Z,{})]})})};el.getLayout=e=>(0,o.jsx)(v.A,{children:e});var es=el}},function(e){e.O(0,[8199,9817,6901,7539,5968,1664,1159,9845,6886,8360,3029,5864,7110,3203,5236,9620,9424,9774,2888,179],function(){return e(e.s=24087)}),_N_E=e.O()}]);