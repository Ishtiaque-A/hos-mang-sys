"use strict";(self.webpackChunkmacro_health_plus_client_side=self.webpackChunkmacro_health_plus_client_side||[]).push([[141],{19141:function(e,t,a){a.r(t),a.d(t,{default:function(){return se}});var n=a(1413),s=a(15671),i=a(43144),o=a(97326),r=a(60136),l=a(29388),c=a(72791),d=a(6706),h=a(18891),p=a(88492),m=a(82619),u=a(1639),v=a(44346),g=a(71945),j=a(36940),x=a(77285),f=a(32452),b=a(98898),D=a(29823),_=a(69625);(0,_.dW)(!0);var S=function(e){(0,r.Z)(a,e);var t=(0,l.Z)(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"rendereComplete",value:function(){}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.rendereComplete()}))}}]),a}(c.PureComponent),y=a(74569),N=a.n(y),C=a(38215),I=a(97948),T=a.n(I),O=a(24643),w=a(97008),E=a(88823),R=a(98937),k=a(62062),P=a.n(k),M=a(5430),L=(a(16908),a(61146)),A=a.n(L),B=a(77907),F=a(72426),H=a.n(F),Z=(a(40039),a(84763)),z=a.n(Z),V=a(80184),Y=function(e){(0,r.Z)(a,e);var t=(0,l.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).user=JSON.parse(localStorage.getItem("userData")),e}return(0,i.Z)(a,[{key:"render",value:function(){var e,t,a,n;return console.log("Props Value For Patient Print",this.props.patientVale),(0,V.jsx)(V.Fragment,{children:null!=this.props.patientVale.patient?(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{id:"AppointmentSlip",className:"AppointmentSlip",children:(0,V.jsxs)("div",{className:"sleep",children:[(0,V.jsxs)("div",{className:"top d-flex",children:[(0,V.jsx)("img",{className:"d-inline ms-2",src:null===(e=this.user)||void 0===e?void 0:e.organization_logo,alt:""}),(0,V.jsxs)("div",{className:"ms-5 ps-5",children:[(0,V.jsx)("h5",{children:null===(t=this.user)||void 0===t?void 0:t.organization_name}),(0,V.jsx)("h6",{children:null===(a=this.user)||void 0===a?void 0:a.organization_address}),(0,V.jsxs)("h6",{children:[null===(n=this.user)||void 0===n?void 0:n.organization_mobile," "]})]})]}),(0,V.jsx)("div",{className:"text-center my-2",children:(0,V.jsx)("h3",{className:"heading p-1",children:"Appointment Slip"})}),(0,V.jsxs)("div",{className:"row my-1",children:[(0,V.jsxs)("div",{className:"col-4",children:[(0,V.jsx)("p",{children:(0,V.jsx)("strong",{children:"Name"})}),(0,V.jsxs)("p",{children:[this.props.patientVale.patient.patient_first_name," ",this.props.patientVale.patient.patient_middle_name," ",this.props.patientVale.patient.patient_last_name]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Birth Date :"})," ",this.props.patientVale.patient.patient_dob]})]}),(0,V.jsxs)("div",{className:"col-4",children:[(0,V.jsx)("p",{children:(0,V.jsx)("strong",{children:"HN"})}),(0,V.jsx)("p",{children:this.props.patientVale.patient.patient_hn_number}),(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Age :"})," ",H()().diff(this.props.patientVale.patient.patient_dob,"years")," Years"]})]}),(0,V.jsxs)("div",{className:"col-4",children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Print Date: :"})," ",H()(new Date).format("MMM Do YY")]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Print Time: :"})," ",H()(new Date).format("LT")]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"TEL :"})," ",this.props.patientVale.patient.patient_mobile_phone]})]})]}),(0,V.jsxs)("div",{className:"row time my-2",children:[(0,V.jsxs)("div",{className:"col-6 row",children:[(0,V.jsxs)("div",{className:"col-6",children:[(0,V.jsx)("strong",{className:"",children:"Date"}),(0,V.jsxs)("p",{className:"mt-2",children:[" ",this.props.appointDay]})]}),(0,V.jsxs)("div",{className:"col-6",children:[(0,V.jsx)("strong",{className:"mt-2",children:" Time"}),(0,V.jsx)("p",{className:"mt-2",children:this.props.appointTime})]})]}),(0,V.jsxs)("div",{className:"col-6 row",children:[(0,V.jsxs)("div",{className:"col-6",children:[(0,V.jsx)("strong",{className:"",children:"Doctor"}),(0,V.jsx)("p",{className:"mt-2",children:this.props.doctorData[0].dr_given_name})]}),(0,V.jsxs)("div",{className:"col-6",children:[(0,V.jsx)("strong",{className:"",children:" Service/Remark"}),(0,V.jsx)("p",{className:"mt-2",children:" Follow up appointment"})]})]})]}),(0,V.jsx)("div",{className:" my-2 sleep-footer",children:(0,V.jsxs)("div",{className:"my-2 mt-4",children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Please Contact your doctor at "}),"marrow transplant Department ar 9th floor (Zone South Lift)"]}),(0,V.jsx)("small",{children:"Please arrive at the hospital 15 minutes before appointment time. If the doctor required you to have a blood test orspecial tests, please arrive 1-2 hour prior to your appointment"})]})}),(0,V.jsxs)("div",{className:"my-3 row",children:[(0,V.jsxs)("div",{className:"col-6",children:[(0,V.jsx)("p",{children:"Call Center 020-222-222"}),(0,V.jsxs)("p",{children:["In case of emergency or unable to keep an appointment,",(0,V.jsx)("br",{})," ",(0,V.jsx)("br",{})," ",(0,V.jsx)("br",{})," please contact Call Center Tel. 202-222-222"]})]}),(0,V.jsx)("div",{className:"col-5 d-flex justify-content-end",children:(0,V.jsx)(z(),{displayValue:"false",height:"80",width:"4",value:this.props.patientVale.patient.patient_hn_number})})]})]})})}):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("h1",{className:"errSlip",children:"Appointment are not selected OR this patient are not registered....Please Check !"})})})}}]),a}(c.Component),q=a(21830),U=a.n(q),W=a(71652),G=a(90374),J=a(24750),Q=a(51189),K=function(){var e=(0,Q.Z)().width;return(0,V.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(e>900?10:5,", 1fr)"),gap:"3px",padding:"15px",backgroundColor:"#fff",margin:"10px 0px",borderRadius:"10px"},children:[(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle online_patients"}),"Tel. Patient"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle RPatient"}),"Reg. Patient"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle NonRegister"}),"Non Reg. Patient"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle arrived"}),"Arrived"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle unavilable"}),"Unavilable"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle waiting"}),"Waiting"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle withdoctors"}),"With Doctors"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle attbilling"}),"At billing"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle notattend"}),"Did not attend"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle appcompleted"}),"Completed"]})]})},$=a(59513),X=a.n($),ee=a(50796),te=a(63969),ae=(0,V.jsx)(R.Z,{fontSize:"small"}),ne=(0,V.jsx)(B.Z,{fontSize:"small"});_.E7.load({"en-US":{schedule:{saveButton:"Add",cancelButton:"Close",deleteButton:"Remove Patient",save:"Add"}}});var se=function(e){(0,r.Z)(a,e);var t=(0,l.Z)(a);function a(){var e;return(0,s.Z)(this,a),(e=t.apply(this,arguments)).user=JSON.parse(localStorage.getItem("userData")),e.reactToPrintTrigger=function(){return(0,V.jsxs)("span",{id:"appointmentSlip",className:"printSlip",children:[(0,V.jsx)("i",{class:"fas fa-print"}),"Appointment Slip"]})},e.customStyles={content:{height:"450px"}},e.customStylesExitingPat={content:{height:"73%"}},e.customStylesAppTypeModel={content:{top:"27%",left:"10%",height:"26vh",width:"450px",zIndex:10}},e.handleImage=function(t){t.persist(),t.target.files[0].size<2000048?(e.setState({image:t.target.files[0]}),e.setState({image_error:""})):e.setState({image_error:"File size must be less than 2 mb !"}),t.target.files&&t.target.files[0]&&t.target.files[0].size<2000048?e.setState({imageUrl:URL.createObjectURL(t.target.files[0])}):e.setState({image_error:"File size must be less than 2 mb !"})},e.calculateDateFromAge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date,s=new Date(n.getFullYear()-a,n.getMonth()-t,n.getDate()-e);return isNaN(s.getTime())?{error:"Invalid date input"}:{date:s}},e.calculateAgeFromDate=function(e){var t=new Date(e),a=new Date;if(isNaN(t.getTime()))return{error:"Invalid date input"};var n=a.getFullYear()-t.getFullYear(),s=a.getMonth()-t.getMonth(),i=a.getDate()-t.getDate();i<0&&(s-=1,i+=new Date(a.getFullYear(),a.getMonth(),0).getDate());return s<0&&(n-=1,s+=12),{years:n,months:s,days:i}},e.handleAge=function(t,a,n){var s=e.calculateDateFromAge(t,a,n),i=s.date,o=s.error;o?console.error(o):e.setState({patient_dob:i,age:"".concat(n||0),days:t,months:a,years:n})},e.handleDate=function(t){var a=e.calculateAgeFromDate(t),n=a.years,s=a.months,i=a.days;a.error||e.handleAge(i,s,n)},e.closeImage=function(){e.setState({imageUrl:""}),document.getElementById("PatientImageUrl").value=""},e.state={scheduleData:[],DoctorSearchData:[],showModal:!1,app_type_model:!1,search:null,searchResult:null,errorData:null,cellData:[],existingPatient:null,selectedDateNew:(new Date).toLocaleDateString(),showClender:!1,searchBYDoctorName:"",searchByDepartment:"",doctorDepartment:[],DoctorSearchDataForDepartment:[],showPrint:!1,patientValueForPrint:[],age:"",printDoctorData:[],appointmentDay:"",appointmentTime:"",patient_regi_model_show:!1,patientGenderDropdown:[],patientBloodDropdown:[],orgBranch:[],patientEventData:{Subject:""},image:[],imageUrl:[],image_error:"",app_type:"Chamber",patient_data:{},add_app_outside_of_schedule:!1,start_time:"",patient_dob:new Date,days:"",months:""},e.patient_hn_number=c.createRef(),e.patient_first_name=c.createRef(),e.patient_mobile_phone=c.createRef(),e.patient_email=c.createRef(),e.patient_dob=c.createRef(),e.ptn_blood_group_id=c.createRef(),e.patient_birth_sex_id=c.createRef(),e.patient_address1=c.createRef(),e.saas_branch_id=c.createRef(),e.patient_image=c.createRef(),e.handleOpenModal=e.handleOpenModal.bind((0,o.Z)(e)),e.handleCloseModal=e.handleCloseModal.bind((0,o.Z)(e)),e.handleChange=e.handleChange.bind((0,o.Z)(e)),e.searchHandeler=e.searchHandeler.bind((0,o.Z)(e)),e.clearHandle=e.clearHandle.bind((0,o.Z)(e)),e.addExistingPatient=e.addExistingPatient.bind((0,o.Z)(e)),e.PatientModelColse=e.PatientModelColse.bind((0,o.Z)(e)),e.handleSubmitForPatient=e.handleSubmitForPatient.bind((0,o.Z)(e)),e.menuItems=[{text:"Patient Profile",iconCss:"fas fa-user-check",id:"PatientProfile"},{text:"Edit patient",iconCss:"fas fa-user-check",id:"updatePatient"},{text:"View Record",iconCss:"fas fa-eye",id:"viewRecord"},{text:"Start Visit",iconCss:"far fa-arrow-alt-circle-right",id:"startVisit"},{text:"New Patient Registration",iconCss:"fas fa-user-check",id:"patient_reg"},{text:"Cancel appointment",iconCss:"fas fa-user-times",id:"cancle"},{text:"Change Status",iconCss:"fas fa-info-circle",id:"status",items:[{text:"Arrived",iconCss:"fas fa-circle arrived",id:"Arrived"},{text:"Unavailable",iconCss:"fas fa-circle unavilable",id:"Unavailable"},{text:"Waiting",iconCss:"fas fa-circle waiting",id:"Waiting"},{text:"With Doctors",iconCss:"fas fa-circle withdoctors",id:"withdoctors"},{text:"At billing",iconCss:"fas fa-circle attbilling",id:"attbilling"},{text:"Did not attend",iconCss:"fas fa-circle notattend",id:"notattend"}]},{text:"Print Appointment Slip",iconCss:"fas fa-print",id:"printSlip"},{text:"Today",iconCss:"fas fa-clock",id:"Today"}],e}return(0,i.Z)(a,[{key:"onMenuItemSelect",value:function(e){var t,a,n,s,i,o,r=this,l=e.item.id;switch(this.selectedTarget.classList.contains("e-appointment")&&(this.eventObj=this.scheduleObj.getEventDetails(this.selectedTarget)),l){case"Today":this.scheduleObj.selectedDate=new Date;break;case"startVisit":this.props.goToGD(this.eventObj.Id,this.eventObj.patientID);break;case"PatientProfile":this.props.goToPatientProfile(this.eventObj.patientID);break;case"updatePatient":this.props.goToPatientEdit(this.eventObj.patientID);break;case"Arrived":this.scheduleObj.saveEvent({CategoryColor:"#020131",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(t=this.eventObj)||void 0===t?void 0:t.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"Arrived"});break;case"Unavailable":this.scheduleObj.saveEvent({CategoryColor:"#6e0711",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(a=this.eventObj)||void 0===a?void 0:a.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"Unavailable"});break;case"Waiting":this.scheduleObj.saveEvent({CategoryColor:"#ebdb07",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(n=this.eventObj)||void 0===n?void 0:n.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"Waiting"});break;case"withdoctors":this.scheduleObj.saveEvent({CategoryColor:"#004700",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(s=this.eventObj)||void 0===s?void 0:s.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"withdoctors"});break;case"attbilling":this.scheduleObj.saveEvent({CategoryColor:"#08f4fc",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(i=this.eventObj)||void 0===i?void 0:i.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"attbilling"});break;case"notattend":this.scheduleObj.saveEvent({CategoryColor:"#ff0d15",Description:this.eventObj.Description,DoctorID:this.eventObj.DoctorID,EndTime:this.eventObj.EndTime,Id:this.eventObj.Id,Location:this.eventObj.Location,StartTime:this.eventObj.StartTime,Subject:null===(o=this.eventObj)||void 0===o?void 0:o.Subject,appointCreated:this.eventObj.appointCreated,patientID:this.eventObj.patientID,statusName:"notattend"});break;case"cancle":this.scheduleObj.deleteEvent(this.eventObj);break;case"patient_reg":this.setState({patient_regi_model_show:!0,patientEventData:this.eventObj});break;case"printSlip":var c=new Date(this.eventObj.StartTime),d=c.getDate()+"/"+(c.getMonth()+1)+"/"+c.getFullYear(),h=c.getHours(),p=c.getMinutes(),m=h>=12?"pm":"am",u=(h=(h%=12)||12)+":"+(p=p<10?"0"+p:p)+" "+m;this.setState({appointmentDay:d,appointmentTime:u}),N().get("/doctor-search-id/".concat(this.eventObj.DoctorID)).then((function(e){console.log(e.data,"printDoctorData"),r.setState({printDoctorData:e.data})})),N().get("/patient-search-by-id/".concat(this.eventObj.patientID)).then((function(e){var t=(new Date).getFullYear()-new Date(e.data.patient_dob).getFullYear();console.log(e.data,"printDoctorData"),r.setState({patientValueForPrint:e.data,age:t})})).catch((function(e){console.log(e)})),setTimeout((function(){document.getElementById("appointmentSlip").click()}),2e3)}}},{key:"onContextMenuBeforeOpen",value:function(e){var t=document.querySelector(".e-new-event");t&&((0,_.Od)(t),(0,_.IV)([document.querySelector(".e-selected-cell")],"e-selected-cell"));var a=e.event.target;if(!(0,_.oq)(a,".e-contextmenu")){if(this.selectedTarget=(0,_.oq)(a,".e-appointment,.e-work-cells,.e-vertical-view .e-date-header-wrap .e-all-day-cells,.e-vertical-view .e-date-header-wrap .e-header-cells"),!(0,_.le)(this.selectedTarget))return this.selectedTarget.classList.contains("e-appointment")?(this.eventObj=this.scheduleObj.getEventDetails(this.selectedTarget),void(this.eventObj.RecurrenceRule||(void 0===this.eventObj.patientID||null===this.eventObj.patientID?(this.menuObj.hideItems(["Today","PatientProfile","status","viewRecord","startVisit","printSlip","updatePatient"],!0),this.menuObj.showItems(["patient_reg"],!0)):(this.menuObj.showItems(["Today","PatientProfile","status","viewRecord","startVisit","printSlip","cancle","updatePatient"],!0),this.menuObj.hideItems(["patient_reg"],!0))))):void this.menuObj.hideItems(["Today","PatientProfile","status","viewRecord","startVisit","printSlip","cancle","patient_reg","updatePatient"],!0);e.cancel=!0}}},{key:"onEventRendered",value:function(e){e.element.style.backgroundColor=e.data.CategoryColor}},{key:"componentDidMount",value:function(){var e=this;N().get("/gender-dropdown").then((function(t){e.setState({patientGenderDropdown:t.data.gender})})),N().get("/blood-group").then((function(t){e.setState({patientBloodDropdown:t.data.blood_group})}));N().get("http://35.240.213.16:8004/api/v1/auth/branch/service/find-branch-by-organizationId").then((function(t){e.setState({orgBranch:t.data.data})})),T().setAppElement("body"),N().get("/department").then((function(t){e.setState({doctorDepartment:t.data.department})})),"Doctor"===JSON.parse(localStorage.getItem("userData")).user_type?N().get("/doctor-search-id/".concat(JSON.parse(localStorage.getItem("userData")).user_id)).then((function(t){e.setState({DoctorSearchData:t.data}),console.log("test1",t.data)})):N().get("/all-doctors-booking").then((function(t){e.setState({DoctorSearchData:t.data.doctors}),console.log("test2",t.data)})),N().get("/scheduler").then((function(t){var a=t.data.scheduleData.map((function(e){return{Id:e.id,Subject:e.patient_name,StartTime:e.StartTime,EndTime:e.EndTime,DoctorID:parseInt(e.doctors_id),Location:e.patient_mobile,Description:e.notes,CategoryColor:e.status_color,statusName:e.status_name,patientID:e.patient_id,appointCreated:e.created_at}}));e.data=(0,_.l7)([],a,null,!0),e.setState({scheduleData:a})}))}},{key:"clearHandle",value:function(){this.setState({searchResult:null}),this.setState({search:null}),this.setState({errorData:null}),document.getElementById("output").value=""}},{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"searchHandeler",value:function(e){var t,a=this;(e.preventDefault(),null!==this.state.search)?(console.log("serche data",this.state.search),N().post("/patient-search-for-doctor/".concat(this.state.search.replace(/\s+/g,"")),{doctor_id:null===(t=this.user)||void 0===t?void 0:t.user_id}).then((function(e){a.setState({searchResult:e.data,errorData:null})})).catch((function(e){a.setState({errorData:"No Data Found , Please Check Again?",searchResult:null})}))):alert("Please insert patient mobile or hn number")}},{key:"addExistingPatient",value:function(){if(this.state.add_app_outside_of_schedule){if(console.log("start_time",this.state.start_time),!this.state.start_time)return P()("Warning!","Please enter time for this appointment","warning");var e=new Date(this.state.start_time);e.setMinutes(e.getMinutes()+10),console.log("start_time",this.state.start_time),console.log("end_time",this.state.end_time);var t={Subject:this.state.patient_data.fullName,StartTime:this.state.start_time,EndTime:e,DoctorID:JSON.parse(localStorage.getItem("userData")).user_id,Location:this.state.patient_data.patient_mobile_phone,patientID:this.state.patient_data.id,statusName:"Arrived",CategoryColor:"#020131"};this.scheduleObj.addEvent(t),this.handleCloseModal(),this.setState({app_type_model:!1})}else{var a={Subject:this.state.patient_data.fullName,StartTime:this.state.cellData.StartTime,EndTime:this.state.cellData.EndTime,DoctorID:parseInt(this.state.cellData.doctors_id),Location:this.state.patient_data.patient_mobile_phone,patientID:this.state.patient_data.id,CategoryColor:"#8961ed"};this.scheduleObj.addEvent(a),this.handleCloseModal(),this.setState({app_type_model:!1})}}},{key:"onActionBegin",value:function(e){var t=this;if("toolbarItemRendering"===e.requestType){var a={align:"Right",showTextOn:"Both",prefixIcon:"e-icon-schedule-excel-export",text:"Excel Export",cssClass:"e-excel-export",click:this.onExportClick.bind(this)};e.items.push(a)}if("eventCreate"==e.requestType){var n;console.log("this.state.app_type",this.state.app_type);var s={doctors_id:e.addedRecords[0].DoctorID.toString(),patient_name:null===(n=e.addedRecords[0])||void 0===n?void 0:n.Subject,IsAllDay:!1,StartTime:e.addedRecords[0].StartTime,EndTime:e.addedRecords[0].EndTime,patient_mobile:e.addedRecords[0].Location,notes:e.addedRecords[0].Description,patient_id:e.addedRecords[0].patientID,statusColor:"Telehealth"===this.state.app_type?"#ff7345":e.addedRecords[0].CategoryColor,app_type:this.state.app_type,statusName:this.state.add_app_outside_of_schedule?"Arrived":null};N().post("/save-scheduler",s).then((function(e){if(N().get("/scheduler").then((function(e){var a=e.data.scheduleData.map((function(e){return{Id:e.id,Subject:e.patient_name,StartTime:e.StartTime,EndTime:e.EndTime,DoctorID:parseInt(e.doctors_id),Location:e.patient_mobile,Description:e.notes,CategoryColor:e.status_color,statusName:e.status_name,patientID:e.patient_id,appointCreated:e.created_at}}));t.data=(0,_.l7)([],a,null,!0),t.setState({scheduleData:a,app_type:"Chamber"})})),null!=e.data.saveData.patient_mobile){localStorage.getItem("userData");var a,n,s={message:"Dear Patient,Your appointment has been confirmed to Dr. ".concat(null===(a=t.state.DoctorSearchData)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.fullName," on ").concat(H()(e.data.saveData.StartTime).format("DD-MM-YYYY")," at ").concat(H()(e.data.saveData.StartTime).format("hh:mm A"),".Please come to doctor\u2019s Chamber within designated time. For any queries, please call doctor's contact number. Thanks."),number:e.data.saveData.patient_mobile};N().post("".concat("http://localhost:8000/api","/v1/auth/sms/send-sms"),s).then((function(e){})).catch((function(e){return console.log(e,"send sms error")}))}}))}else if("eventChange"==e.requestType){var i,o,r,l,c=e.changedRecords[0].Id,d={doctors_id:e.changedRecords[0].DoctorID.toString(),doctor_name:null===(i=this.state)||void 0===i||null===(o=i.DoctorSearchData)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.fullName,patient_name:null===(l=e.changedRecords[0])||void 0===l?void 0:l.Subject,IsAllDay:!1,StartTime:e.changedRecords[0].StartTime,EndTime:e.changedRecords[0].EndTime,patient_mobile:e.changedRecords[0].Location,notes:e.changedRecords[0].Description,CategoryColor:e.changedRecords[0].CategoryColor,statusName:e.changedRecords[0].statusName,patientID:e.changedRecords[0].patientID};N().post("/update-scheduler/".concat(c),d).then((function(e){N().get("/scheduler").then((function(e){var a=e.data.scheduleData.map((function(e){return{Id:e.id,Subject:e.patient_name,StartTime:e.StartTime,EndTime:e.EndTime,DoctorID:parseInt(e.doctors_id),Location:e.patient_mobile,Description:e.notes,CategoryColor:e.status_color,statusName:e.status_name,patientID:e.patient_id,appointCreated:e.created_at}}));t.data=(0,_.l7)([],a,null,!0),t.setState({scheduleData:a})}))}))}else if("eventRemove"==e.requestType){var h=e.deletedRecords[0].Id;N().post("/delete-scheduler/".concat(h)).then((function(e){return console.log("Data",e.data)}))}}},{key:"onExportClick",value:function(){this.scheduleObj.exportToExcel()}},{key:"onPopupOpen",value:function(e){var t=this;if("QuickInfo"===e.type){if(null==e.data.Id){e.element.getElementsByClassName("e-subject e-field e-input")[0].placeholder="Add New Patient Name";var a=document.querySelector(".e-quick-popup-wrapper").ej2_instances[0].element.querySelector(".e-popup-footer"),n=(0,_.az)("BUTTON",{innerHTML:"Existing Patient"}),s=new C.z;s.appendTo(n),a.appendChild(n),s.element.onclick=function(){t.setState({showModal:!0}),e.element.ej2_instances[0].close()}}else if(null!==e.data.patientID){var i=new Date(e.data.StartTime),o=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),r=i.getHours(),l=i.getMinutes(),c=r>=12?"pm":"am",d=(r=(r%=12)||12)+":"+(l=l<10?"0"+l:l)+" "+c;this.setState({appointmentDay:o,appointmentTime:d}),N().get("/doctor-search-id/".concat(e.data.DoctorID)).then((function(e){t.setState({printDoctorData:e.data})})),N().get("/patient-search-by-id/".concat(e.data.patientID)).then((function(e){var a=(new Date).getFullYear()-new Date(e.data.patient_dob).getFullYear();t.setState({patientValueForPrint:e.data,age:a})})).catch((function(e){console.log(e)}))}var h={doctors_id:e.data.DoctorID.toString(),IsAllDay:!1,StartTime:e.data.StartTime,EndTime:e.data.EndTime,patient_mobile:e.data.Location};this.setState({cellData:h})}"Editor"===e.type&&(e.element.getElementsByClassName("e-title-text")[0].innerHTML="Patient Information"),"DeleteAlert"===e.type&&(document.getElementById("QuickDialog_title").innerHTML="Delete patient appointment",document.getElementById("QuickDialog_dialog-content").innerHTML="Are you sure you want to delete this appointment")}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1,add_app_outside_of_schedule:!1,searchResult:null,search:null,errorData:null})}},{key:"randomChange",value:function(){var e=document.getElementById("patient").value;"Mobile"==e?(document.getElementsByName("output")[0].placeholder="Mobile Number",document.getElementsByName("output")[0].type="text",document.getElementsByName("output")[0].value=""):"HIN"==e?(document.getElementsByName("output")[0].placeholder="HI Number",document.getElementsByName("output")[0].type="text",document.getElementsByName("output")[0].value=""):(document.getElementsByName("output")[0].type="date",document.getElementsByName("output")[0].value="")}},{key:"PatientModelColse",value:function(){this.setState({patient_regi_model_show:!1})}},{key:"handleSubmitForPatient",value:function(e){var t,a=this;e.preventDefault();var n,s,i=JSON.parse(localStorage.getItem("userData")),o=new FormData;(o.append("image",this.state.image),o.append("age",this.state.age),o.append("day",this.state.days),o.append("month",this.state.months),o.append("patient_first_name",this.patient_first_name.current.value),o.append("patient_mobile_phone",this.patient_mobile_phone.current.value),o.append("patient_email",this.patient_email.current.value),o.append("patient_dob",this.state.patient_dob),o.append("ptn_blood_group_id",this.ptn_blood_group_id.current.value),o.append("patient_birth_sex_id",this.patient_birth_sex_id.current.value),o.append("patient_address1",this.patient_address1.current.value),o.append("patient_status","1"),o.append("doctor_id",(null===(t=this.user)||void 0===t?void 0:t.user_id)||0),"Super_Admin"!==(null===i||void 0===i?void 0:i.user_type))?(o.append("saas_branch_id",null===i||void 0===i?void 0:i.branch_id),o.append("saas_branch_id",null===i||void 0===i?void 0:i.branch_name)):(o.append("saas_branch_id",this.saas_branch_id.current.value),o.append("saas_branch_name",null===(n=this.state.orgBranch)||void 0===n||null===(s=n.find((function(e){return(null===e||void 0===e?void 0:e.id)===Number(a.saas_branch_id.current.value)})))||void 0===s?void 0:s.name));N().post("/save-patients",o).then((function(e){var t;a.scheduleObj.saveEvent({Description:a.state.patientEventData.Description,DoctorID:a.state.patientEventData.DoctorID,EndTime:a.state.patientEventData.EndTime,Id:a.state.patientEventData.Id,Location:e.data.patients.patient_mobile_phone,StartTime:a.state.patientEventData.StartTime,Subject:null===(t=a.state.patientEventData)||void 0===t?void 0:t.Subject,appointCreated:a.state.patientEventData.appointCreated,patientID:e.data.patients.id,CategoryColor:"#8961ed"}),U().fire("Patient Registration Succesfully","Success..!","success"),a.setState({patient_regi_model_show:!1}),a.setState({imageUrl:""})})).catch((function(e){U().fire("Something is wrong","Error..!","error"),console.log("wrong",e.message)}))}},{key:"render",value:function(){var e,t,a,s,i,o,r,l,c=this;return console.log("doctor",this.state.DoctorSearchData),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Y,{patientVale:this.state.patientValueForPrint,patentAge:this.state.age,doctorData:this.state.printDoctorData,appointDay:this.state.appointmentDay,appointTime:this.state.appointmentTime,ref:function(e){return c.componentRef=e}}),(0,V.jsxs)(te.R,{isOpen:this.state.patient_regi_model_show,onClose:function(){return c.setState({patient_regi_model_show:!1})},size:"md",children:[(0,V.jsx)(te.R.Header,{onClose:function(){return c.setState({patient_regi_model_show:!1})},children:(0,V.jsx)(te.R.Title,{children:"Patient Registration"})}),(0,V.jsxs)("form",{onSubmit:this.handleSubmitForPatient,children:[(0,V.jsx)(te.R.Body,{styles:{minHeight:"400px"},children:(0,V.jsx)("div",{className:"ml-1 reg-form-appointment",children:(0,V.jsx)("div",{className:" row p-1 m-1 mt-3",children:(0,V.jsxs)("div",{className:"col-md-12 mt-3",children:[(0,V.jsxs)("div",{class:"row mb-3",children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label",children:["Name ",(0,V.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,V.jsx)("div",{class:"col-sm-10",children:(0,V.jsx)("input",{type:"text",ref:this.patient_first_name,defaultValue:null===(e=this.state.patientEventData)||void 0===e?void 0:e.Subject,className:"form-control form-control-sm",style:{border:"1px solid red"},placeholder:"Enter Name"})})]}),(0,V.jsxs)("div",{class:"row mb-3",children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:["Date Of Birth ",(0,V.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsx)(X(),{dropdownMode:"select",selected:null!==(t=this.state)&&void 0!==t&&t.patient_dob?null===(a=this.state)||void 0===a?void 0:a.patient_dob:new Date,onChange:function(e){c.handleDate(e)},dateFormat:"dd/MM/yyyy"})}),(0,V.jsx)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:"Email"}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsx)("input",{type:"email",name:"patient_email",ref:this.patient_email,class:"form-control form-control-sm",placeholder:"Enter Email"})}),(0,V.jsx)("label",{for:"app-reg-label",className:"col-sm-2 app-reg-label mt-2",children:"Age"}),(0,V.jsx)("div",{className:"col-sm-10 mt-3",children:(0,V.jsxs)("div",{className:"row",children:[(0,V.jsxs)("div",{className:"col-sm-4 row",children:[(0,V.jsx)("div",{className:"col-3",children:"Day"}),(0,V.jsx)("div",{className:"col-9",children:(0,V.jsx)("input",{type:"number",name:"age",max:200,className:"form-control form-control-sm",placeholder:"Enter Days",value:null===(s=this.state)||void 0===s?void 0:s.days,onChange:function(e){var t,a;return c.handleAge(e.target.value,(null===(t=c.state)||void 0===t?void 0:t.months)||0,(null===(a=c.state)||void 0===a?void 0:a.years)||0)}})})]}),(0,V.jsxs)("div",{className:"col-sm-4 row",children:[(0,V.jsx)("div",{className:"col-3",children:"Month"}),(0,V.jsx)("div",{className:"col-9",children:(0,V.jsx)("input",{type:"number",name:"age",max:200,className:"form-control form-control-sm",placeholder:"Enter Month",value:null===(i=this.state)||void 0===i?void 0:i.months,onChange:function(e){var t,a;return c.handleAge((null===(t=c.state)||void 0===t?void 0:t.days)||0,e.target.value,(null===(a=c.state)||void 0===a?void 0:a.years)||0)}})})]}),(0,V.jsxs)("div",{className:"col-sm-4 row",children:[(0,V.jsx)("div",{className:"col-3",children:"Year"}),(0,V.jsx)("div",{className:"col-9",children:(0,V.jsx)("input",{type:"number",name:"age",max:200,className:"form-control form-control-sm",placeholder:"Enter Year",value:null===(o=this.state)||void 0===o?void 0:o.years,onChange:function(e){var t,a;return c.handleAge((null===(t=c.state)||void 0===t?void 0:t.days)||0,(null===(a=c.state)||void 0===a?void 0:a.months)||0,e.target.value)}})})]})]})})]}),(0,V.jsxs)("div",{class:"row mb-3",children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:["Mobile No. ",(0,V.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsx)("input",{type:"text",name:"patient_mobile_phone",ref:this.patient_mobile_phone,class:"form-control form-control-sm",placeholder:"Enter Mobile No."})}),(0,V.jsx)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:"Blood Group"}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsxs)("select",{class:"form-select form-select-sm",ref:this.ptn_blood_group_id,name:"ptn_blood_group_id",id:"autoSizingSelect",children:[(0,V.jsx)("option",{selected:!0,children:"Select Blood Group"}),this.state.patientBloodDropdown.map((function(e){return(0,V.jsx)("option",{value:e.id,children:e.blood_group_name})}))]})})]}),(0,V.jsxs)("div",{class:"row mb-3",children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:["Gender ",(0,V.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,V.jsx)("div",{class:"".concat("Super_Admin"===(null===(r=JSON.parse(localStorage.getItem("userData")))||void 0===r?void 0:r.user_type)?"col-sm-4":"col-sm-10"),children:(0,V.jsxs)("select",{class:"form-select form-select-sm",name:"patient_birth_sex_id",ref:this.patient_birth_sex_id,id:"autoSizingSelect",children:[(0,V.jsx)("option",{selected:!0,children:"Select Gender"}),this.state.patientGenderDropdown.map((function(e){return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("option",{value:e.id,children:e.birth_sex_name})})}))]})}),"Super_Admin"===(null===(l=JSON.parse(localStorage.getItem("userData")))||void 0===l?void 0:l.user_type)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:["Branch ",(0,V.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsxs)("select",{class:"form-select form-select-sm",name:"patient_birth_sex_id",ref:this.saas_branch_id,id:"orgBranch",required:!0,children:[(0,V.jsx)("option",{selected:!0,value:"",children:"Select branch"}),this.state.orgBranch.map((function(e){return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("option",{value:e.id,children:e.name})})}))]})})]}):null]}),(0,V.jsxs)("div",{class:"row mb-2 P_Image",children:[(0,V.jsxs)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:["Address"," "]}),(0,V.jsx)("div",{class:"col-sm-4",children:(0,V.jsx)("textarea",{name:"patient_address1",ref:this.patient_address1,class:"form-control form-control-sm",rows:"3",placeholder:"Enter Address"})}),(0,V.jsx)("label",{for:"app-reg-label",class:"col-sm-2 app-reg-label ",children:"Image"}),(0,V.jsxs)("div",{class:"col-sm-4",children:[(0,V.jsx)("input",{className:"form-control",id:"PatientImageUrl",onChange:this.handleImage.bind(this),type:"file"}),""==this.state.image_error?(0,V.jsx)("p",{className:"doc_image_size",children:"Image size must be less than 2 mb"}):(0,V.jsx)("p",{className:"docimage_error",children:this.state.image_error})]}),(0,V.jsx)("div",{class:"col-sm-4",children:""==this.state.imageUrl?"":(0,V.jsxs)("div",{className:"docImage",children:[(0,V.jsx)("img",{src:this.state.imageUrl,className:"schedulePaitimage",alt:"preview img"}),(0,V.jsx)("i",{onClick:this.closeImage.bind(this),class:"far fa-times-circle"})]})})]})]})})})}),(0,V.jsxs)(te.R.Footer,{className:"d-flex justify-content-end",children:[(0,V.jsx)("button",{onClick:this.PatientModelColse,type:"button",class:"vaital-setup-btn-cancel float-end mr-2",children:"Cancel"}),(0,V.jsx)("button",{type:"submit",class:"vaital-setup-btn float-end",children:"Save"})]})]})]}),(0,V.jsxs)(te.R,{isOpen:this.state.showModal,onClose:this.handleCloseModal,children:[(0,V.jsx)(te.R.Header,{onClose:this.handleCloseModal,children:(0,V.jsx)(te.R.Title,{children:"Registered Patient List"})}),(0,V.jsxs)(te.R.Body,{styles:{minHeight:"400px"},children:[(0,V.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,V.jsxs)("div",{className:"model_sub_heading",children:[(0,V.jsx)("label",{className:"Label1",children:"Chose an option"}),(0,V.jsxs)("select",{name:"patient",id:"patient",onChange:this.randomChange,children:[(0,V.jsx)("option",{children:"Mobile"}),(0,V.jsx)("option",{selected:!0,children:"HN"}),(0,V.jsx)("option",{children:"DOB"})]}),(0,V.jsx)("input",{id:"output",name:"output",type:"text",placeholder:"Search here...",value:this.state.search,onKeyDown:function(e){"Enter"===e.key&&c.searchHandeler(e)},onChange:this.handleChange}),(0,V.jsx)("button",{className:"customButton1 search",onClick:this.searchHandeler,children:"Search"}),(0,V.jsx)("button",{className:"customButton1 clear",onClick:this.clearHandle,children:"Clear"})]})}),null!==this.state.errorData&&(0,V.jsx)("h4",{className:"errorH4",style:{textAlign:"center"},children:this.state.errorData}),null!==this.state.searchResult&&(0,V.jsxs)("div",{children:[(0,V.jsx)("h5",{className:"h5",style:{textAlign:"center"},children:"Patient Information"}),(0,V.jsxs)("table",{className:"pTable",children:[(0,V.jsx)("thead",{children:(0,V.jsxs)("tr",{className:"tr1",children:[(0,V.jsx)("th",{className:"th1",children:"Patient Name"}),(0,V.jsx)("th",{className:"th1",children:"HN no"}),(0,V.jsx)("th",{className:"th1",children:"Phone no"}),(0,V.jsx)("th",{className:"th1",children:"DOB"}),(0,V.jsx)("th",{className:"th1",children:"Action"})]})}),(0,V.jsx)("tbody",{children:null!=this.state.searchResult?this.state.searchResult.map((function(e){return(0,V.jsxs)("tr",{className:"tr1",children:[(0,V.jsx)("td",{className:"td1",children:e.fullName}),(0,V.jsx)("td",{className:"td1",children:(0,ee.k7)(e.patient_hn_number)}),(0,V.jsx)("td",{className:"td1",children:(0,ee.un)(e.patient_mobile_phone)}),(0,V.jsx)("td",{className:"td1",children:H()(e.patient_dob).format("DD/MM/YYYY")}),(0,V.jsx)("td",{className:"td1",children:(0,V.jsx)("span",{onClick:function(t){c.setState({app_type_model:!0}),c.setState({patient_data:e})},children:(0,V.jsx)("i",{class:"fas fa-user-plus iconPatient"})})})]},e.id)})):(0,V.jsx)("tr",{})})]})]})]})]}),(0,V.jsxs)(te.R,{size:"sm",isOpen:this.state.app_type_model,onClose:function(){return c.setState({app_type_model:!1})},children:[(0,V.jsx)(te.R.Header,{onClose:function(){return c.setState({app_type_model:!1})},children:(0,V.jsx)(te.R.Title,{children:"Appointment Type"})}),(0,V.jsx)(te.R.Body,{children:(0,V.jsx)("div",{children:(0,V.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,V.jsxs)("div",{className:"d-flex",children:[(0,V.jsxs)("div",{class:"form-check ",children:[(0,V.jsx)("input",{value:"Telehealth",onChange:function(e){return c.setState({app_type:e.target.value})},class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),(0,V.jsx)("label",{children:"Telehealth"})]}),(0,V.jsxs)("div",{class:"form-check",style:{marginLeft:"20px"},children:[(0,V.jsx)("input",{class:"form-check-input",value:"Chamber",onChange:function(e){return c.setState({app_type:e.target.value})},type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",defaultChecked:!0}),(0,V.jsx)("label",{children:"Chamber"})]}),this.state.add_app_outside_of_schedule&&(0,V.jsx)("div",{style:{width:"40%",marginLeft:"6px"},children:(0,V.jsx)(W._,{dateAdapter:J.y,children:(0,V.jsx)(G.k,{onChange:function(e){return c.setState({start_time:e.$d})},label:"Start Time",size:"small"})})})]}),this.state.add_app_outside_of_schedule?(0,V.jsxs)("button",{onClick:function(){return c.addExistingPatient()},className:"app_btn",style:{width:"30%"},children:[(0,V.jsx)("i",{style:{marginRight:"6px",fontSize:"14px"},class:"fas fa-user-plus"}),"Save App."]}):(0,V.jsxs)("button",{onClick:function(){return c.addExistingPatient()},className:"app_btn",children:[(0,V.jsx)("i",{style:{marginRight:"6px",fontSize:"14px"},class:"fas fa-user-plus"}),"Add App."]})]})})})]}),(0,V.jsxs)("div",{className:"appointmentShedule ms-2",children:[(0,V.jsxs)("div",{className:"sheduleHeader custom-card mt-2 mb-2 ".concat("Doctor"!==JSON.parse(localStorage.getItem("userData")).user_type?"":"d-flex justify-content-end"),children:["Doctor"!==JSON.parse(localStorage.getItem("userData")).user_type&&(0,V.jsxs)("div",{className:"doctorSearch",children:[(0,V.jsx)("div",{className:"docNameSearch",children:(0,V.jsx)(w.Z,{disablePortal:!0,id:"combo-box-demo",size:"small",options:this.state.DoctorSearchData,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.fullName},onChange:function(e,t){null!==t?N().get("/doctor-search-by-name/".concat(null===t||void 0===t?void 0:t.dr_given_name)).then((function(e){c.setState({DoctorSearchData:e.data})})).catch((function(e){P()("Warning!","Data not found","warning")})):N().get("/all-doctors-booking").then((function(e){c.setState({DoctorSearchData:e.data.doctors})}))},sx:{width:200},renderInput:function(e){return(0,V.jsx)(O.Z,(0,n.Z)((0,n.Z)({},e),{},{label:"Doctors"}))}})}),(0,V.jsx)("div",{className:"deptSearch",children:(0,V.jsx)(w.Z,{disablePortal:!0,id:"combo-box-demo",size:"small",options:this.state.doctorDepartment,getOptionLabel:function(e){return e.departments_name},onChange:function(e,t){null!==t?N().get("/doctor-search/".concat(t.id)).then((function(e){c.setState({DoctorSearchDataForDepartment:e.data})})).catch((function(e){P()("Warning!","Data not found","warning")})):c.setState({DoctorSearchDataForDepartment:!1})},sx:{width:200},renderInput:function(e){return(0,V.jsx)(O.Z,(0,n.Z)((0,n.Z)({},e),{},{label:"Department"}))}})}),(0,V.jsx)("div",{children:0==this.state.DoctorSearchDataForDepartment?(0,V.jsx)(V.Fragment,{}):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(w.Z,{multiple:!0,id:"checkboxes-tags-demo",size:"small",options:this.state.DoctorSearchDataForDepartment,disableCloseOnSelect:!0,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.dr_given_name},onChange:function(e,t){t.length>0?c.setState({DoctorSearchData:t}):N().get("/all-doctors-booking").then((function(e){c.setState({DoctorSearchData:e.data.doctors})}))},renderOption:function(e,t,a){var s=a.selected;return(0,V.jsxs)("li",(0,n.Z)((0,n.Z)({},e),{},{children:[(0,V.jsx)(E.Z,{icon:ae,checkedIcon:ne,style:{marginRight:8},checked:s}),null===t||void 0===t?void 0:t.dr_given_name]}))},style:{width:200},renderInput:function(e){return(0,V.jsx)(O.Z,(0,n.Z)((0,n.Z)({},e),{},{label:"Selected Doctors",placeholder:"Doctors"}))}})})})]}),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(A(),{trigger:this.reactToPrintTrigger,content:function(){return c.componentRef}}),(0,V.jsx)("i",{class:"fa-solid fa-user-plus",onClick:function(){return c.setState({showModal:!0,add_app_outside_of_schedule:!0})},style:{marginLeft:"13px",marginTop:"-6px",cursor:"pointer"}})]})]}),""===this.state.DoctorSearchData?(0,V.jsx)("div",{className:"schedule-control-section",children:(0,V.jsxs)("div",{className:"col-lg-12 control-section",children:[(0,V.jsx)("div",{className:"control-wrapper",children:(0,V.jsxs)(d.i,{eventRendered:this.onEventRendered.bind(this),ref:function(e){return c.scheduleObj=e},allowResizing:!0,timeScale:{enable:!0,interval:60,slotCount:6},currentView:"Day","categorizeSettings-enable":!0,minDate:new Date(2020,12,12),width:"100%",height:"650px",selectedDate:(new Date).toLocaleDateString(),eventSettings:{dataSource:this.data,enableTooltip:!0,fields:{id:"Id",subject:{name:"Subject",title:"Patient Name",validation:{required:!0}},location:{name:"Location",title:"Mobile No",validation:{required:!0}},description:{name:"Description",title:"Notes"},startTime:{name:"StartTime",title:"Start Duration",validation:{required:!0}},endTime:{name:"EndTime",title:"End Duration",validation:{required:!0}}}},group:{byGroupID:!1,resources:["Doctors"]},actionBegin:this.onActionBegin.bind(this),rowAutoHeight:!0,popupOpen:this.onPopupOpen.bind(this),children:[(0,V.jsx)(h.Y,{children:(0,V.jsx)(h.h,{field:"DoctorID",title:"Select Doctors",name:"Doctors",allowMultiple:!0,dataSource:this.state.DoctorSearchData,textField:"fullName",idField:"id"})}),(0,V.jsxs)(p.S,{children:[(0,V.jsx)(p.R,{option:"Day",startHour:"00:00",endHour:"24:00",timeScale:{enable:!0,slotCount:6}}),(0,V.jsx)(p.R,{option:"Week",startHour:"00:00",endHour:"24:00"}),(0,V.jsx)(p.R,{option:"WorkWeek",workDays:[7,0,1,2,3,4],startHour:"00:00",endHour:"24:00"}),(0,V.jsx)(p.R,{option:"Month",startHour:"00:00",endHour:"24:00"})]}),(0,V.jsx)(m.tB,{services:[u.J,v.H,g.U,j.m,x.B,f.t,b.l,D.j]})]})}),(0,V.jsx)(M.G,{cssClass:"schedule-context-menu",ref:function(e){return c.menuObj=e},target:".e-schedule",beforeOpen:this.onContextMenuBeforeOpen.bind(this),items:this.menuItems,select:this.onMenuItemSelect.bind(this)}),(0,V.jsxs)("div",{className:"legendField custom-card",children:[(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle arrived"}),"Arrived"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle unavilable"}),"Unavailable"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle waiting"}),"Waiting"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle withdoctors"}),"With Doctors"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle attbilling"}),"At billing"]}),(0,V.jsxs)("div",{className:"legendLevel",children:[(0,V.jsx)("span",{className:"e-menu-icon fas fa-circle notattend"}),"Did not attend"]})]})]})}):(0,V.jsx)("div",{className:"schedule-control-section",children:(0,V.jsxs)("div",{className:"control-section",children:[(0,V.jsx)("div",{className:"control-wrapper",children:(0,V.jsxs)(d.i,{eventRendered:this.onEventRendered.bind(this),ref:function(e){return c.scheduleObj=e},allowResizing:!0,currentView:"Day","categorizeSettings-enable":!0,minDate:new Date(2020,12,12),cssClass:"group-bychild",width:"100%",height:"650px",selectedDate:(new Date).toLocaleDateString(),eventSettings:{dataSource:this.data,enableTooltip:!0,fields:{id:"Id",subject:{name:"Subject",title:"Patient Name",validation:{required:!0}},location:{name:"Location",title:"Mobile No",validation:{required:!0}},description:{name:"Description",title:"Notes"},startTime:{name:"StartTime",title:"Start Duration",validation:{required:!0}},endTime:{name:"EndTime",title:"End Duration",validation:{required:!0}}}},group:{byGroupID:!1,resources:["Doctors"]},actionBegin:this.onActionBegin.bind(this),rowAutoHeight:!0,popupOpen:this.onPopupOpen.bind(this),children:[(0,V.jsx)(h.Y,{children:(0,V.jsx)(h.h,{field:"DoctorID",title:"Select Doctors",name:"Doctors",allowMultiple:!0,dataSource:this.state.DoctorSearchData,textField:"fullName",idField:"id"})}),(0,V.jsxs)(p.S,{children:[(0,V.jsx)(p.R,{option:"Day",startHour:"08:00",endHour:"24:00",timeScale:{enable:!0,slotCount:6}}),(0,V.jsx)(p.R,{option:"Week",startHour:"00:0",endHour:"24:00"}),(0,V.jsx)(p.R,{option:"WorkWeek",workDays:[7,0,1,2,3,4],startHour:"00:00",endHour:"24:00"}),(0,V.jsx)(p.R,{option:"Month",startHour:"00:00",endHour:"24:00"})]}),(0,V.jsx)(m.tB,{services:[u.J,v.H,g.U,j.m,x.B,D.j,f.t,b.l,D.j]})]})}),(0,V.jsx)(M.G,{cssClass:"schedule-context-menu",ref:function(e){return c.menuObj=e},target:".e-schedule",beforeOpen:this.onContextMenuBeforeOpen.bind(this),items:this.menuItems,select:this.onMenuItemSelect.bind(this)}),(0,V.jsx)(K,{})]})})]})]})}}]),a}(S)}}]);
//# sourceMappingURL=141.f46e0735.chunk.js.map