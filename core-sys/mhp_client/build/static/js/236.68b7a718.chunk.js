"use strict";(self.webpackChunkmacro_health_plus_client_side=self.webpackChunkmacro_health_plus_client_side||[]).push([[236],{73236:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var i=n(74165),l=n(1413),a=n(15861),o=n(29439),s=n(72791),r=n(43504),d=n(74569),u=n.n(d),c=(n(37995),n(15617)),v=n.n(c),f=(n(31052),n(72426)),m=n.n(f),p=n(21830),h=n.n(p),_=(n(93119),n(63793)),b=n(87245),x=n(56161),j=n(49578),g=n(50796),w=n(31938),N=n(80184);var S=function(){var t=(0,s.useState)(!0),e=(0,o.Z)(t,2),d=e[0],f=e[1],p=(0,s.useState)([]),S=(0,o.Z)(p,2),y=S[0],Z=S[1],A=(0,s.useState)(null),C=(0,o.Z)(A,2),k=C[0],B=C[1],Y=(0,s.useState)([]),P=(0,o.Z)(Y,2),T=P[0],D=P[1],E=(0,s.useState)([]),M=(0,o.Z)(E,2),z=M[0],U=M[1],I=(0,b.Z)().SaasAuthURL,L=(0,_.Z)();(0,s.useEffect)((function(){var t=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){var e,n,a,o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.X)(I+"/branch/service/find-branch-by-organizationId");case 2:200===(e=t.sent).status&&(o=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.map((function(t){return(0,l.Z)((0,l.Z)({},t),{},{value:t.id,label:t.name})})),U(o));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){}}),[I]),(0,s.useEffect)((function(){var t=y;return k&&(t=null===y||void 0===y?void 0:y.filter((function(t){return(null===t||void 0===t?void 0:t.saas_branch_id)===(null===k||void 0===k?void 0:k.value)}))),D(t),function(){}}),[k,y]),(0,s.useEffect)((function(){u().get("patients").then((function(t){var e;(console.log(t.data),200===t.status)&&(Z(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.patients),f(!1))}))}),[]);var R=[{title:"Name",field:"fullName",render:function(t){return(0,N.jsxs)("div",{children:[(0,w.I)(null===t||void 0===t?void 0:t.patient_images)?(0,N.jsx)("img",{className:"me-2",src:"".concat(n.g.img_url,"/images/files/").concat(null===t||void 0===t?void 0:t.patient_images),width:"20px",alt:"no_img"}):(0,N.jsx)("img",{className:"me-2",src:"https://static.thenounproject.com/png/363640-200.png",width:"20px",alt:"No Image1"}),null===t||void 0===t?void 0:t.fullName]})},cellStyle:{width:300}},{title:"HN No",headerStyle:{whiteSpace:"nowrap"},field:"patient_hn_number",render:function(t){return(0,N.jsx)("div",{children:(0,N.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[" ",null==(null===t||void 0===t?void 0:t.patient_hn_number)?"":(0,g.k7)(null===t||void 0===t?void 0:t.patient_hn_number)]})})},cellStyle:{width:150}},{title:"Branch",field:"saas_branch_name"},{title:"Mobile",field:"patient_mobile_phone",render:function(t){var e;return(0,N.jsx)("span",{style:{whiteSpace:"nowrap"},children:null==(null===t||void 0===t?void 0:t.patient_mobile_phone)?"":null!==t&&void 0!==t&&null!==(e=t.patient_mobile_phone)&&void 0!==e&&e.startsWith("0")?(0,g.un)("+88".concat(null===t||void 0===t?void 0:t.patient_mobile_phone)):(0,g.un)(null===t||void 0===t?void 0:t.patient_mobile_phone)})}},{title:"Email",field:"patient_email",render:function(t){return(0,N.jsx)("div",{children:null==(null===t||void 0===t?void 0:t.patient_email)?"":null===t||void 0===t?void 0:t.patient_email})}},{title:"DOB",field:"patient_dob",render:function(t){return(0,N.jsx)("div",{children:null==(null===t||void 0===t?void 0:t.patient_dob)?"":m()(null===t||void 0===t?void 0:t.patient_dob).format("MM/DD/YYYY")})}},{title:"Status",field:"patient_status",render:function(t){var e;return(0,N.jsx)("div",{children:null==(null===t||void 0===t?void 0:t.statuses)?"":null===t||void 0===t||null===(e=t.statuses)||void 0===e?void 0:e.status_name})}},{title:"Sex",field:"patient_birth_sex_id",render:function(t){var e;return(0,N.jsx)("div",{children:null==(null===t||void 0===t?void 0:t.patient_birth_sex_id)?"":null===t||void 0===t||null===(e=t.patient_birth_sex)||void 0===e?void 0:e.birth_sex_name})}},{title:"Action",field:"patient",render:function(t){return(0,N.jsxs)("div",{className:"text-center",style:{fontSize:"3px"},children:[(0,N.jsx)(r.rU,{to:"/edit-patients/".concat(null===t||void 0===t?void 0:t.id),className:"btn action-btn btn-sm","data-bs-toggle":"tooltip",title:"Edit Patients",children:(0,N.jsx)("i",{className:"far fa-edit"})}),"\xa0",(0,N.jsxs)("button",{onClick:function(e){return function(t,e){t.preventDefault();var n=t.currentTarget;h().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&(u().delete("/delete-patients/".concat(e)).then((function(t){200===t.data.status&&n.closest("tr").remove()})),h().fire("Deleted!","Your data has been deleted.","success"))}))}(e,null===t||void 0===t?void 0:t.id)},className:"btn action-btn btn-sm",children:[" ",(0,N.jsx)("i",{className:"far fa-trash"})," "]}),"\xa0",(0,N.jsx)(r.rU,{to:"/patients-profile/".concat(null===t||void 0===t?void 0:t.id),className:"btn action-btn btn-sm","data-bs-toggle":"tooltip",title:"Patients Profile",children:(0,N.jsx)("i",{className:"far fa-user-alt"})})]})}}],F=(0,s.useMemo)((function(){return null!==L&&void 0!==L&&L.isSuperAdmin?R:R.filter((function(t){return"saas_branch_name"!==t.field}))}),[null===L||void 0===L?void 0:L.isSuperAdmin,R]);return(0,N.jsxs)("div",{className:"ms-2 all-patients mt-2",children:[(0,N.jsx)("div",{className:"custom-card patients-head",children:(0,N.jsxs)("h5",{className:"fw-normal py-2 px-2 \xa0text-start mb-2 text-login",children:["Patients List",(0,N.jsxs)(r.rU,{to:"/newpatient",className:"btn btn-primary me-1 btn-sm float-end",children:["Add Patients"," "]})]})}),(0,N.jsx)("div",{className:"custom-card patient-table mt-2",children:(0,N.jsx)(v(),{columns:F,data:T,isLoading:d,options:{search:!0,showTitle:!1,searchFieldAlignment:"left",searchFieldStyle:{borderRadius:16},pageSize:10,emptyRowsWhenPaging:!1,pageSizeOptions:[5,10,20,50,100]},components:{Toolbar:function(t){return(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,N.jsx)(c.MTableToolbar,(0,l.Z)({},t)),(null===L||void 0===L?void 0:L.isSuperAdmin)&&(0,N.jsx)("div",{className:"filter me-2",children:(0,N.jsx)(j.Z,{value:k,options:z,onChange:function(t){B(t||null)},placeholder:"Select Branch"})})]})}}})})]})};var y=function(){return(0,N.jsx)(S,{})}}}]);
//# sourceMappingURL=236.68b7a718.chunk.js.map